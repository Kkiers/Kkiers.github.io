<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>TINSIR888&#39;s ZION</title>
  
  <subtitle>Some notes/articles and so on...</subtitle>
  <link href="https://tinsir888.github.io/atom.xml" rel="self"/>
  
  <link href="https://tinsir888.github.io/"/>
  <updated>2023-06-10T12:40:08.885Z</updated>
  <id>https://tinsir888.github.io/</id>
  
  <author>
    <name>tinsir888</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>德语学习 B1 Lektion 6 Lernen</title>
    <link href="https://tinsir888.github.io/posts/c8050fda.html"/>
    <id>https://tinsir888.github.io/posts/c8050fda.html</id>
    <published>2023-06-11T16:00:00.000Z</published>
    <updated>2023-06-10T12:40:08.885Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>动手强化学习 第十四章 多智能体强化学习</title>
    <link href="https://tinsir888.github.io/posts/8c0a0aa5.html"/>
    <id>https://tinsir888.github.io/posts/8c0a0aa5.html</id>
    <published>2023-06-09T16:00:00.000Z</published>
    <updated>2023-06-10T12:40:08.870Z</updated>
    
    <content type="html"><![CDATA[<h1 id="marl-简介"><a class="markdownIt-Anchor" href="#marl-简介"></a> MARL 简介</h1><p>强化学习：智能体与环境交互，智能体感知环境结果，做出动作，得到环境反馈的奖励。</p><p>环境要是<strong>稳态</strong>的：某些分布是确定不变的，否则不能保证强化学习的收敛性</p><h2 id="marl-的例子"><a class="markdownIt-Anchor" href="#marl-的例子"></a> MARL 的例子</h2><p>去中心化的游戏人工智能</p><ul><li>为复杂的集体游戏智能设计多智能体通信和协同学习的算法</li><li>英雄联盟、星际争霸等</li></ul><p>城市交通</p><ul><li><p>车辆路由策略</p></li><li><p>交通灯控制</p></li><li><p>车队管理以及出租车调度</p></li></ul><p>分拣机器人</p><h2 id="marl-的难点"><a class="markdownIt-Anchor" href="#marl-的难点"></a> MARL 的难点</h2><p>原理上困难</p><ul><li>多智能体不仅要与环境交互，还要相互进行交互</li><li>将其它智能体当作环境的一部分进行学习，会导致训练出的智能体不稳定！因为理论上这样定义环境不稳定（数据分布非稳态），训练过程不收敛</li></ul><h1 id="marl-问题定义"><a class="markdownIt-Anchor" href="#marl-问题定义"></a> MARL 问题定义</h1><p>环境的稳态：条件概率的分布是固定的</p><p>序贯决策的三种问题</p><ol><li>马尔可夫决策过程<ul><li>一个智能体</li><li>多个状态</li></ul></li><li>重复博弈<ul><li>多个智能体</li><li>一个状态</li></ul></li><li>随机博弈（马尔可夫博弈）<ul><li>多个智能体</li><li>多个状态</li></ul></li></ol><p>MARL 的任务属于随机博弈</p><h3 id="随机博弈"><a class="markdownIt-Anchor" href="#随机博弈"></a> 随机博弈</h3><p>表格型强化学习设置下，每个状态对应一个博弈表格</p><p>每个时间步，所有智能体在当前博弈表格中同时选择自己的动作</p><p>根据智能体共同决定的博弈表格单元分配给智能体奖励</p><p>博弈根据状态和联合动作转移到下一个状态，对应另一个博弈表格</p><p>一般情况下，奖励值随时间步衰减</p><h3 id="随即博弈的问题定义"><a class="markdownIt-Anchor" href="#随即博弈的问题定义"></a> 随即博弈的问题定义</h3><p>一个随机博弈可以定义成元组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>N</mi><mo separator="true">,</mo><mi mathvariant="script">S</mi><mo separator="true">,</mo><mi mathvariant="script">A</mi><mo separator="true">,</mo><mi mathvariant="script">R</mi><mo separator="true">,</mo><mi>p</mi><mo separator="true">,</mo><mi>γ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(N,\mathcal S,\mathcal A,\mathcal R,p,\gamma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mclose">)</span></span></span></span></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 是智能体的数目</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> 是所有智能体的状态集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">A</mi><mo>=</mo><msub><mi>A</mi><mn>1</mn></msub><mo>×</mo><msub><mi>A</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>A</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal A=A_1\times A_2\times\cdots\times A_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所有智能体的动作集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">R</mi><mo>=</mo><msub><mi>r</mi><mn>1</mn></msub><mo>×</mo><msub><mi>r</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>r</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal R=r_1\times r_2\times\cdots\times r_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所有智能体的奖励函数集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>:</mo><mi mathvariant="script">S</mi><mo>×</mo><mi mathvariant="script">A</mi><mo>→</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p:\mathcal S\times\mathcal A\rightarrow\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 是环境转移的概率，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> 的分布集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gamma\in(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 是奖励随时间步的衰减因子</li></ul><p>对于一个随即博弈中的每一个智能体 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>，其策略表示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>i</mi></msub><mo>:</mo><mi mathvariant="script">S</mi><mo>→</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_i:\mathcal S\rightarrow\Omega(A_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>所有智能体的联合策略可表示为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="bold">π</mtext><mo>=</mo><mo stretchy="false">[</mo><msub><mi>π</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>π</mi><mi>N</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\textbf π=[\pi_1,\cdots,\pi_N]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mord text"><span class="mord textbf">π</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>所有智能体的联合动作可表示为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="bold">a</mtext><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>N</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\textbf a=[a_1,\cdots,a_N]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44444em;vertical-align:0em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>基于联合策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="bold">π</mtext></mrow><annotation encoding="application/x-tex">\textbf π</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mord text"><span class="mord textbf">π</span></span></span></span></span>，智能体 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 在状态 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span> 下的价值为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>V</mi><mi>i</mi><mi>π</mi></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msub><mi mathvariant="double-struck">E</mi><mrow><mtext mathvariant="bold">π</mtext><mo separator="true">,</mo><mi>p</mi></mrow></msub><mo stretchy="false">[</mo><msubsup><mi>r</mi><mi>i</mi><mi>t</mi></msubsup><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mn>0</mn></msub><mo>=</mo><mi>s</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">V_i^\pi(s)=\sum_{t=0}^\infty\gamma^t\mathbb E_{\textbf π,p}[r_i^t|s_0=s]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">π</span></span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-2.441336em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mclose">]</span></span></span></span></p><p>基于联合策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="bold">π</mtext></mrow><annotation encoding="application/x-tex">\textbf π</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mord text"><span class="mord textbf">π</span></span></span></span></span>，智能体 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 在状态行动对 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(s,\textbf a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span></span></span></span> 下的价值为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Q</mi><mi>i</mi><mi>π</mi></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo><mo>=</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi></mrow></msub><mo stretchy="false">[</mo><msubsup><mi>V</mi><mi>i</mi><mi>π</mi></msubsup><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q^\pi_i(s,\textbf a)=r_i(s,\textbf a)+\gamma\mathbb E_{s&#x27;\sim p}[V_i^\pi(s&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.038em;vertical-align:-0.286108em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32798em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><h3 id="marl-方法分类"><a class="markdownIt-Anchor" href="#marl-方法分类"></a> MARL 方法分类</h3><p>完全中心化：将所有智能体看成一个超级智能体在做决策。优点：环境是稳态 缺点：但复杂度高</p><p>完全去中心化：每个智能体都独立进行学习，不考虑其它智能体的改变。优点：简单好实现 缺点：环境非稳态，可能不收敛</p><p>中心化训练，去中心化执行：训练时使用一些单个智能体看不到的全局信息，执行时不使用这些信息。介于完全中心化和完全去中心化方法之间</p><h1 id="完全中心化方法"><a class="markdownIt-Anchor" href="#完全中心化方法"></a> 完全中心化方法</h1><h3 id="整体智能体"><a class="markdownIt-Anchor" href="#整体智能体"></a> 整体智能体</h3><p>对于合作任务，可以将 N 个智能体堪称一个大的智能体，每次在具体的状态下，直接选择联合联合动作，以每个智能体获得的奖励之和作为大智能体的奖励。</p><p>缺点：</p><ol><li>动作空间太大，状态转移和奖励函数复杂度太高</li><li>无法处理<strong>非合作</strong>任务</li></ol><h3 id="纳什-q-学习"><a class="markdownIt-Anchor" href="#纳什-q-学习"></a> 纳什 Q 学习</h3><p>给定联合策略，针对智能体 i 优化其状态价值函数依赖于联合策略</p><p>在随机博弈中的纳什均衡可以由一个联合策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mtext mathvariant="bold">π</mtext><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\textbf π^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord text"><span class="mord textbf">π</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span> 来表示，使得没有任何一个智能体有动机去进一步修改其策略</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>V</mi><mi>i</mi><mrow><mtext mathvariant="bold">π</mtext><mo>∗</mo></mrow></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>≥</mo><msub><mi>V</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msub><mi>π</mi><mi>i</mi></msub><mo separator="true">,</mo><msubsup><mtext mathvariant="bold">π</mtext><mrow><mo>−</mo><mi>i</mi></mrow><mo>∗</mo></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V_i^{\textbf π*}(s)\geq V_i(s,\pi_i,\textbf π_{-i}^*)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">π</span></span><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.066995em;vertical-align:-0.316995em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord text"><span class="mord textbf">π</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.316995em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><msub><mi>π</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\forall\pi_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord">∀</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>给定纳什策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mtext mathvariant="bold">π</mtext><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\textbf π^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord text"><span class="mord textbf">π</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>，其纳什价值函数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mrow><mi>N</mi><mi>a</mi><mi>s</mi><mi>h</mi></mrow></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">[</mo><msubsup><mi>V</mi><mn>1</mn><mrow><mtext mathvariant="bold">π</mtext><mo>∗</mo></mrow></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msubsup><mi>V</mi><mn>2</mn><mrow><mtext mathvariant="bold">π</mtext><mo>∗</mo></mrow></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msubsup><mi>V</mi><mi>N</mi><mrow><mtext mathvariant="bold">π</mtext><mo>∗</mo></mrow></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">V_{Nash}(s)=[V_1^{\textbf π*}(s),V_2^{\textbf π*}(s),\cdots,V_N^{\textbf π*}(s)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.025331em;vertical-align:-0.275331em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.4518920000000004em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">π</span></span><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.4518920000000004em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">π</span></span><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.424669em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">π</span></span><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.275331em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>考虑到智能体 i 在状态行动对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(s,\textbf a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span></span></span></span> 下的价值为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Q</mi><mi>i</mi><mi>π</mi></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo><mo>=</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi></mrow></msub><mo stretchy="false">[</mo><msubsup><mi>V</mi><mi>i</mi><mi>π</mi></msubsup><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q^\pi_i(s,\textbf a)=r_i(s,\textbf a)+\gamma\mathbb E_{s&#x27;\sim p}[V_i^\pi(s&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.038em;vertical-align:-0.286108em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32798em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>纳什 Q 学习进行一下两步操作，直到收敛</p><ol><li>基于当前每个状态的 Q 值表，求解纳什均衡，以及每个状态的纳什价值函数</li><li>基于纳什价值函数，更新 Q 值表</li></ol><p>作为一种完全中心化的方法，纳什 Q 学习的缺点</p><ol><li>计算复杂度太高</li><li>无法处理非合作的博弈场景</li></ol><h1 id="完全去中心化方法"><a class="markdownIt-Anchor" href="#完全去中心化方法"></a> 完全去中心化方法</h1><p>简单好实现，但是很可能不收敛</p><p>一个随机博弈可以定义成元组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>N</mi><mo separator="true">,</mo><mi mathvariant="script">S</mi><mo separator="true">,</mo><mi mathvariant="script">A</mi><mo separator="true">,</mo><mi mathvariant="script">R</mi><mo separator="true">,</mo><mi>p</mi><mo separator="true">,</mo><mi>γ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(N,\mathcal S,\mathcal A,\mathcal R,p,\gamma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mclose">)</span></span></span></span></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 是智能体的数目</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi><mo>=</mo><msub><mi>S</mi><mn>1</mn></msub><mo>×</mo><msub><mi>S</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>S</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal S=S_1\times S_2\times\cdots\times S_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所有智能体的状态集合 <strong>完全去中心化的方法可以让每个智能体的局部感知状态不同。</strong></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">A</mi><mo>=</mo><msub><mi>A</mi><mn>1</mn></msub><mo>×</mo><msub><mi>A</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>A</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal A=A_1\times A_2\times\cdots\times A_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所有智能体的动作集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">R</mi><mo>=</mo><msub><mi>r</mi><mn>1</mn></msub><mo>×</mo><msub><mi>r</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>r</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal R=r_1\times r_2\times\cdots\times r_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所有智能体的奖励函数集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>:</mo><mi mathvariant="script">S</mi><mo>×</mo><mi mathvariant="script">A</mi><mo>→</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p:\mathcal S\times\mathcal A\rightarrow\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 是环境转移的概率，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> 的分布集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gamma\in(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 是奖励随时间步的衰减因子</li></ul><p>独立 Q 学习：对智能体 i，假设其它智能体策略不变，直接 Q 学习</p><ul><li>此处环境的奖励还是基于联合动作，后期会变化导致可能不收敛</li></ul><p>独立 PPO：对智能体 i，建设其它智能体策略是不变的，直接 PPO</p><h1 id="中心化训练去中心化执行"><a class="markdownIt-Anchor" href="#中心化训练去中心化执行"></a> 中心化训练，去中心化执行</h1><p>aka CTDE, centralized training with decentralized execution</p><p>在训练的时候使用一些单个智能体看不到的全局信息而达到更好的训练效果，而在执行时不使用这些信息，每个智能体完全根据自己的策略直接行动，以达到去中心化执行的效果。</p><p><img src="/pic/rlpics/10.PNG" alt="CTDE 图示" /></p><h2 id="ctde-问题建模"><a class="markdownIt-Anchor" href="#ctde-问题建模"></a> CTDE 问题建模</h2><p>建模为部分可观测马尔可夫博弈元组</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 是智能体的数目</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> 是所有智能体的状态集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">A</mi></mrow><annotation encoding="application/x-tex">\mathcal A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span></span></span></span> 是所有智能体的动作集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>:</mo><mi mathvariant="script">S</mi><mo>×</mo><mi mathvariant="script">A</mi><mo>→</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p:\mathcal S\times\mathcal A\rightarrow\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 是环境转移的概率，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> 的分布集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gamma\in(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 是奖励随时间步的衰减因子</li><li>对于每个智能体 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>O</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">O_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是其关测集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是其动作集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>i</mi></msub><mo>:</mo><msub><mi>O</mi><mi>i</mi></msub><mo>→</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_i:O_i\rightarrow\Omega(A_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mi>i</mi></msub><mo>:</mo><mi>S</mi><mo>×</mo><mi mathvariant="script">A</mi><mo>→</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">r_i:S\times\mathcal A\rightarrow\mathbb R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">R</span></span></span></span> 是奖励函数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>r</mi><mi>i</mi><mi>t</mi></msubsup></mrow><annotation encoding="application/x-tex">r_i^t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.05222em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-2.441336em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> 表示在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathnormal">t</span></span></span></span> 时间步获得的具体奖励信号</li><li>目标是最大化期望累积奖励 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi>T</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msubsup><mi>r</mi><mi>i</mi><mi>t</mi></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R_i=\mathbb E[\sum_{t=0}^T\gamma^tr_i^t]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-2.441336em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></li></ul></li></ul><h2 id="ctde-算法maddpg"><a class="markdownIt-Anchor" href="#ctde-算法maddpg"></a> CTDE 算法：MADDPG</h2><p>MADDPG</p><ul><li>每个智能体 i 是一个 Actor-Critic</li><li>Actor 策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>o</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mu_i(a_i|o_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 是自己独有的，只能局部关测</li><li>Critic 价值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Q</mi><mi>i</mi><mi>μ</mi></msubsup><mo stretchy="false">(</mo><mtext mathvariant="bold">x</mtext><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>N</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_i^\mu(\textbf x,a_1,\cdots,a_N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.059164em;vertical-align:-0.276864em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7823em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.276864em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord textbf">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 则是所有智能体贡献的，具有全局信息</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>o</mi><mi>N</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf x=(o_1,o_2,\cdots,o_N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44444em;vertical-align:0em;"></span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 为所有智能体的观测</li></ul><p>对于确定性策略来说，考虑 N 个连续策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">\mu_\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，其 DDPG 梯度公式为：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">∇</mi><msub><mi>θ</mi><mi>i</mi></msub></msub><mi>J</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>x</mi><mo>∼</mo><mi mathvariant="script">D</mi></mrow></msub><mo stretchy="false">[</mo><msub><mi mathvariant="normal">∇</mi><msub><mi>θ</mi><mi>i</mi></msub></msub><msub><mi>μ</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mi>i</mi></msub><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∇</mi><msub><mi>a</mi><mi>i</mi></msub></msub><msubsup><mi>Q</mi><mi>i</mi><mi>μ</mi></msubsup><mo stretchy="false">(</mo><mtext mathvariant="bold">x</mtext><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>N</mi></msub><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∣</mi><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>=</mo><msub><mi>μ</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\nabla_{\theta_i}J(\mu_i)=\mathbb E_{x\sim\mathcal D}[\nabla_{\theta_i}\mu_i(o_i)\nabla_{a_i}Q_i^\mu(\textbf x,a_1,\cdots,a_N)|_{a_i=\mu_i(o_i)}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1375em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∼</span><span class="mord mathcal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7823em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.276864em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord textbf">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mtight"><span class="mord mathnormal mtight">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><ul><li>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">D</mi></mrow><annotation encoding="application/x-tex">\mathcal D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span></span></span> 为经验回放池，里面存储的数据单元为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mtext mathvariant="bold">x</mtext><mo separator="true">,</mo><msup><mtext mathvariant="bold">x</mtext><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>N</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>r</mi><mi>N</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\textbf x,\textbf x&#x27;,a_1,\cdots,a_N,r_1,\cdots,r_N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord textbf">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord text"><span class="mord textbf">x</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li></ul><p>对于中心化的 critic 价值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Q</mi><msub><mi>ω</mi><mi>i</mi></msub><mi>μ</mi></msubsup><mo stretchy="false">(</mo><mtext mathvariant="bold">x</mtext><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>N</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q^\mu_{\omega_i}(\textbf x,a_1,\cdots,a_N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0971em;vertical-align:-0.34709999999999996em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.34709999999999996em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord textbf">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 则通过时序差分来学习。</p><p><img src="/pic/rlpics/11.PNG" alt="MADDPG 算法流程" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;marl-简介&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#marl-简介&quot;&gt;&lt;/a&gt; MARL 简介&lt;/h1&gt;
&lt;p&gt;强化学习：智能体与环境交互，智能体感知环境结果，做出动作，得到环境反馈的奖励。&lt;/p&gt;
&lt;p&gt;环境要是&lt;stron</summary>
      
    
    
    
    <category term="动手学习强化学习课程笔记" scheme="https://tinsir888.github.io/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="强化学习" scheme="https://tinsir888.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>动手强化学习 第八章 深度强化学习策略方法</title>
    <link href="https://tinsir888.github.io/posts/4b190c36.html"/>
    <id>https://tinsir888.github.io/posts/4b190c36.html</id>
    <published>2023-05-28T16:00:00.000Z</published>
    <updated>2023-06-10T12:40:08.885Z</updated>
    
    <content type="html"><![CDATA[<h1 id="a3c"><a class="markdownIt-Anchor" href="#a3c"></a> A3C</h1><h2 id="actor-critic"><a class="markdownIt-Anchor" href="#actor-critic"></a> Actor-Critic</h2><ul><li>演员采取动作使评论家满意</li><li>评论家学会准确估计演员策略所采取动作价值的值函数</li></ul><h2 id="a2c"><a class="markdownIt-Anchor" href="#a2c"></a> A2C</h2><p>Advantage Actor-Critic</p><p>通过减去一个基线函数来优化评论家的打分</p><ul><li>更多信息指导：降低较差动作概率，提高较优动作概率</li><li>进一步降低方差</li></ul><p>优势函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^\pi(s,a)=Q^\pi(s,a)-V^\pi(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><h2 id="a3c异步-a2c-方法"><a class="markdownIt-Anchor" href="#a3c异步-a2c-方法"></a> A3C：异步 A2C 方法</h2><p>Asynchronous Advantage Actor-Critic</p><ul><li>异步：算法涉及并执行一组环境</li><li>优势：策略梯度的更行使用优势函数</li><li>动作评价</li></ul><p><img src="/pic/rlpics/8.PNG" alt="A3C 示意图" /></p><p>Global Network 是表演者和评论家的所在</p><p>这些 Workers 学习完一段时间后，产生梯度，传到 global network 中去。更新完全局网络后参数又同步到所有 workers 上去。这样的好处是并行化，提升性能。</p><p><img src="/pic/rlpics/9.PNG" alt="A3C 算法伪代码" /></p><h1 id="确定性策略梯度-dpg"><a class="markdownIt-Anchor" href="#确定性策略梯度-dpg"></a> 确定性策略梯度 DPG</h1><h2 id="随机策略与确定性策略"><a class="markdownIt-Anchor" href="#随机策略与确定性策略"></a> 随机策略与确定性策略</h2><ul><li>随机策略<ul><li>对于离散动作：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>exp</mi><mo>⁡</mo><mo stretchy="false">{</mo><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><mrow><msub><mi mathvariant="normal">Σ</mi><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mi>exp</mi><mo>⁡</mo><mo stretchy="false">{</mo><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\pi(a|s;\theta)=\frac{\exp\{Q_\theta(s,a)\}}{\Sigma_{a&#x27;}\exp\{Q_\theta(s,a&#x27;)\}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53842em;vertical-align:-0.52842em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2620285714285715em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">e</span><span class="mtight">x</span><span class="mtight">p</span></span><span class="mopen mtight">{</span><span class="mord mtight"><span class="mord mathnormal mtight">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mclose mtight">}</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">e</span><span class="mtight">x</span><span class="mtight">p</span></span><span class="mopen mtight">{</span><span class="mord mtight"><span class="mord mathnormal mtight">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mclose mtight">)</span><span class="mclose mtight">}</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52842em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li><li>对于连续动作：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>∝</mo><mi>exp</mi><mo>⁡</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>a</mi><mo>−</mo><msub><mi>μ</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\pi(a|s;\theta)\propto\exp\{(a-\mu_\theta(s))^2\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∝</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">exp</span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></li></ul></li><li>确定性策略<ul><li>对于离散动作：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>arg</mi><mo>⁡</mo><msub><mo><mi>max</mi><mo>⁡</mo></mo><mi>a</mi></msub><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi(s;\theta)=\arg\max_aQ_\theta(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">ar<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span> 不可微</li><li>对于连续动作：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mi>π</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a=\pi(s;\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span> 可微</li></ul></li></ul><h2 id="确定性策略梯度"><a class="markdownIt-Anchor" href="#确定性策略梯度"></a> 确定性策略梯度</h2><p>用于估计状态-动作值的评论家模块</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><mi>w</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>≃</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q^w(s,a)\simeq Q^\pi(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>s</mi><mo>∼</mo><msup><mi>ρ</mi><mi>π</mi></msup><mo separator="true">,</mo><mi>a</mi><mo>∼</mo><msub><mi>π</mi><mi>θ</mi></msub></mrow></msub><mo stretchy="false">[</mo><mo stretchy="false">(</mo><msup><mi>Q</mi><mi>w</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">L(w)=\mathbb E_{s\sim\rho^\pi,a\sim\pi_\theta}[(Q^w(s,a)-Q^\pi(s,a))^2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.26548em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">ρ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935428571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>确定性策略梯度定理</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>s</mi><mo>∼</mo><msup><mi>ρ</mi><mi>π</mi></msup></mrow></msub><mo stretchy="false">[</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\pi_\theta)=\mathbb E_{s\sim\rho^\pi}[Q^\pi(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.26548em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">ρ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935428571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">∇</mi><mi>θ</mi></msub><mi>J</mi><mo stretchy="false">(</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>s</mi><mo>∼</mo><msup><mi>ρ</mi><mi>π</mi></msup></mrow></msub><mo stretchy="false">[</mo><msub><mi mathvariant="normal">∇</mi><mi>θ</mi></msub><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∇</mi><mi>a</mi></msub><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∣</mi><mrow><mi>a</mi><mo>=</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\nabla_\theta J(\pi_\theta)=\mathbb E_{s\sim\rho^\pi}[\nabla_\theta\pi_\theta(s)\nabla_a Q^\pi(s,a)|_{a=\pi_\theta(s)}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.26548em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">ρ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935428571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><h1 id="深度确定性梯度策略-ddpg"><a class="markdownIt-Anchor" href="#深度确定性梯度策略-ddpg"></a> 深度确定性梯度策略 DDPG</h1><p>在 DPG 的基础上增加</p><ul><li>经验重放（离线策略）</li><li>目标网络</li><li>在动作输入前对 Q 网络做 batch normalization</li><li>添加连续噪声</li></ul><p>目标网络至关重要</p><h1 id="信任区域策略优化-trpo"><a class="markdownIt-Anchor" href="#信任区域策略优化-trpo"></a> 信任区域策略优化 TRPO</h1><h2 id="策略梯度的缺点"><a class="markdownIt-Anchor" href="#策略梯度的缺点"></a> 策略梯度的缺点</h2><p>步长难以确定：</p><ul><li>采集到数据的分布会随策略的更新而变化</li><li>较差的步长产生的影响大，进而导致策略变差</li></ul><h2 id="trpo"><a class="markdownIt-Anchor" href="#trpo"></a> TRPO</h2><p>优化目标：策略梯度</p><p>第一种：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Σ</mi><mi>t</mi></msub><msup><mi>γ</mi><mi>t</mi></msup><mi>r</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_{\tau\sim p_\theta(\tau)}[\Sigma_t\gamma^tr(s_t,a_t)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1487559999999999em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>第二种：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>s</mi><mn>0</mn></msub><mo>∼</mo><msub><mi>p</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_{s_0\sim p_\theta(s_0)}[V^{\pi_\theta}(s_0)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><h3 id="优化目标的优化量"><a class="markdownIt-Anchor" href="#优化目标的优化量"></a> 优化目标的优化量</h3><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>s</mi><mn>0</mn></msub><mo>∼</mo><msub><mi>p</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta&#x27;)-J(\theta)=J(\theta&#x27;)-\mathbb E_{s_0\sim p_\theta(s_0)}[V^{\pi_\theta}(s_0)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=J(\theta&#x27;)-\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[V^{\pi_\theta}(s_0)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.20842em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=J(\theta&#x27;)-\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^tV^{\pi_\theta}(s_t)-\sum_{t=1}^\infty\gamma^tV^{\pi_\theta}(s_t)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>+</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><mo stretchy="false">(</mo><mi>γ</mi><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=J(\theta&#x27;)+\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^t(\gamma V^{\pi_\theta}(s_{t+1})-V^{\pi_\theta}(s_t))]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><mi>r</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>+</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><mo stretchy="false">(</mo><mi>γ</mi><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^tr(s_t,a_t)]+\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^t(\gamma V^{\pi_\theta}(s_{t+1})-V^{\pi_\theta}(s_t))]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^t(r(s_t,a_t)+\gamma V^{\pi_\theta}(s_{t+1})-V^{\pi_\theta}(s_t))]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>A</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^tA^{\pi_\theta}(s_t,a_t)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>优势函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msup><mi>Q</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^{\pi_\theta}(s_t,a_t)=Q^{\pi_\theta}(s_t,a_t)-V^{\pi_\theta}(s_t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><h3 id="使用重要性采样"><a class="markdownIt-Anchor" href="#使用重要性采样"></a> 使用重要性采样</h3><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">J(\theta&#x27;)-J(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>A</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^tA^{\pi_\theta}(s_t,a_t)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mo>∑</mo><mi>t</mi></msub><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>s</mi><mi>t</mi></msub><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>a</mi><mi>t</mi></msub><mo>∼</mo><msub><mi>π</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>A</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\sum_t\mathbb E_{s_t\sim p_{\theta&#x27;(s_t)}}[\mathbb E_{a_t\sim\pi_{\theta&#x27;}(a_t|s_t)}[\gamma^tA^{\pi_\theta}(s_t,a_t)]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2621159999999998em;vertical-align:-0.46856em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1308459999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000008em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.61508em;"></span><span class="mord mathnormal mtight">t</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27027999999999996em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4550857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.46856em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2620285714285715em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.36361999999999994em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mo>∑</mo><mi>t</mi></msub><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>s</mi><mi>t</mi></msub><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>a</mi><mi>t</mi></msub><mo>∼</mo><msub><mi>π</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><mfrac><mrow><msub><mi>π</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></mfrac><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>A</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\sum_t\mathbb E_{s_t\sim p_{\theta&#x27;(s_t)}}[\mathbb E_{a_t\sim\pi_{\theta&#x27;}(a_t|s_t)}[\frac{\pi_{\theta&#x27;}(a_t|s_t)}{\pi_\theta(a_t|s_t)}\gamma^tA^{\pi_\theta}(s_t,a_t)]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53842em;vertical-align:-0.52em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1308459999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000008em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.61508em;"></span><span class="mord mathnormal mtight">t</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27027999999999996em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4550857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.46856em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2620285714285715em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.36361999999999994em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0184199999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.49342em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2620285714285715em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span></p><h3 id="忽略状态分布的差异"><a class="markdownIt-Anchor" href="#忽略状态分布的差异"></a> 忽略状态分布的差异</h3><p>当策略更新前后变化较小时，令 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>≈</mo><msub><mi>p</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p_\theta(s_t)\approx p_{\theta&#x27;}(s_t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><h2 id="策略改进的单调性保证"><a class="markdownIt-Anchor" href="#策略改进的单调性保证"></a> 策略改进的单调性保证</h2><p>每轮迭代都能保证函数值优化</p><h1 id="近端策略优化-ppo"><a class="markdownIt-Anchor" href="#近端策略优化-ppo"></a> 近端策略优化 PPO</h1><p>TRPO 使用 KL 散度约束策略更新的幅度</p><p>TRPO 的不足</p><ul><li>近似带来误差</li><li>求解约束优化问题的困难</li></ul><h2 id="在-trpo-基础上进行改进"><a class="markdownIt-Anchor" href="#在-trpo-基础上进行改进"></a> 在 TRPO 基础上进行改进</h2><ol><li><p>截断式优化目标</p><p>基于 CLIP 的方式，截断式优化 TRPO 中的重要性采样</p></li><li><p>优势函数选用多步时许差分</p><ul><li>每次迭代中，并行 N 个 actor 收集 T 步经验数据</li><li>计算每步的优势函数，构成 mini-batch</li><li>更新参数</li></ul></li><li><p>自适应的 KL 惩罚项参数</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;a3c&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#a3c&quot;&gt;&lt;/a&gt; A3C&lt;/h1&gt;
&lt;h2 id=&quot;actor-critic&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#actor-critic&quot;&gt;</summary>
      
    
    
    
    <category term="动手学习强化学习课程笔记" scheme="https://tinsir888.github.io/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="强化学习" scheme="https://tinsir888.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 5 Ausbildung und Beruf</title>
    <link href="https://tinsir888.github.io/posts/a79494ce.html"/>
    <id>https://tinsir888.github.io/posts/a79494ce.html</id>
    <published>2023-05-20T16:00:00.000Z</published>
    <updated>2023-06-10T04:57:31.306Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ul><li><p>Ausbildung und Beruf</p></li><li><p>Vergleichen und kommentieren/Um Rat bitten, Ratschläge geben</p></li><li><p>Informationen zusammenfassen “lassen”</p></li><li><p>obwohl, trotzdem/Konjunktiv II der Vergangenheit</p></li></ul><h1 id="5-1-ausbildung-und-beruf-1"><a class="markdownIt-Anchor" href="#5-1-ausbildung-und-beruf-1"></a> 5-1 Ausbildung und Beruf (1)</h1><p>der Landwirt-e 农民，农场主 = 英文的 farmer</p><p>der Bauer- 农民，乡巴佬 = 英文的 peasant</p><p>der Farmer- 农民</p><p>der Schlosser- 钳工</p><p>der Metallverarbeiter- 机械工</p><p>der Postbote-n 邮递员</p><p>der Briefträger- 邮差</p><p>der Zusteller- 快递员</p><p>der Experte-n 专家</p><p>der Servierer- 服务生</p><p>der Aufwärter- 仆人，侍者</p><p>der Sänger- 歌唱家</p><p>der Musiker- 音乐家</p><p>der Komponist-en 作曲家</p><p>die Arzthelferin 医生助理</p><p>Kfz-Mechaniker/in 机动车机械工</p><p>Kfz = Kraftfahrzeug 机动车</p><p>Installateur/in 安装工</p><p>die Montage 安装</p><p>Kaufmann/Kauffrau 商人</p><p>Hotelfachmann/Hotelfachfrau 酒店专业人士</p><p>Maler/in 油漆工</p><p>die Holzverarbeitung 木材处理</p><p>die Metallverarbeitung 金属处理</p><p>das Medium-Medien 媒体</p><p>Wissenschaft und Forschung 科研</p><p>Fremdsprachen 外语</p><h1 id="5-2-ausbildung-und-beruf-2"><a class="markdownIt-Anchor" href="#5-2-ausbildung-und-beruf-2"></a> 5-2 Ausbildung und Beruf (2)</h1><p>entsprechen + Dativ 与……相符，与……相适应</p><p>die Realität-en 现实，事实</p><p>angeben 指明，说明</p><p>obwohl 引导让步从句，虽然</p><p>auftauchen 出现（出乎意料地）</p><p>tauchen 潜水</p><p>Bereich 范围，区域，领域</p><p>der Spitzenreiter- 领先者，佼佼者</p><p>die Mehrheit 大多数</p><p>die Minderheit 少数</p><p>kaufmännisch 商业的，商务的</p><p>Es hat sich nicht geändert （某件事）没有改变</p><p>… ist nicht zu finden. ……是找不到的</p><h1 id="5-3-obwohl-trotzdem"><a class="markdownIt-Anchor" href="#5-3-obwohl-trotzdem"></a> 5-3 obwohl, trotzdem</h1><h2 id="obwohl"><a class="markdownIt-Anchor" href="#obwohl"></a> obwohl</h2><p><strong>从句连词</strong> obwohl 表示“虽然”和“尽管”，由它引导让步从句，让步从句和主句一起表达转折关系。</p><p>z. B. Ich habe eine Verabredung mit ihr, obwohl ich keine Zeit <strong>habe</strong>.</p><p>obwohl 引导的从句中，动词置尾。</p><p>z. B. Obwohl ich ihn mehrmals eingeladen habe, <strong>ist</strong> er nicht mitgekommen.</p><p>从句占第一位。</p><p>obwohl 第一位 + 主语第二位 + 其它成分 + 动词置尾</p><h2 id="trotzdem"><a class="markdownIt-Anchor" href="#trotzdem"></a> trotzdem</h2><p><strong>主句连词</strong> trotzdem 意为“尽管如此，仍然……”，只能连接两个主句</p><p>trotzdem 占句子第一位</p><p>z. B. Ich habe keine Zeit. Trotzdem habe ich eine Verabredung mit ihr.</p><p>z. B. Ich habe ihn mehrmals eingeladen, trotzdem ist er nicht mitgekommen.</p><p>trotzdem 只能连接两个主句</p><p>带有 trotzdem 的主句<strong>必须后置</strong>，它和前一个句子是转折关系</p><p>trotzdem + 动词紧跟其后</p><h2 id="trotz"><a class="markdownIt-Anchor" href="#trotz"></a> trotz</h2><p>介词 + 名词第二格</p><p>Trotz meiner nicht verfügbaren Zeit habe ich eine Verabredung mit ihr.</p><p>verfügbar 可动用的,可支配的</p><p>Ich habe eine Verabredung mit ihr, obwohl ich keine Zeit habe.</p><p>Ich habe keine Zeit. Trotzdem habe ich eine Verabredung mit ihr.</p><p><strong>obwohl 强调让步，trotzdem 强调结果</strong></p><p>除非主语在句首，否则反身代词应放到主语之前</p><h1 id="5-4-bundesagentur-für-arbeit-1"><a class="markdownIt-Anchor" href="#5-4-bundesagentur-für-arbeit-1"></a> 5-4 Bundesagentur für Arbeit (1)</h1><p>Bundesagentur für Arbeit 联邦就业局</p><p>die Stellenanzeige 招聘广告</p><p>die Jobbörse 招聘网站，职位门户</p><p>die Arbeitsagentur 就业局</p><p>die Fremdsprachenkorrespondentin-nen 女外语通讯记者</p><p>der Korrespondent-en 驻外记者</p><p>sich an Akkusativ wenden 向……寻求帮助</p><p>z. B. Wenn man sich in Deutschland über verschiedene Berufe und Ausbildungsmöglichkeiten informieren möchte, kann man sich an die Agentur für Arbeit wenden.</p><p>die Einrichtung-en 公共设施，机构</p><p>zuständig 负责的 adj</p><p>zuständig für …</p><p>der/die Arbeitslose-n 失业者</p><p>der/die Berufssuchende-n 求职者</p><p>die Vermittlung-en 介绍，中介</p><p>sich über Akkusativ orientieren 了解关于……的信息</p><p>für jmdn in Frage kommen 某事对某人适合，可以考虑</p><p>z. B. Es gibt einige Programme, die für Sie in Frage kommen. 有一些您可以考虑的项目。</p><p>z. B. Das kommt überhaupt nicht in Frage! 这是不可能的！</p><p>vor einem halben Jahr 半年，vor + 时间 Dativ</p><p>ein halbes Jahr 半年，时间状语第四格</p><h1 id="5-5-bundesagentur-für-arbeit-2"><a class="markdownIt-Anchor" href="#5-5-bundesagentur-für-arbeit-2"></a> 5-5 Bundesagentur für Arbeit (2)</h1><p>ich kannte = ich kenne 的过去式</p><p>der Schüleraustausch（国家间的）交换中小学留学生</p><p>eben 正好，恰好</p><p>sich[Dativ] vorstellen 想象</p><p>der Bereich-e 范围，领域</p><p>an + Akkusativ denken 考虑，想到</p><p>AG = Arbeitsgruppe 工作小组</p><p>einen Blick werfen 看一看</p><p>werfen 投，扔 - wirfst - wirft - haben geworfen - warf</p><p>ausreichen 足够，够用</p><p>der Dolmetscher- 口译者</p><p>die Voraussetzung-en 假定，假设；前提条件</p><p>beurteilen 判断，评定</p><p>die Tätigkeit-en 职业，工作活动</p><p>konkret 具体的，准确的</p><h1 id="5-6-bundesagentur-für-arbeit-3"><a class="markdownIt-Anchor" href="#5-6-bundesagentur-für-arbeit-3"></a> 5-6 Bundesagentur für Arbeit (3)</h1><p>Es bewegt sich = Es ändert sich 它经常变化</p><p>die Informatikassistentin-nen 计算机科学女助理</p><p>der Schwerpunkt-e 重点，中心</p><p>umfassen 拥抱，包围，包括</p><p>die Grundlagen- 基础知识</p><p>EDV = elektronische Datenverarbeitung 电子数据处理</p><p>der Softwareentwickler- 软件开发人员</p><p>die Anwendung-en 使用，应用</p><p>absolvieren 毕业，结业</p><p>mitgeben 给予，提供 可分v</p><p>die Broschüre-n 平装小册子</p><p>das Merkblatt-e 备忘条，须知</p><p>die Berufsorientierung-en 就业指导</p><h1 id="5-7-lehrlinge-als-unternehmer-1"><a class="markdownIt-Anchor" href="#5-7-lehrlinge-als-unternehmer-1"></a> 5-7 Lehrlinge als Unternehmer (1)</h1><p>der Lehrling-e 学徒工</p><p>manch 有的人或事，可单可复</p><p>mancher Lehrling/mache Lehrlinge</p><p>landen/erreichen/ankommen + 静三</p><p>auf dem Flughafen ankommen 到达机场</p><p>das Elektrizitätswerk-en 发电厂</p><p>die Elektrizität 电</p><p>von … über … bis hin zu … 从……到……直到……</p><p>die Öffentlichkeitsarbeit 公关工作</p><p>sich leisten 故意做，刻意做</p><p>die Geschäftsphilosophie-/ 经营理念</p><p>die Philosophie-/ 哲学，人生观</p><p>die Ökologie-/ 生态学</p><p>die Marktnische-n 市场缺口</p><p>erobern 占领，征服</p><p>gelegentlich 偶然的，机缘巧合的</p><p>die Gelegenheit-en 时机，良机</p><p>tatsächlich 确实的</p><p>gelingen 成功，达到预定目标 - sein gelungen - gelang</p><p>trotz + 第二格</p><p>ökologisch 生态的</p><p>das Geschäftsjahr-e 经营年度，财政年度</p><h1 id="5-8-lehrlinge-als-unternehmer-2"><a class="markdownIt-Anchor" href="#5-8-lehrlinge-als-unternehmer-2"></a> 5-8 Lehrlinge als Unternehmer (2)</h1><p>entstanden = entstehen 过去式 行成</p><p>verwaltet 被管理的 adj</p><p>die Verwaltung 经营管理，行政部门</p><p>die Manufaktur-en 手工作坊</p><p>die Verantwortung-en 责任，责任心</p><p>Es zeigt sich, dass … 事实证明，表明……</p><p>versprechen 保证，承诺，允诺</p><p>der Fremdauftrag-&quot;e 外部订单，第三方订单</p><p>der Sektverschluss-&quot;e 香槟瓶塞</p><p>die Seminarleitung-en 研讨会的领导</p><p>der Seminarteilnehmer- 参加研讨会的人</p><p>nötig 必要的，必不可少的</p><p>eine Entscheidung treffen 做决定</p><p>der Vorstand-&quot;e 董事，理事</p><h1 id="5-9-lehrlinge-als-unternehmer-3"><a class="markdownIt-Anchor" href="#5-9-lehrlinge-als-unternehmer-3"></a> 5-9 Lehrlinge als Unternehmer (3)</h1><p>der Vorstandskollege-n 董事会成员</p><p>die Hierarchie-n 等级制度</p><p>demokratisch 民主的</p><p>über Akkusativ entscheiden 决定某事</p><p>der Unternehmertalent-en 企业家人才</p><p>der Talent-en 人才</p><p>einrichten 建立，设立，设置</p><p>die Einrichtung 机构</p><p>betreiben 从事，进行</p><p>bislang = bisher 至今 adv</p><p>wagen 敢于，冒着……的危险</p><p>die Marktwirtschaft-/ 市场经济</p><p>das Badeöl 沐浴油</p><p>managen 管理，经营，处理</p><p>sich beschaffen （通过努力）成功，得到</p><p>das Geschäftskapital 企业资本，商业资本</p><p>der Anteilschein-e 股份凭证</p><p>die Aktie-n 股份，股票</p><p>auflösen 解散，废除；使溶解</p><p>der Aktienbesitzer- 股东，股票持有者</p><p>Es lohnt sich, … ……是值得的</p><p>der Teilhaber- 合伙人，股东</p><p>die Rendite-n 利润，红利</p><p>die Pleite-n 破产</p><h1 id="5-10-动词-lassen"><a class="markdownIt-Anchor" href="#5-10-动词-lassen"></a> 5-10 动词 lassen</h1><p>lasse - lässt - lässt - lassen - lasst - lassen - haben gelassen</p><p>lassen 相当于英语的 let，意思是“让”，<strong>用法与情态动词相同</strong></p><h2 id="做实义动词"><a class="markdownIt-Anchor" href="#做实义动词"></a> 做实义动词</h2><p>使……保持一种状态</p><p>Ich lasse das so. 我就这么让它去了</p><p>Ich lasse mein Handy ausgeschaltet. 我让我的手机处于关机。</p><h2 id="做助动词"><a class="markdownIt-Anchor" href="#做助动词"></a> 做助动词</h2><p>lassen + Akkusativ + 动词原形</p><p>让某人做某事</p><p>Ich lasse ihn die Post abholen. 我让他去取快递。</p><p>让某物被做</p><p>Wir lassen Schachspiele bei der Firma herstellen. 我们让象棋被公司生产。</p><p>= Die Firma stellt für uns Schachspiele her.</p><p>允许</p><p>Wir lassen alle Mitarbeiter demokratisch entscheiden. 我们允许员工民主决定。</p><p>= Alle Mitarbeiter dürfen demokratisch entscheiden.</p><p>bügeln 熨烫</p><h2 id="现在完成时"><a class="markdownIt-Anchor" href="#现在完成时"></a> 现在完成时</h2><p>Ich lasse das so.</p><p>lassen 做实义动词，变为现在完成时：Ich habe das so <strong>gelassen</strong>.</p><p>Ich lasse ihn die Post abholen.</p><p>lassen 做助动词，变为现在完成时：Ich habe ihn die Post abholen <strong>lassen</strong>.</p><p><strong>当 lassen 做助动词时，现在完成时中保持原形！！！</strong></p><h1 id="5-11-stellenanzeigen-1"><a class="markdownIt-Anchor" href="#5-11-stellenanzeigen-1"></a> 5-11 Stellenanzeigen (1)</h1><p>die Dienstleistung 服务型行业</p><p>das Handwerk 手工业</p><p>die Technik 技术行业</p><p>der Handel/Verkauf 贸易/销售</p><p>der Großhandel 批发业</p><p>der Einzelhandel 零售业</p><p>der Sozialbereich 社会福利行业</p><p>die Gastronomie 餐饮业</p><p>die Landmaschine-n 农业机器</p><p>Landwirt 农场主</p><p>auf dem Land 在郊区</p><p>der Landmaschinenmechaniker- 农业机器机械工</p><p>betriebseigene 企业所有的 adj</p><p>die Hostess-en 女招待，女主人</p><p>begabt sein 有才能的，有天赋的 adj</p><h1 id="5-12-stellenanzeigen-2"><a class="markdownIt-Anchor" href="#5-12-stellenanzeigen-2"></a> 5-12 Stellenanzeigen (2)</h1><table><thead><tr><th style="text-align:center">Fragen</th><th style="text-align:center">1</th><th style="text-align:center">2</th><th style="text-align:center">3</th><th style="text-align:center">4</th><th style="text-align:center">5</th><th style="text-align:center">6</th></tr></thead><tbody><tr><td style="text-align:center">Wer bietet den Beruf an?</td><td style="text-align:center">?</td><td style="text-align:center">die SOS-Jugendhilfen Weilheim</td><td style="text-align:center">Mövenpick Restaurant</td><td style="text-align:center">Hausverwaltung STOHR GmbH</td><td style="text-align:center">Ingenieurgemeinschaft A. Fischer</td><td style="text-align:center">/</td></tr><tr><td style="text-align:center">Welcher Beruf wird angeboten?</td><td style="text-align:center">Landmaschinen-Mechaniker oder LKW-Mechaniker</td><td style="text-align:center">Erzieher/in</td><td style="text-align:center">Servicemitarbeiter (m/w), Hostessen</td><td style="text-align:center">Hausmeister</td><td style="text-align:center">Diplom-Ingenieur/in</td><td style="text-align:center">Verkäuferin und Reinigungskraft</td></tr><tr><td style="text-align:center">Welche Voraussetzungen werden erwartet?</td><td style="text-align:center">?</td><td style="text-align:center">zunächst befristet auf 3 Jahre</td><td style="text-align:center">junge und teamfähig</td><td style="text-align:center">sehr gute handwerkliche und technische Kenntnisse Führerschein Kl. 3</td><td style="text-align:center">qualifiziert</td><td style="text-align:center">freundlich, nach Ebersberg</td></tr><tr><td style="text-align:center">Was bietet der Arbeitgeber?</td><td style="text-align:center">?</td><td style="text-align:center">Aufgabe, Arbeitsklima, Gehalt, BAT, Unterstützung</td><td style="text-align:center">/</td><td style="text-align:center">Eine 2.5-Zi.-Dienstwohnung</td><td style="text-align:center">gute Bezahlung, die üblichen Sozialleistungen</td><td style="text-align:center">/</td></tr><tr><td style="text-align:center">Wie lange ist die Arbeitszeit?</td><td style="text-align:center">?</td><td style="text-align:center">30 Stunden pro Woche</td><td style="text-align:center">/</td><td style="text-align:center">16 Stunden/Woche</td><td style="text-align:center">/</td><td style="text-align:center">ganztags oder halbtags</td></tr><tr><td style="text-align:center">Wann beginnt die Tätigkeit?</td><td style="text-align:center">sofort</td><td style="text-align:center">sofort</td><td style="text-align:center">/</td><td style="text-align:center">sofort</td><td style="text-align:center">/</td><td style="text-align:center">/</td></tr><tr><td style="text-align:center">Wie soll man sich bewerben?</td><td style="text-align:center">anrufen</td><td style="text-align:center">via Post</td><td style="text-align:center">via Post oder anrufen</td><td style="text-align:center">via Post</td><td style="text-align:center">via Post</td><td style="text-align:center">anrufen</td></tr></tbody></table><p>zum nächstmöglichen Zeitpunkt 尽快地，尽早</p><p>nächstmöglich 下一个可能的</p><p>befristet 有期限的</p><p>kollegial 同事间合作的 adj</p><p>angelehnt an Akkusativ 基于……</p><p>anlehnen 倚靠，依赖</p><p>BAT = Bundesangestelltentarif 德国联邦雇员工资待遇</p><p>einschließlich + Genitiv 包括 = inklusive</p><p>vollzählig 足数的，齐全的</p><p>die Arbeitsbeurteilung-en 工作评价，介绍信</p><p>handgeschrieben 手写的</p><p>maschinengeschrieben 机打的</p><p>零冠词的第二格可以不用加二格词尾 -s</p><p>die Gastronomiewelt 美食世界</p><p>sich etablieren 开设，建立（商业）</p><p>teamfähig 能在团队中工作的 adj</p><p>leistungsfähig 高效率的，有工作能力的</p><p>auf jmdn zugehen 靠近某人</p><p>die Zukunft gestalten 塑造未来</p><p>die Wohnanlage-n 居住区</p><p>der Wohnblock-s 居民小区</p><p>geringfügig 微不足道的，细微的</p><p>geringfügige Beschäftigung 小微工作（每月工资不超过 450 欧元的 Mini Job）</p><p>erforderlich 必不可少的 adj</p><p>die Dienstwohnung-en 员工住房</p><p>die Verfügung 有权支配使用</p><p>das Lichtbild-er 证件照</p><p>die Hausverwaltung 物业管理，房管处</p><h1 id="5-13-stellenanzeigen-3"><a class="markdownIt-Anchor" href="#5-13-stellenanzeigen-3"></a> 5-13 Stellenanzeigen (3)</h1><p>erfahren 有经验的</p><p>anerkannt 受到认可的，被承认的 adj</p><p>die Gebäudeausrüstung-en 建筑设备</p><p>bundesweit 联邦范围内的，全国的 adj</p><p>die Raumlufttechnik-/ 室内通风技术</p><p>das Heizungssystem-e 供热系统</p><p>die Bereitschaft 准备</p><p>leistungsorientiert 以业绩为导向的，以效率为导向的</p><p>ausführlich 详尽的 adj</p><p>erbeten 被要求得到的 adj</p><p>das Bürobedarf 办公用品</p><p>freundl. = freundlich</p><p>die Reinigungskraft-en 清洁工作</p><p>erbitten 请求得到</p><h1 id="5-14-第二虚拟式过去式"><a class="markdownIt-Anchor" href="#5-14-第二虚拟式过去式"></a> 5-14 第二虚拟式过去式</h1><p>Konjunktiv II der Vergangenheit</p><p>第二虚拟式现在时：</p><ol><li>尚未实现的愿望</li><li>非现实的条件</li><li>委婉的建议和请求</li></ol><p>第二虚拟式过去时：<strong>用一种虚拟的假设来替代过去已经发生的情况，但实际并未发生。</strong></p><p>第二虚拟式过去式的语法句式基于“现在完成时”</p><p>Die Tochter ist in den Teich gefallen. 女儿掉进的池塘。</p><blockquote><p>Die Tochter wäre  in den Teich gefallen.</p></blockquote><p>Markewitz hat die Schwimmflügel erfunden. Markewitz 发明了游泳臂圈。</p><blockquote><p>Markewitz hätte die Schwimmflügel erfunden.</p></blockquote><p>Wenn die Tochter nicht in den Teich gefallen wäre, hätte Markewitz die Schwimmflügel nicht erfunden. 如果女儿没掉入池塘，Markewitz 就不会发明游泳臂圈。</p><p>第二虚拟式过去式 = 将“现在完成时”的<strong>助动词</strong>改成第二虚拟式</p><table><thead><tr><th style="text-align:center">ich</th><th style="text-align:center">wäre</th><th style="text-align:center">hätte</th></tr></thead><tbody><tr><td style="text-align:center">du</td><td style="text-align:center">wärst</td><td style="text-align:center">hättest</td></tr><tr><td style="text-align:center">er/sie/es</td><td style="text-align:center">wäre</td><td style="text-align:center">hätte</td></tr><tr><td style="text-align:center">wir</td><td style="text-align:center">wären</td><td style="text-align:center">hätten</td></tr><tr><td style="text-align:center">ihr</td><td style="text-align:center">wärt</td><td style="text-align:center">hättet</td></tr><tr><td style="text-align:center">sie/Sie</td><td style="text-align:center">wären</td><td style="text-align:center">hätten</td></tr></tbody></table><p>per + Akkusativ 用，经，由，以</p><p>vernünftig 合理合情的，理智的，合适的</p><p>sich von Dativ überzeugen 信服，心动</p><p>das Portrait-s 头像，肖像</p><p>die Bleistiftzeichnung 铅笔画</p><p>anfertigen 完成制作，完成制造</p><p>die Teilnahme-/ 参与，参加</p><p>an Dativ teilnehmen 参加……</p><p>registrieren 登记，注册</p><h1 id="5-15-seltene-berufe-1"><a class="markdownIt-Anchor" href="#5-15-seltene-berufe-1"></a> 5-15 Seltene Berufe (1)</h1><p>die Paukistin-nen 定音鼓女鼓手</p><p>der Pferdpfleger- 马饲养员</p><p>der Erfinder- 发明家</p><p>der Genosse-n同志</p><p>der Broterwerb 糊口，生计，谋生</p><p>der Knecht-e 奴仆，雇农【旧】</p><p>das Orchester- 管弦乐队</p><p>Laien- 业余的</p><p>Laienschauspieler 业余演员</p><p>Laiensportler 业余运动员</p><p>wohlhabend 特别富有的，有财力的 adj</p><p>der Stall-&quot;e 圈，棚，厩</p><p>ausmisten 清除粪便</p><p>reitfertig 做好骑的准备</p><p>die Reitschule-n 马术学校，骑行学校</p><p>prominent 有名望的，知名的 adj</p><p>der/die Prominente-n 有名望的人</p><p>einigermaßen 相当，还算【小品词】</p><h1 id="5-16-seltene-berufe-2"><a class="markdownIt-Anchor" href="#5-16-seltene-berufe-2"></a> 5-16 Seltene Berufe (2)</h1><p>die Geige-n 小提琴</p><p>die Trompete-n 小号，喇叭</p><p>das Waldhorn-&quot;er 圆号</p><p>die Bratsche-n 中提琴</p><p>das Cello-lli 大提琴</p><p>der Philharmoniker- 交响乐团，爱乐乐团</p><p>den meisten 对大多数人而言</p><p>das Passionsspiel-e 耶稣受难剧</p><p>zum zweiten Mal 第二次</p><p>zum ersten Mal 第一次</p><p>die Schauspielerei-en 演戏</p><p>der Baurecht-e 建筑法</p><p>der Straßenverkehr 道路交通</p><p>aushelfen 临时帮忙，帮助……摆脱困境</p><p>stiften 创办 v</p><p>weltlich 人间的，世俗的，尘世的</p><p>quasi 好像是，似乎是【口语】</p><p>die Erfindung-en 发明，创造</p><p>allermeist （加强语气）绝大多数的</p><p>jmdn für verrückt erklären 断定某人疯了</p><h1 id="5-17-seltene-berufe-3"><a class="markdownIt-Anchor" href="#5-17-seltene-berufe-3"></a> 5-17 Seltene Berufe (3)</h1><p>die Wiege-n 摇篮</p><p>der Zufall-&quot;e 偶然事件，意外事件</p><p>naheliegen 容易得到，容易接近 可分v</p><p>das Schwert-er 刀，剑</p><p>die Statistenrolle-n 配角</p><p>der Statist-en 群众演员，跑龙套的角色</p><p>beschloss = beschließen 过去式 做出……决定，通过，采纳</p><p>Rom 罗马</p><p>römisch 罗马的 adj</p><p>der Legionär-e 军团士兵</p><p>jetzig 当前的，现存的 adj</p><p>zufällig 偶然的，意外的 adj</p><p>der Kaminkehrer- 烟囱清扫工 = Schornsteinfeger</p><p>heilbar 能够治愈的</p><h1 id="5-18-seltene-berufe-4"><a class="markdownIt-Anchor" href="#5-18-seltene-berufe-4"></a> 5-18 Seltene Berufe (4)</h1><p>der Teich-e 池塘</p><p>beinahe 几乎，差不多 = fast</p><p>ertrinken 溺水</p><p>die Todesfalle-n 死亡陷阱</p><p>erfand = erfinden 过去式</p><p>die Schwimmhilfe 游泳辅助</p><p>experimentieren 试验，做实验</p><p>der Roller- 双轮滑车</p><p>etwas auf/über Akkusativ streifen 把……套上</p><p>hielten = halten 过去式</p><p>aufrecht 笔直的，竖直的</p><p>senkrecht 垂直的</p><p>waagerecht 水平的</p><p>jemals 曾经，在任何时候 adv</p><p>trommeln 击鼓，敲打</p><p>die Schüssel-n 碗</p><p>der Topf-&quot;e 锅</p><p>erkannten = erkennen 过去式 认可，承认</p><p>fördern 促进</p><p>erhielt = erhalten 过去式 获得，拥有</p><p>begann = beginnen 过去式 开始</p><p>das Vorstudium 大学预科</p><p>das Schlagzeug 打击乐器</p><p>bald darauf 紧接着，马上</p><p>das Probespiel 试镜</p><p>damalig 当时的，那时的</p><p>dachte = denken 过去式 想，认为</p><p>nötig 必要的，必不可少的 adj</p><h1 id="5-19-seltene-berufe-5"><a class="markdownIt-Anchor" href="#5-19-seltene-berufe-5"></a> 5-19 Seltene Berufe (5)</h1><p>das Rampenlicht 聚光灯</p><p>das Autogramm-e （名人）亲笔签名</p><p>vor kurzem 不久前</p><p>verflixt 烦人的，讨厌的 adj</p><p>Es geht um … 这关乎于……</p><p>jmdn für verrückt erklären 断定某人疯了</p><p>der Bademeister- 职业游泳救护员</p><p>von Dativ überzeugen 信服，对……心动</p><p>mittlerweile 在此期间，同时 adv</p><p>die Ehrung-en 荣誉，敬意</p><p>adeln 授予贵族称号</p><p>empfindlich 灵敏的，敏感的 adj</p><p>stressig 有压力的，有负担的 adj = stressvoll</p><p>der Torwart-e 守门员</p><p>entscheidend 决定性的，关键的 adj</p><h1 id="5-20-seltene-berufe-6"><a class="markdownIt-Anchor" href="#5-20-seltene-berufe-6"></a> 5-20 Seltene Berufe (6)</h1><p>haben Achtung vor + Dativ 对……重视</p><p>auf Akkusativ achten 关注，关心</p><p>die Wut-/ 愤怒，盛怒</p><p>schätzen 珍视，珍惜</p><p>pensionieren 给予退休金让……退休</p><p>werden pensioniert 退休了</p><h2 id="ein-leben-das-sie-nicht-gelebt-haben"><a class="markdownIt-Anchor" href="#ein-leben-das-sie-nicht-gelebt-haben"></a> Ein Leben, das Sie nicht gelebt haben</h2><p>Als ich 17 war, wusste ich nicht, ob ich in China oder im Ausland leben sollte.</p><p>Nach dem Chinesischen Abitur hätte ich zwei Möglichkeiten: Ich konnte nach Kanada gehen oder weiterhin in China bleiben.</p><p>Ich habe mich schließlich für das Studium in China entschieden. Ich habe in die Nankai-Universität, die 985-Institution ist, besucht. Aber wenn Corona Pandemie (COVID-19) schritt, hat die Chinesischen Regierung eine Beschränkung meiner Freiheit verlangen. Im Jahr 2022, wurde ich gebeten, fast jeden Tag einen Nukleinsäuretest mit einem Rachenabstrich durchzuführen!</p><p>Manchmal frage ich mich, ob es vielleicht besser gewesen wäre, wenn ich mich damals für das  ausländische Studium entschieden hätte. Dann wäre ich vielleicht eine PhD Student mit umfangreichem Wissen in Kanada. Aber ich hätte dann nicht so viel Freunde.</p><p>(Nein, ich bereue nicht.) Natürlich bereue ich ja!</p><h1 id="5-21-computerspiel-am-arbeitsplatz-1"><a class="markdownIt-Anchor" href="#5-21-computerspiel-am-arbeitsplatz-1"></a> 5-21 Computerspiel am Arbeitsplatz (1)</h1><p>sich an Akkusativ halten 遵守，遵循</p><p>jmdm kündigen 通知解雇某人，通知某人解约</p><p>betriebseigene 企业自有的 adj</p><p>das Grundmittel 固有资产</p><p>(bei j-m / etw.) handelt es sich um j-n / etw 关系到，涉及，是</p><p>genannt 所谓的</p><p>Es ist sehr zu vermuten, … 很有可能</p><p>in der Tat 事实上</p><p>aussprechen （口头或书面）表达出</p><p>ließ = lassen 过去式</p><p>die Abmahnung-en 警告</p><p>plötzlich 突然的，意外的，忽然的</p><p>auf … reagieren 对……作出反应</p><p>die Maßnahme-n 措施</p><h1 id="5-22-computerspiel-am-arbeitsplatz-2"><a class="markdownIt-Anchor" href="#5-22-computerspiel-am-arbeitsplatz-2"></a> 5-22 Computerspiel am Arbeitsplatz (2)</h1><p>das Arbeitsgericht-e 劳工法院（处理劳工纠纷）</p><p>entschied = entscheiden 的过去式</p><p>weiterbeschäftigten 继续雇佣</p><p>sich mit Dativ beschäftigten 忙于做某事</p><p>wirksam 有效果的，有作用的</p><p>ausdrücklich 明确的，强调的 adj</p><p>jmdn auf Akkusativ hinweisen 向某人指明，指出</p><p>drohen 威胁，恐吓</p><p>korrekt 正确的，合理的</p><p>konkret 具体的，准确的</p><h1 id="5-23-sprachbausteine-teil-2"><a class="markdownIt-Anchor" href="#5-23-sprachbausteine-teil-2"></a> 5-23 Sprachbausteine Teil 2</h1><p>完型填空</p><p>解题思路：</p><p>第一遍速读短文，直接做题，圈出不定项。</p><p>第二遍精读，排除嫌疑项，确定答案。</p><p>考察词汇量和语法！</p><p>ein Examen/eine Prüfung ablegen 参加考试</p><p>im nächsten Jahr 在明年</p><p>ab nächstes Jahr 明年起</p><p>entnehmen 取出；从……中推断出</p><p>sich auf/über Akkusativ freuen</p><h1 id="5-24-folge-5-angst"><a class="markdownIt-Anchor" href="#5-24-folge-5-angst"></a> 5-24 Folge 5 - Angst</h1><p>der Bagger- 挖土机</p><p>der Kranführer- 起重机司机</p><p>das Examen 大学考试</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Ausbildung und Beruf&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Vergleic</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 4 Tägliches Leben</title>
    <link href="https://tinsir888.github.io/posts/2f937e03.html"/>
    <id>https://tinsir888.github.io/posts/2f937e03.html</id>
    <published>2023-05-09T16:00:00.000Z</published>
    <updated>2023-05-20T06:44:48.826Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ul><li><p>Tägliches Leben</p></li><li><p>Über Gewohnheiten sprechen, Party organisieren</p></li><li><p>Reflexivpronomen im Akkusativ und im Dativ, Relativpronomen und Präposition</p></li><li><p>Wortbildung: Nomen + Adjektiv/Adverb je …, desto …</p></li></ul><h1 id="4-1-tägliches-leben-时间副词-频率副词"><a class="markdownIt-Anchor" href="#4-1-tägliches-leben-时间副词-频率副词"></a> 4-1 Tägliches Leben 时间副词、频率副词</h1><p>der Morgen → morgens 每天早晨</p><p>der Vormittag → vormittags 每天上午</p><p>der Mittag → mittags 每天中午</p><p>der Nachmittag → nachmittags 每天下午</p><p>der Abend → abends 每天晚上</p><p>die Nacht → nachts 每天夜晚</p><p><strong>时间副词可以表示一次性的事件，也可以表示一定周期的重复性</strong></p><p>der Montag → montags 每周一</p><p>der Samstagabend → samstagabends 每周六晚</p><p>der Sonntagmittag → sonntagmittags 每周日中午</p><p>频率副词</p><p>immer oft meistens manchmal selten nie</p><h1 id="4-2-aufwachen-1"><a class="markdownIt-Anchor" href="#4-2-aufwachen-1"></a> 4-2 Aufwachen (1)</h1><p>feststellen 固定，确定，强调说明 可分v</p><p>spritzen 喷，溅，撒</p><p>die Wand rot spritzen 把墙喷涂成红色</p><p>in der Zwischenzeit 在间隙，在此期间</p><p>konsequent 坚定不移的，坚持不懈的</p><p>bewältigen 克服，胜任</p><p>Schwierigkeiten bewältigen 克服困难</p><p>die Helligkeit 光亮，亮度</p><p>hindern jmdn an Dativ 阻止某人做某事</p><p>indem 以……的方式</p><p>schreiend 大叫的，大喊的 adj</p><h1 id="4-3-aufwachen-2"><a class="markdownIt-Anchor" href="#4-3-aufwachen-2"></a> 4-3 Aufwachen (2)</h1><p>über längere Zeit 长时间的，长期地</p><p>entsprechend 相应的，相符的 adj</p><p>über die entsprechend Zeit 一定期间中</p><p>merkwürdigerweise 说来奇怪，值得注意的是 adv</p><p>abgleichen 校准，校正 可分v</p><p>sich mit … abgleichen 让自己与……保持一致</p><blockquote><p>Der Ton soll sich mit dem Bild abgleichen. 音画应该同步</p></blockquote><p>liefen = würden laufen 第二虚拟式</p><p>sich aufschaukeln 动荡，加速</p><p>schaukeln 荡秋千</p><p>der Zusammenbruch 崩溃，垮台</p><p>abschirmen 保护，遮护 可分v</p><p>abgeschirmt 被遮护的 adj</p><p>merkwürdig 古怪的，出奇的</p><p>etwas Merkwürdiges 一些古怪的事情</p><p>subjektiv 主观的 objektiv 客观的</p><p>derjenige/dasjenige/diejenige 就是这一个，就是那一个（加强语气）</p><p>entgehen + Dativ 被错过，被忽略</p><blockquote><p>Mir entgeht die Chance.  这次机会被我错过了。</p></blockquote><p>sich[A] schleichen 蹑手蹑脚，悄悄地走</p><p>rütteln 摇晃，摇动</p><h1 id="4-4-tischmanieren"><a class="markdownIt-Anchor" href="#4-4-tischmanieren"></a> 4-4 Tischmanieren</h1><p>der Brotkorb 面包篮</p><p>der Eierbecher 鸡蛋杯</p><p>die Untertasse-n 茶碟</p><p>die Platte-n 托盘</p><p>die Schüssel-n 碗</p><p>die Zuckerdose-n 糖罐子</p><p>die Kanne-n 壶</p><p>die Pfanne-n 平底锅</p><p>die Tasse-n 杯子</p><p>der Topf-&quot;e 锅</p><p>die Kuchengabel-n 蛋糕叉</p><p>der Stiel-e 手柄，手把</p><p>der Gebrauch 使用 n</p><p>der Zahnstocher- 牙签</p><p>stutzen 支撑，撑托</p><p>der Ellbogen/Ellenbogen- 肘</p><p>das Geräusch-e 噪音，吵闹声</p><p>die Serviette-n 餐巾</p><h1 id="4-5-由介词引导的关系从句"><a class="markdownIt-Anchor" href="#4-5-由介词引导的关系从句"></a> 4-5 由介词引导的关系从句</h1><p>Relativsätze mit Präpositionen</p><p>关系从句：由关系代词带起的关系从句，一般紧跟在主句中某一被修饰或说明的名词后面，以作补充说明。</p><p>主句，（介词）+ 关系代词 + 从句（注意动词置尾）</p><p>关系代词：性数看前，格看后</p><p>Ein Brotmesser ist ein großes Messer, das man beim Frühstück benutzt.</p><p>面包到是一把吃早餐时用到的大刀。</p><p>Ein Brotmesser ist ein großes Messer, mit dem man Brot schneidet.</p><p>面包到是一把用来切面包的大刀。</p><h1 id="4-6-welcher-esstyp-sind-sie-1"><a class="markdownIt-Anchor" href="#4-6-welcher-esstyp-sind-sie-1"></a> 4-6 Welcher Esstyp sind Sie? (1)</h1><p>im Stehen 站着</p><p>Es fällt jmdm … = Es passiert jmdm 在某人身上发生了</p><p>die Mahlzeit-en 一顿饭，一餐</p><p>die Qualität-en 质量</p><p>die Quantität-en 数量</p><p>ausprobieren 尝试，试吃 可分v</p><p>das Nahrungsmittel = das Lebensmittel 食品，粮食</p><p>fetthaltig 油腻的</p><p>die Erwartung-en 期望，指望</p><p>angespannt 紧张的，弦绷紧的 adj</p><p>verärgert = ärgerlich 生气的，恼怒的 adj</p><p>essbar 可以吃的 adj</p><p>etwas Essbares 能够吃的东西</p><p>abschalten 走神</p><p>der Vorgang 事情经过</p><p>sich mit Dativ beschäftigen 忙于某事</p><p>das Handicap-s 障碍</p><p>die Konsequenz-en 后果，结果</p><p>das Gewissen 良知，良心</p><p>ein schlechtes Gewissen 深感愧疚</p><p>verschwenden 浪费，挥霍</p><p>die Aufmerksamkeit 注意力，专心</p><p>Danke für ihre Aufmerksamkeit! 感谢收看/收听！</p><p>sein in Eile = haben es eilig 赶时间</p><h1 id="4-7-welcher-esstyp-sind-sie-2"><a class="markdownIt-Anchor" href="#4-7-welcher-esstyp-sind-sie-2"></a> 4-7 Welcher Esstyp sind Sie? (2)</h1><p>sich ins … flüchten 用……来逃避</p><blockquote><p>Nach der Scheidung flüchtet sie sich in die Arbeit.</p></blockquote><p>mehr oder weniger 或多或少</p><p>gleichgültig 无关紧要的 adj</p><p>kauen 咀嚼</p><p>in/mit + Dativ bestehen 由……组成</p><p>kalorienhaltig 高卡路里的 adj</p><p>ersetzen 替换，替补</p><p>Fettaugen 油泡泡（“像油一样的眼睛”，即浮在汤上面的油泡泡）</p><p>das Tabu-s 禁忌，忌讳</p><p>erlernen 学会，学到</p><p>die Entspannungsmethode-n 放松方法</p><p>die Atemübung-en 呼吸联系</p><p>der Atem-/ 呼吸</p><p>einsetzen 把……放入，将……投入，放入计划</p><p>ausräumen 把……全部搬出，清理出，倒空</p><p>möglichst 尽可能地，尽量地</p><p>zwischendurch = in der Zwischenzeit 间隙时间</p><p>vertreiben 驱逐，消除</p><p>die Hitparade-n 金曲榜</p><p>denkbar 可想到的，想得到的 adj</p><p>wählerisch 挑剔的，挑三拣四的 adj</p><h1 id="4-8-德语构词法复合形容词"><a class="markdownIt-Anchor" href="#4-8-德语构词法复合形容词"></a> 4-8 德语构词法：复合形容词</h1><p>Nomen + Adjektiv/Adverb</p><h2 id="复习单词缀形容词"><a class="markdownIt-Anchor" href="#复习单词缀形容词"></a> 复习单词缀形容词</h2><h3 id="-ig"><a class="markdownIt-Anchor" href="#-ig"></a> -ig</h3><p>farbig 彩色的</p><p>regelmäßig 规律的</p><p>günstig 实惠的</p><h3 id="-isch"><a class="markdownIt-Anchor" href="#-isch"></a> -isch</h3><p>praktisch 实用的</p><p>typisch 典型的</p><p>italienisch 意大利的</p><h3 id="-lich"><a class="markdownIt-Anchor" href="#-lich"></a> -lich</h3><p>täglich 每天的</p><p>pünktlich 准时的</p><p>sportlich 运动的</p><h2 id="复合形容词-名词-词缀"><a class="markdownIt-Anchor" href="#复合形容词-名词-词缀"></a> 复合形容词 = 名词 + 词缀</h2><h3 id="-los"><a class="markdownIt-Anchor" href="#-los"></a> -los</h3><p>跟在名词后，表示没有……的（失去，丢失的意味）</p><p>das Kosten + los = kostenlos 免费的</p><p>die Kinder + los = kinderlos 无子女的</p><p>die Arbeit + los = arbeitslos 失业的</p><h3 id="-frei"><a class="markdownIt-Anchor" href="#-frei"></a> -frei</h3><p>跟在名词后，表示没有……的（不包含成分或不受约束和负担的意思）</p><p>der Zucker + frei = zuckerfrei 无糖的</p><p>der Alkohol + frei = alkoholfrei 无酒精的</p><p>der Cholesterin + frei = cholesterinfrei 无胆固醇的</p><p>die Arbeit + frei = arbeitsfrei 歇工的</p><h3 id="-arm"><a class="markdownIt-Anchor" href="#-arm"></a> -arm</h3><p>跟在名词后，表示缺少……的</p><p>die Kalorien + arm = kalorienarm 低卡的</p><p>das Fett + arm = fettarm 清淡少油的</p><p>die Sonne + arm = sonnenarm 缺少阳光的</p><h3 id="-reich"><a class="markdownIt-Anchor" href="#-reich"></a> -reich</h3><p>跟在名词后，表示富含……的</p><p>die Kalorien + reich = kalorienreich 高卡的</p><p>der Erfolg + reich = erfolgreich 成功的</p><p>das Vitamin + reich = vitaminreich 富含维生素的</p><h3 id="-voll"><a class="markdownIt-Anchor" href="#-voll"></a> -voll</h3><p>跟在名词后，表示充满……的</p><p>die Fantasie + voll = fantasievoll 充满想象力的</p><p>der Sinn + voll = sinnvoll 充满意义的</p><p>der Humor + voll = humorvoll 有幽默感的</p><h3 id="-haltig"><a class="markdownIt-Anchor" href="#-haltig"></a> -haltig</h3><p>跟在名词后，表示含有……的</p><p>der Zucker + haltig = zuckerhaltig 含糖的</p><p>das Fett + haltig = fetthaltig 含油脂的</p><p>das Vitamin + haltig = vitaminhaltig 含维生素的</p><h1 id="4-9-was-die-deutschen-gern-essen"><a class="markdownIt-Anchor" href="#4-9-was-die-deutschen-gern-essen"></a> 4-9 Was die Deutschen gern essen?</h1><p>das Hackfleisch 肉末</p><p>das Salatblatt 生菜</p><p>die Soße 酱汁</p><p>der Kartoffelbrei 土豆泥</p><p>das gekochte Ei 水煮蛋</p><p>die Glasscheibe 奶酪片</p><p>die Gurkenscheibe 黄瓜片</p><p>der Ketschup 番茄酱</p><p>die Zwiebel 洋葱</p><p>würzen 给……加调料</p><p>braten 煎 - brätst brät - haben gebraten - briet</p><p>schneiden 切 - haben geschnitten - schnitt</p><p>geben 给 - gibst gibt - haben gegeben - gab</p><p>reiben 摩擦，擦拭 haben gerieben - rieb</p><p>feuerfest 防火的</p><p>streuen 撒</p><p>der Autor-en 作家</p><p>der Lebensmittelchemiker- 食品化学家</p><p>das Fleischbällchen- 肉团，肉丸</p><p>von Dativ lassen 放下，放弃，戒掉 = mit Dativ aufhören</p><blockquote><p>Er kann von Zigaretten nicht lassen.</p></blockquote><p>der Heißhunger- 渴望，嘴馋</p><p>befürchten 害怕，恐怕 及物v</p><p>fürchten 不及物v</p><blockquote><p>Ich fürchte, dass… 恐怕……</p><p>für/um… fürchten 为……感到担忧</p><p>sich vor… fürchten 害怕，担心某事</p></blockquote><h1 id="4-10-warum-sind-hamburger-beliebt"><a class="markdownIt-Anchor" href="#4-10-warum-sind-hamburger-beliebt"></a> 4-10 Warum sind Hamburger beliebt?</h1><p>beißen 咬，啃 - haben gebissen - biss</p><p>servieren 招待，上菜</p><p>die Babykost 婴儿膳食</p><p>sich anstrengen 尽力，想方设法</p><p>Umso wichtiger ist… 更重要的是……</p><p>das Mundgefühl-/ 口感</p><p>beschrieb = beschreiben 过去式</p><p>für … sorgen 关心，负责</p><p>der Geruch-&quot;e 气味</p><p>der Bratgeruch 煎烤气味</p><p>zusammenlaufen 汇合，混合 可分v</p><p>für … verantwortlich sein 为……负责</p><p>das Weißmehlbrötchen 白面粉面包</p><p>haben nichts mit Dativ zu tun 和……有关</p><p>der Speichel-/ 口水，唾液</p><p>verschwunden 消失了的 adj</p><p>das Prinzip-pien 原理，原则</p><p>nachprüfen 在此检测，检查，复查</p><p>第一虚拟式：引用别人说的话</p><p>die Zutat-en 配料，佐料</p><p>entstehen 形成，产生v</p><p>funktionierend 运转正常的，生效的 adj</p><p>der Konsument-en 消费者</p><h1 id="4-11-einladung-zur-weinprobe"><a class="markdownIt-Anchor" href="#4-11-einladung-zur-weinprobe"></a> 4-11 Einladung zur Weinprobe</h1><p>使用带 zu 不定式连接共享主语的句子</p><p>leiblich 身体的，血缘的 adj</p><p>leibliches Wohl 身体安康</p><p>使用倒装句</p><p>适量使用被动句</p><p>musikalisch 音乐的，悦耳的 adj</p><p>插入时间状语</p><p>sich amüsieren 感到高兴，觉得有趣</p><p>jmdm etwas[Akkusativ] breiten 为……做好准备</p><p>die Treue-/ 忠心，忠诚</p><p>der Katalog-e 目录册</p><h1 id="4-12-sprachbausteine-teil-1"><a class="markdownIt-Anchor" href="#4-12-sprachbausteine-teil-1"></a> 4-12 Sprachbausteine Teil 1</h1><p>德语完型填空</p><p>10 Minuten（8 Minuten 做题，2 Minuten 填答题卡）</p><h2 id="解题思路"><a class="markdownIt-Anchor" href="#解题思路"></a> 解题思路</h2><p>第一遍速读短文，直接做题，圈出不定项。</p><p>第二遍精读，排除嫌疑项，确定答案</p><p>完形填空考察词汇量和语法！</p><p>an Akkusativ denken</p><p>die Heimfahrt 回家的路</p><p>gegen + 整点 在……点左右</p><p>etwa 大约 + 数量</p><p>etwas 一些事情/一点点</p><h1 id="4-13-folge-4-multi-kulti"><a class="markdownIt-Anchor" href="#4-13-folge-4-multi-kulti"></a> 4-13 Folge 4 - Multi Kulti</h1><p>Vegetarier essen kein Fleisch.</p><p>Charlotte ist allergisch gegen Weizen und Roggen.</p><p>Zwei der Eingeladenen sind gegen Rindfleisch.</p><p>Renate ist im Hühnerschutz aktiv und isst deshalb kein Huhn.</p><p>Frieder ekelt sich vor Fisch.</p><p>Lenny ist Jude und Anitas neuer Freund ist Moslem. Sie dürfen wegen ihrer Religion kein Schweinefleisch essen.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Tägliches Leben&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Über Gewohnhe</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>动手强化学习 第七章 深度强化学习价值方法</title>
    <link href="https://tinsir888.github.io/posts/c2c3d571.html"/>
    <id>https://tinsir888.github.io/posts/c2c3d571.html</id>
    <published>2023-05-05T16:00:00.000Z</published>
    <updated>2023-05-10T06:11:17.044Z</updated>
    
    <content type="html"><![CDATA[<h1 id="深度强化学习"><a class="markdownIt-Anchor" href="#深度强化学习"></a> 深度强化学习</h1><h2 id="价值和策略近似"><a class="markdownIt-Anchor" href="#价值和策略近似"></a> 价值和策略近似</h2><p>是否可以通过深度神经网络直接近似价值/策略函数？</p><h2 id="端到端强化学习"><a class="markdownIt-Anchor" href="#端到端强化学习"></a> 端到端强化学习</h2><p>标准的 传统的 计算机视觉 需要 特征提取 中级特征提取 分类……</p><p>而 AlexNet 的提出，深度学习的出现，使得 计算机视觉称为端到端的</p><p>相同的，深度强化学习使强化学习算法能够以端到端的方式解决复杂问题</p><p>深度强化学习</p><ol><li>利用深度神经网络进行价值函数和策略近似</li><li>使得算法能够以端到端的方式解决复杂问题</li></ol><p>2013，DeepMind 首次提出，用深度强化学习玩 Atari 游戏。</p><h2 id="深度学习和强化学习结合"><a class="markdownIt-Anchor" href="#深度学习和强化学习结合"></a> 深度学习和强化学习结合</h2><ul><li>价值函数和策略编程深度神经网络</li><li>高维的参数空间</li><li>难以稳定训练</li><li>容易过拟合</li><li>需要大量数据</li><li>需要高性能计算</li><li>CPU 收集经验数据 - GPU 训练神经网络 trade-off</li></ul><h2 id="深度强化学习的分类"><a class="markdownIt-Anchor" href="#深度强化学习的分类"></a> 深度强化学习的分类</h2><ul><li><p>基于价值：深度 Q 网络及其变种</p></li><li><p>基于随机策略的方法：策略梯度、自然策略梯度、信任区域策略优化 TRPO、近端策略优化 PPO、A3C</p></li><li><p>确定性策略梯度 DPG，DDPG</p></li></ul><h1 id="深度-q-网络"><a class="markdownIt-Anchor" href="#深度-q-网络"></a> 深度 Q 网络</h1><h2 id="dqn"><a class="markdownIt-Anchor" href="#dqn"></a> DQN</h2><h3 id="复习-q-learning"><a class="markdownIt-Anchor" href="#复习-q-learning"></a> 复习 Q learning</h3><ul><li>不直接更新策略</li><li>基于值的方法</li><li>Q learning 学习一个由 θ 作为参数的函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></li></ul><p>而深度 Q 网络的直接想法</p><ul><li>使用神经网络逼近 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></li><li>算法不稳定<ul><li>连续采样得到的 SASR 不满足独立分布，因为 Q 频繁更新</li></ul></li></ul><p>解决办法</p><ul><li>经验回放</li><li>使用双网络结构：评估网络和目标网络</li></ul><h3 id="经验回放"><a class="markdownIt-Anchor" href="#经验回放"></a> 经验回放</h3><p>存储训练过程中的每一步 SASR 于数据库中，采样时服从均匀分布</p><p>优先经验回放</p><ul><li>衡量标准<ul><li>以 Q 函数值与 Target 值的差异来衡量学习的价值</li><li>为了使各样本都有机会被采样</li></ul></li><li>选中的概率</li><li>重要性采样 采用权重</li></ul><h3 id="目标网络"><a class="markdownIt-Anchor" href="#目标网络"></a> 目标网络</h3><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><ul><li>使用较旧的参数，记为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>θ</mi><mo>−</mo></msup></mrow><annotation encoding="application/x-tex">\theta^-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.771331em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span></span></span></span>，每隔 C 步和训练网络的参数同步一次</li></ul><p>目标网络是慢更新的网络，相对比较稳定</p><h3 id="算法流程"><a class="markdownIt-Anchor" href="#算法流程"></a> 算法流程</h3><ol><li>收集数据，使用 ε-greedy 的策略进行探索，得到的状态动作组 sars 放如经验池 replay-buffer</li><li>采样：从数据库中采样 k 个动作状态组</li><li>更新网络：<ul><li>采样得到的数据计算 loss</li><li>更新 Q 函数网络 θ</li><li>每 C 次迭代更新以此目标网络的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>θ</mi><mo>−</mo></msup></mrow><annotation encoding="application/x-tex">\theta^-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.771331em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span></span></span></span></li></ul></li></ol><h2 id="double-dqn"><a class="markdownIt-Anchor" href="#double-dqn"></a> Double DQN</h2><h3 id="q-learning-中的过估计"><a class="markdownIt-Anchor" href="#q-learning-中的过估计"></a> Q-Learning 中的过估计</h3><p>Q 函数的过高估计 over estimation</p><ul><li>Target 值，如果当前估计有偏差，max 函数会放大这个偏差</li></ul><p>过高估计的原因</p><ul><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>≥</mo><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbb E[\max(X_1,X_2)]\geq\max(\mathbb E(X_1),\mathbb E(X_2))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mop">max</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathbb">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathbb">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo><mi>max</mi><mo>⁡</mo></mo><mrow><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∈</mo><mi>A</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>≥</mo><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\max_{a&#x27;\in A}(s_{t+1},a&#x27;)\geq\max(\mathbb E(R|s_{t+1},a_1,\theta&#x27;),\mathbb E(R|s_{t+1},a_2,\theta&#x27;),\cdots)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.17737em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathbb">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathbb">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mclose">)</span></span></span></span></p></li></ul><p>Q 函数的值被视作在状态 s‘，动作 a’ 下的回报期望值</p><p>Q 函数的过高估计随着候选行动数量增大变得更严重</p><h3 id="解决过估计问题"><a class="markdownIt-Anchor" href="#解决过估计问题"></a> 解决过估计问题</h3><p>使用不同的网络来估值和决策</p><p>两个 Q 网络：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">Q_\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 用于选择动作；<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub></mrow><annotation encoding="application/x-tex">Q_{\theta&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 用于评估更新 label</p><h2 id="dueling-dqn"><a class="markdownIt-Anchor" href="#dueling-dqn"></a> Dueling DQN</h2><p>假设动作值函数服从某分布 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>∼</mo><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi>μ</mi><mo separator="true">,</mo><mi>σ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a)\sim\mathcal N(\mu,\sigma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathnormal">μ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mclose">)</span></span></span></span></p><p>显然：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>=</mo><mi>μ</mi></mrow><annotation encoding="application/x-tex">V(x)=\mathbb E[Q(s,a)]=\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">μ</span></span></span></span></p><p>同样有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>μ</mi><mo>+</mo><mi>ϵ</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a)=\mu+\epsilon(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">μ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span>（有偏估计）</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><mi>V</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\epsilon(s,a)=Q(s,a)-V(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span> 也被称为优势函数 Advantage Function</p><h3 id="优势函数"><a class="markdownIt-Anchor" href="#优势函数"></a> 优势函数</h3><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^\pi(s,a)=Q^\pi(s,a)-V^\pi(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><msub><mi>R</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo>=</mo><mi>s</mi><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo>=</mo><mi>a</mi><mo separator="true">,</mo><mi>π</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q^\pi(s,a)=\mathbb E[R_t|s_t=s,a_t=a,\pi]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>a</mi><mo>∼</mo><mi>π</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">V^\pi(s)=\mathbb E_{a\sim\pi(s)}[Q^\pi(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>不同优势函数的聚合形式</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">)</mo><mo>=</mo><mi>V</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mo><mi>max</mi><mo>⁡</mo></mo><mrow><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∈</mo><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow></msub><mi>A</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a;\theta,\alpha,\beta)=V(s;\theta,\beta)+(A(s,a;\theta,\alpha)-\max_{a&#x27;\in|A|}A(s,a&#x27;;\theta,\alpha))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">A</span><span class="mord mtight">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">)</mo><mo>=</mo><mi>V</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo stretchy="false">)</mo><mo>−</mo><mfrac><mn>1</mn><mrow><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><mi>A</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a;\theta,\alpha,\beta)=V(s;\theta,\beta)+(A(s,a;\theta,\alpha)-\frac{1}{|A|}A(s,a&#x27;;\theta,\alpha))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.365108em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathnormal mtight">A</span><span class="mord mtight">∣</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></li></ul><h3 id="优点"><a class="markdownIt-Anchor" href="#优点"></a> 优点</h3><ul><li>处理与动作关联较小的状态</li><li>状态值函数的学习较为有效：一个状态值对应多个优势函数值</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;深度强化学习&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#深度强化学习&quot;&gt;&lt;/a&gt; 深度强化学习&lt;/h1&gt;
&lt;h2 id=&quot;价值和策略近似&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#价值和策略近似&quot;&gt;&lt;</summary>
      
    
    
    
    <category term="动手学习强化学习课程笔记" scheme="https://tinsir888.github.io/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="强化学习" scheme="https://tinsir888.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>动手强化学习 第六章 规划与学习</title>
    <link href="https://tinsir888.github.io/posts/786e440a.html"/>
    <id>https://tinsir888.github.io/posts/786e440a.html</id>
    <published>2023-05-04T16:00:00.000Z</published>
    <updated>2023-05-05T14:04:51.311Z</updated>
    
    <content type="html"><![CDATA[<p>learning by planing</p><h1 id="入门算法与介绍"><a class="markdownIt-Anchor" href="#入门算法与介绍"></a> 入门算法与介绍</h1><h2 id="模型是什么"><a class="markdownIt-Anchor" href="#模型是什么"></a> 模型是什么</h2><p>给定一个状态和动作，模型能够预测下一个状态和奖励的分布，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi>r</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(s&#x27;,r|s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><ul><li>s, a：给定的状态和动作</li><li>s’, r：下一个状态和奖励</li></ul><p>模型的分类：分布模型（distribution model，类似于白盒模型）、样本模型（sample model，黑盒模型）</p><p>以掷骰子为例：分布模型指的是得到骰子数字总和的所有可能性及其概率；样本模型之采样得到一种骰子的数字综合</p><p>模型的作用：得到模拟的经验数据（simulated experiences）</p><h2 id="规划是什么"><a class="markdownIt-Anchor" href="#规划是什么"></a> 规划是什么</h2><h3 id="规划-planning"><a class="markdownIt-Anchor" href="#规划-planning"></a> 规划 planning</h3><p>输入一个模型，输出一个策略的搜索过程</p><ul><li>状态空间的规划 state-space planning</li><li>规划空间的规划 plan-space planning</li></ul><p>规划的通用框架</p><p>模型→模拟经验→值函数→策略</p><h3 id="规划的好处"><a class="markdownIt-Anchor" href="#规划的好处"></a> 规划的好处</h3><ul><li>任何时间点都可以被打断或重定向</li><li>复杂问题下进行小而增量式的时间步规划是很有效的</li></ul><h2 id="规划和学习"><a class="markdownIt-Anchor" href="#规划和学习"></a> 规划和学习</h2><p>不同点：规划用模型产生的模拟经验；学习用环境产生的真实经验</p><p>相同点：通过回溯更新值函数估计；学习的方法可以用在模拟经验上</p><h2 id="dyna-算法"><a class="markdownIt-Anchor" href="#dyna-算法"></a> Dyna 算法</h2><p>集成规划、决策和学习的算法</p><ul><li>更新模型<ul><li>模型学习或间接强化学习</li><li>对经验数据的需求少</li></ul></li><li>更新值函数和策略<ul><li>直接强化学习</li><li>简单不受模型偏差的影响</li></ul></li></ul><h3 id="dyna-算法框架"><a class="markdownIt-Anchor" href="#dyna-算法框架"></a> Dyna 算法框架</h3><ul><li>和环境交互产生真实经验</li><li>直接强化学习更新函数策略</li><li>使用真实经验更新模型</li><li>基于模型随机采样得到模拟经验</li><li>使用模拟经验做规划更新值函数和策略</li></ul><p><img src="/pic/rlpics/7.PNG" alt="" /></p><p>对于比较简单的环境，进行 planing 后模型能收敛更快。</p><p>模型不准了怎么办？</p><ul><li>环境是随机的，并且之观察了有限的样本</li><li>模型使用了泛化性不好的函数估计</li><li>环境改变了，并且还没有被算法检测到</li></ul><h1 id="采样方法"><a class="markdownIt-Anchor" href="#采样方法"></a> 采样方法</h1><h2 id="优先级采样"><a class="markdownIt-Anchor" href="#优先级采样"></a> 优先级采样</h2><p>常见的采样方法：均匀随机采样；模拟的经验和更新应集中在一些特殊的状态动作</p><p>更好的采样方法：</p><ul><li>后向聚焦 backward focusing：很多状态的值发生变化带动前继状态的值发生变化</li><li>有的值改变多，有的改变少</li></ul><p>优先级采样</p><ul><li><p>设置优先级更新队列</p><p>根据值改变的幅度定义优先级 <span class='katex-error' title='Error: Font metrics not found for font: .'>𝑃 ← |𝑅 + 𝛾\max_𝑎𝑄(S′,a)−𝑄(𝑆,𝐴)|</span></p></li></ul><h3 id="局限性及改进"><a class="markdownIt-Anchor" href="#局限性及改进"></a> 局限性及改进</h3><p>随机环境种利用期望更新的方法，会可能浪费很多计算资源在一些低概率的状态转移上</p><p>改进：引入采样更新</p><h2 id="期望更新和采样更新"><a class="markdownIt-Anchor" href="#期望更新和采样更新"></a> 期望更新和采样更新</h2><p>值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>a</mi><mo>∼</mo><mi>π</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">V(s)=\mathbb E_{a\sim\pi(s)}[Q(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>动作值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><p>期望更新 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>←</mo><msub><mo>∑</mo><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi>r</mi></mrow></msub><mover accent="true"><mi>p</mi><mo>^</mo></mover><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi>r</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">[</mo><mi>r</mi><mo>+</mo><mi>γ</mi><msub><mo><mi>max</mi><mo>⁡</mo></mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mi>Q</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q(s,a)\leftarrow\sum_{s&#x27;,r}\hat p(s&#x27;,r|s,a)[r+\gamma\max_{a&#x27;}Q(s&#x27;,a&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.18771em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17826999999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">p</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32797999999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><ul><li>需要分布模型</li><li>需要更大的计算量</li><li>没有偏差更准确</li></ul><p>采样更新 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>←</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>α</mi><mo stretchy="false">[</mo><mi>r</mi><mo>+</mo><mi>γ</mi><msub><mo><mi>max</mi><mo>⁡</mo></mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mi>Q</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q(s,a)\leftarrow Q(s,a)+\alpha[r+\gamma\max_{a&#x27;}Q(s&#x27;,a&#x27;)-Q(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32797999999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><ul><li>只需要采样模型</li><li>计算量需求更低</li><li>受到采样误差(sampling error)的影响</li></ul><h3 id="不同分支因子下的表现"><a class="markdownIt-Anchor" href="#不同分支因子下的表现"></a> 不同分支因子下的表现</h3><p>假设</p><ul><li>b 个后续状态等可能</li><li>初始估计误差为 1</li><li>下一个状态值假设估计正确</li></ul><p>结果</p><ul><li>分支因子越多，采样更新越接近期望更新</li><li>大的随机分支银子和状态数量较多的情况下，采样更新更好</li></ul><p>所以环境越复杂越应该用采样更新而不是期望更新</p><h2 id="轨迹采样"><a class="markdownIt-Anchor" href="#轨迹采样"></a> 轨迹采样</h2><p>对比动态规划：对整个状态空间进行遍历，没有侧装实际需要关注的状态上</p><p>在状态空间种按照特定分布采样：根据当下策略所关测的分布进行采样</p><p>轨迹采样的状态转移和奖励由模型决定；动作由当前的策略决定</p><h3 id="轨迹采样的优缺点"><a class="markdownIt-Anchor" href="#轨迹采样的优缺点"></a> 轨迹采样的优缺点</h3><p>优点</p><ul><li>不需要指导当前策略下状态的分布</li><li>计算量少，简单有效</li></ul><p>缺点</p><ul><li>不断重复更新已经被访问的状态</li></ul><h1 id="决策时规划"><a class="markdownIt-Anchor" href="#决策时规划"></a> 决策时规划</h1><h2 id="实时动态规划"><a class="markdownIt-Anchor" href="#实时动态规划"></a> 实时动态规划</h2><p>和传统动态规划的区别</p><ul><li>实时的轨迹采样</li><li>只更新轨迹访问的状态值</li></ul><p>优势</p><ul><li>跳过策略无关的状态</li><li>解决状态集合规模大的问题上具有优势</li><li>满足一定条件下可以以概率 1 收敛到最优策略</li></ul><h2 id="决策时规划-2"><a class="markdownIt-Anchor" href="#决策时规划-2"></a> 决策时规划</h2><p>背景规划 background planning</p><ul><li>规划是为了更新很多状态值供后续动作的选择</li></ul><p>决策时规划 decision-time planning</p><ul><li>只着眼于当前状态的动作选择</li><li>在不需要快速反应的应用种很有效，比如棋类游戏</li></ul><h3 id="启发式搜索"><a class="markdownIt-Anchor" href="#启发式搜索"></a> 启发式搜索</h3><ul><li>访问当前状态，对后续可能的情况进行树结构展开</li><li>叶节点代表估计的值函数</li><li>回溯到当前状态，方式类似于值函数的更新方式</li></ul><p>启发式搜索就可以使用决策时规划</p><p>贪婪策略在单步情况下的扩栈</p><p>搜索越深，计算量越大，得到的动作越接近最有</p><p>性能提升不是源于多步更新，而是源于专注当前状态的后续可能</p><h3 id="rollout-算法"><a class="markdownIt-Anchor" href="#rollout-算法"></a> Rollout 算法</h3><ul><li>从当前状态进行模拟的蒙特卡洛估计</li><li>选取最高估计值的动作</li><li>在下一个状态重复上述步骤</li></ul><p>特点</p><ul><li>决策时规划，从当前状态进行 rollout</li><li>直接目的类似于策略迭代和改进，寻找更优的策略</li><li>表现取决于蒙特卡洛方法估值的准确性</li></ul><p>Rollout 算法的加速方法</p><ul><li>多处理器进行并行采样</li><li>轨迹截断，用存储的值估计代替回报</li><li>剔除不可能称为最佳动作的动作（剪枝）</li></ul><h3 id="蒙特卡洛树搜索"><a class="markdownIt-Anchor" href="#蒙特卡洛树搜索"></a> 蒙特卡洛树搜索</h3><p>选择、扩展、模拟、回溯</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;learning by planing&lt;/p&gt;
&lt;h1 id=&quot;入门算法与介绍&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#入门算法与介绍&quot;&gt;&lt;/a&gt; 入门算法与介绍&lt;/h1&gt;
&lt;h2 id=&quot;模型是什么&quot;&gt;&lt;a class=&quot;markdown</summary>
      
    
    
    
    <category term="动手学习强化学习课程笔记" scheme="https://tinsir888.github.io/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="强化学习" scheme="https://tinsir888.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 3 Freizeit und Fitness</title>
    <link href="https://tinsir888.github.io/posts/bb57c478.html"/>
    <id>https://tinsir888.github.io/posts/bb57c478.html</id>
    <published>2023-04-01T16:00:00.000Z</published>
    <updated>2023-05-09T08:29:11.501Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ol><li>Freizeit und Fitness</li><li>Ratschläge mit sollte Argumente vorbringen</li><li>Präpositionen bei Zeitangaben</li><li>Komparation, Konjunktiv II</li></ol><h1 id="3-1-freizeitbeschäftigung"><a class="markdownIt-Anchor" href="#3-1-freizeitbeschäftigung"></a> 3-1 Freizeitbeschäftigung</h1><p>der Film-e 胶片</p><p>der Kopfhörer- 耳机</p><p>Nickerchen machen 小憩</p><p>das Bungeespringen 蹦极</p><p>klettern 攀岩</p><p>der Tennisschläger- 网球拍</p><p>radeln 骑自行车</p><p>zappen 换电视台</p><p>der Gesellschaftstanz 国标，交谊舞</p><p>das Sonnenbad 日光浴</p><p>entspannend 令人放松的 adj</p><p>meditieren 冥想</p><p>erholsam 养神的 adj</p><p>das Rafting 漂流</p><p>sich abspielen = stattfinden 举行，进行，发生</p><p>hauptsächlich 主要的，重要的</p><p>der Terminkalender- 记事日历，备忘日历</p><p>randvoll 装满的，倒满的 adj</p><p>die Wirtschaft-en 经济；饮食店；家务家政；客栈；劳累麻烦</p><p>根据课文，完成书上 33 页第 6 题：</p><table><thead><tr><th style="text-align:center">Wer?</th><th style="text-align:center">wann?</th><th style="text-align:center">wo?</th><th style="text-align:center">warum?</th><th style="text-align:center">Besonderheiten</th></tr></thead><tbody><tr><td style="text-align:center">Brinkmanns</td><td style="text-align:center">am Wochenende</td><td style="text-align:center">/</td><td style="text-align:center">Das macht den Kindern Spaß.</td><td style="text-align:center">unterwegs Eis essen können.</td></tr><tr><td style="text-align:center">Silke</td><td style="text-align:center">/</td><td style="text-align:center">Kino</td><td style="text-align:center">Es gibt für sie nichts Schöneres.</td><td style="text-align:center">isst gern Gummibärchen/Liebesfilme bei schlechter Laune/nicht allein in Kinderfilme</td></tr><tr><td style="text-align:center">Erdmanns</td><td style="text-align:center">Bei schönem Wetter/fast jedes Wochenende</td><td style="text-align:center">durch die Luft</td><td style="text-align:center">tolles Gefühl</td><td style="text-align:center">/</td></tr><tr><td style="text-align:center">Maxl</td><td style="text-align:center">Fast jeden Tag/nach der Arbeit</td><td style="text-align:center">Fitness-Studio</td><td style="text-align:center">Man muss sich doch fit halten/gut aussieht</td><td style="text-align:center">nach dem Training mit Leuten Energie-Drinks trinken</td></tr><tr><td style="text-align:center">Senta</td><td style="text-align:center">drei- bis viermal die Woche Training/jedes Wochenende</td><td style="text-align:center">Fußballverein</td><td style="text-align:center">Sie mag alles was mit Bällen zu tun hat./Es macht sehr viel Spaß.</td><td style="text-align:center">in die Landesliga schaffen</td></tr><tr><td style="text-align:center">Ilona</td><td style="text-align:center">am Abend/am Wochenende</td><td style="text-align:center">daheim/bei Freunden</td><td style="text-align:center">Ruhe haben</td><td style="text-align:center">mit Freunden kochen/sich unterhalten</td></tr></tbody></table><h1 id="3-2-die-mini-umfrage-1"><a class="markdownIt-Anchor" href="#3-2-die-mini-umfrage-1"></a> 3-2 Die Mini-Umfrage (1)</h1><p>leidenschaftlich 狂热的，热情澎湃的 adj</p><p>jmdn von … abhalten 阻止某人做某事，妨碍 v</p><p>das Stadtviertel- 城区 = der Stadtteil</p><p>das Gummibärchen- 小熊软糖</p><p>dasitzen 坐在那里 v</p><p>sich trauen 敢于，勇于做某事</p><p>die Ballonfahrt-en 热气球之旅</p><p>faszinieren 令人神往，令神魂颠倒</p><p>sich entschließen 决定 - sich entschlossen haben</p><p>sich Dativ anschließen 加入，接班 可分v - haben angeschlossen</p><p>das Ballonfahrer-Team 热气球驾驶队</p><p>lautlos 无声的，寂静的，悄悄的</p><p>gleiten 飞翔，滑翔 v - sein geglitten - glitt</p><p>im Zeitlupentempo 以极慢的速度</p><p>das Zeitlupentempo 慢节奏，慢速度</p><blockquote><p>die Lupen- 放大镜</p><p>das Tempo-s 速度</p><p>das Tempomat 自动速度，巡航控制</p></blockquote><h1 id="3-3-die-mini-umfrage-2"><a class="markdownIt-Anchor" href="#3-3-die-mini-umfrage-2"></a> 3-3 Die Mini-Umfrage (2)</h1><p>haben mit… zu tun 与……有关</p><p>ständig 不断地，经常地 adv</p><p>die Damenmannschaft-en 女队</p><p>die Saison 旺季，赛季</p><p>daheim 在家 adv</p><p>auf Achse sein 连轴转，忙忙碌碌</p><p>der Freizeitstress-/ 休闲压力</p><p>entweder … oder … 或者……或者……</p><p>sich unterhalten 聊天</p><h1 id="3-4-ein-telefongespräch"><a class="markdownIt-Anchor" href="#3-4-ein-telefongespräch"></a> 3-4 Ein Telefongespräch</h1><p>die Ewigkeit-en 永久，永恒</p><p>unbedingt 无论如何都要</p><p>das Inline-Skates 直排轮</p><p>ausmachen 商定 可分v</p><p>klettern 攀登</p><p>7 B</p><blockquote><p>Susi will mit Markus eine Inline-Tour machen. Markus will am Wochenende mit Willi klettern gehen, aber er hat noch keinen Termin vereinbart（约定，商定）. Susi überredet（说服，劝说） Markus am Samstag zu klettern und am Sonntag die Inline-Tour zu machen. Susi kommt am Sonntag gegen acht zu Markus.</p></blockquote><h1 id="3-5-um-zu-带-zu-不定式表目的"><a class="markdownIt-Anchor" href="#3-5-um-zu-带-zu-不定式表目的"></a> 3-5 um… zu… 带 zu 不定式表目的</h1><p>einleiten 引入</p><p>annehmen 接收</p><p>ablehnen 拒绝，不接受</p><p>ausschauen 寻找（地区）</p><p>verabredet 约好了的，商定好的 adj</p><h2 id="带-zu-不定式表目的"><a class="markdownIt-Anchor" href="#带-zu-不定式表目的"></a> 带 zu 不定式表目的</h2><ul><li>Warum fährt sie nach Deutschland?</li><li>Sie möchte an der TU Dresden studieren.</li></ul><p>主从复合句：Sie fährt nach Deutschland, weil sie an der TU Dresden studieren möchte.</p><p>带 zu 不定式：Sie fährt nach Deutschland, <strong>um</strong> an der TU Dresden <strong>zu</strong> studieren.</p><ul><li>Wozu leiht der Student von der Bank 10.000 Euro?</li><li>Er kann sein Studium in Deutschland finanzieren.</li></ul><p>带 zu 不定式：Der Student leiht von der Bank 10.000 Euro, <strong>um</strong> sein Studium in Deutschland finanzieren <strong>zu</strong> können.</p><p><strong>前后主语一致时，可用 um… zu… 结构</strong></p><p>anstrengend 疲劳的，费力的</p><p>möchten, wollen, lieben 等不能作为目的，所以不能用带 zu 不定式表目的</p><p>wegen + 第二格 由于……</p><h1 id="3-6-interview-sportjournalistin-1"><a class="markdownIt-Anchor" href="#3-6-interview-sportjournalistin-1"></a> 3-6 Interview Sportjournalistin (1)</h1><p>das Jogging 慢跑</p><p>das Aerobic 有氧操</p><p>das Bodystyling 健美运动</p><p>das Spinning 动感单车</p><p>boomen 兴旺，兴隆 v</p><p>derzeit 当时；现在</p><p>schätzen 估计，估量</p><p>der Mangel-/ 不足，缺少</p><p>mühevoll 费力的，艰难的 adj</p><p>ironisch 讽刺的，挖苦的，嘲笑的</p><p>die Zeile-n 字行</p><p>österreichisch 奥地利的</p><p>das Schwerpunktthema-men 主要主题</p><p>das Wellness 健康</p><p>im Kommen sein 正在上升</p><p>die Sportjournalistin-nen 体育女记者</p><p>die Autorin-nen 女作家</p><p>die Kommentierung-en 评论，评价</p><p>der Leistungssport 竞技体育</p><p>die Erscheinung-en 现象，表象</p><p>das Doping 兴奋剂</p><p>die Invalidität 伤残，残疾</p><p>die Sportinvalidität 运动伤残</p><p>sinnvoll 意义深远的，有意义的</p><p>zumindest 至少</p><p>die Bewegung 运动，动作，运行</p><h1 id="3-7-interview-sportjournalistin-2"><a class="markdownIt-Anchor" href="#3-7-interview-sportjournalistin-2"></a> 3-7 Interview Sportjournalistin (2)</h1><p>nachholen 补回，找回，补上 可分v</p><p>mangelnd 缺少的，缺乏的 adj</p><p>der Breitensport-/ 群众性体育运动</p><blockquote><p>breit 宽的 breiten 展开的</p></blockquote><p>das Image-s 形象</p><p>abschreckend 妨碍的，阻碍的 adj</p><p>im Gegensatz zu… 与……相反</p><p>vermitteln 传递，传达 v</p><p>einhergehen mit… 伴随着 可分v</p><p>der Eindruck-&quot;e 印象</p><p>die Anstrengung-en 劳累，辛劳</p><blockquote><p>anstrengend 劳累的，费力的</p></blockquote><p>der Schweiß-e 汗水</p><p>der Muskelkater-/ 肌肉疼痛</p><p>der Trend-s 潮流</p><p>die Altkleidersammlung 旧衣回收</p><blockquote><p>die Sammlung 收集，采集，捐款</p></blockquote><p>hauteng 紧身的 adj</p><p>weg mit… 丢弃，扔掉</p><p>bleich 苍白的 adj</p><p>die Botschaft-en 消息，通知；大使馆</p><h1 id="3-8-interview-sportjournalistin-3"><a class="markdownIt-Anchor" href="#3-8-interview-sportjournalistin-3"></a> 3-8 Interview Sportjournalistin (3)</h1><p>nun 现在；既然；那么</p><p>abschrecken 吓退，吓倒</p><p>jmdn von etwas abschrecken 吓住某人使不敢做某事</p><p>bereit 准备就绪的 adj</p><p>der Mitgliedsbeitrag 会员费，团费</p><p>die Ski-Ausrüstung 滑雪装备</p><p>das Surfbrett-er 冲浪板</p><p>das Segel- 帆</p><p>selbstverständlich 理所应当的，不言而喻的</p><p>die Mitgliedschaft 会员身份，会员资格</p><p>alleinig 唯一的 adj</p><p>der Gestalter- 创造者，塑造者</p><p>umfassend 广泛的，广阔的 adj</p><p>die Stange-n 杆</p><p>bei der Stange 流连忘返</p><p>der Heimtrainer- 家庭式训练器材</p><p>im Grunde 基本上</p><p>motivieren 激发……的积极性，煽动</p><p>jagen 驱逐，打猎</p><h1 id="3-9-interview-sportjournalistin-4"><a class="markdownIt-Anchor" href="#3-9-interview-sportjournalistin-4"></a> 3-9 Interview Sportjournalistin (4)</h1><p>zu seinem Recht kommen 保障，拥有权力，正确</p><blockquote><p>Niemand kann zu 100% zu seinem Recht kommen. 没人能100%保证正确。</p></blockquote><p>fachkundig 专业的，内行的 adj</p><p>die Anleitung-en 指导，说明</p><p>allerdings 当然，固然</p><p>gegen 关于</p><p>statt 不……而……，代替，而不是</p><p>der Abstand-&quot;e 距离，间隔</p><p>in regelmäßigen Abständen 定期</p><p>dauerhaft 持久的，稳定的 adj</p><p>auf Akkusativ zurückgehen 起源，追溯到，归根</p><p>die Sportärztin-nen 运动保健医生</p><h1 id="3-10-sollten-第二虚拟式表建议"><a class="markdownIt-Anchor" href="#3-10-sollten-第二虚拟式表建议"></a> 3-10 sollten 第二虚拟式表建议</h1><p>abwechseln 交替，轮流</p><p>ausgedehnt 伸展的，扩展的，长距离的 adj</p><p>der Gesundheitszustand-&quot;e 健康状况</p><p>problemfrei 无问题的 adj</p><p>die Anleitung-en 指导，说明</p><p>hintereinander 一个接着一个 adv</p><p>niemals 从不</p><h2 id="第二虚拟式表建议"><a class="markdownIt-Anchor" href="#第二虚拟式表建议"></a> 第二虚拟式表建议</h2><p>regelmäßig Sport machen:</p><ul><li>Machen Sie regelmäßig Sport.</li><li>Ich rate Ihnen, regelmäßig Sport zu machen.</li><li>Sie sollten regelmäßig Sport machen.</li></ul><p>sollten 动词变位：sollte - solltest - sollte - sollten - solltet - sollten - sollten</p><p>改为 Du-Form</p><ul><li>Ich rate dir, regelmäßig Sport zu machen.</li><li>Du solltest regelmäßig Sport machen.</li><li>Mach regelmäßig Sport.</li></ul><h1 id="3-11-extremisten-1"><a class="markdownIt-Anchor" href="#3-11-extremisten-1"></a> 3-11 Extremisten (1)</h1><p>der Extremist-en 极端主义者</p><p>der Marathon 马拉松</p><p>der Triathlon 铁人三项</p><p>der Athlet-en 大力士，运动员</p><p>der Triathlet-en 铁人三项运动员</p><p>seltsam 稀奇的，奇特的 adj</p><p>nichts + 形容词比较级es（首字母大写）+ als 没有什么更……的事情</p><p>z. B. nichts Schöneres als, nichts Wichtigeres als</p><p>etwas + 形容词原级es（首字母大写） 一些……的事情</p><p>die Erfüllung 装满，满足</p><p>der Fluss-&quot;e 河流，江川</p><p>legendär 传奇的，传说的 adj</p><p>weltbest 世界上最好的 adj</p><p>die Langstreckenschwimmerin-nen 长距离游泳女运动员</p><p>wochenlang 数周</p><p>tagelang 数天 monatelang 数月 jahrelang 数年</p><p>über … klagen 埋怨，诉苦</p><p>der Wettkampf-&quot; 比赛，竞赛</p><p>die Ausdauer-/ 耐力，毅力，坚韧不拔</p><p>der Ausdauerathlet-en 耐力运动员</p><p>der Heimatort-e 故乡，老家</p><p>behütet 受保护的，受庇护的 adj</p><p>der Siegertyp-en 赢家</p><p>badisch 巴登州的</p><p>optimal 最佳的，最理想的 adj</p><p>die Bedingung-en 前提条件；状况</p><p>halten jemandem den Rücken frei 让某人没有后顾之忧</p><p>sich auf Akkusativ konzentrieren 全神贯注于，集中注意力</p><h1 id="3-12-extremisten-2"><a class="markdownIt-Anchor" href="#3-12-extremisten-2"></a> 3-12 Extremisten (2)</h1><p>das Trainingslager- 训练营</p><p>gelegentlich 偶然的，偶尔的</p><p>in gut zwei Wochen 足足两周之后</p><p>der Titelgewinn 夺冠</p><p>die Gelegenheit 良机，机遇</p><p>der Kerzenschein-/ 烛光</p><p>bis aufs Messer kämpfen 战斗到底</p><p>leben 过着……的生活</p><p>leben eine Liebe 过着爱情生活</p><p>äußerst 极其 adv</p><p>spontan 自动的，一时冲动的 adj</p><p>von … begeistert sein 受……感染，被……打动</p><p>schwamm 是 schwimmen 的过去式</p><p>von … hingerissen sein 为……着迷，陶醉</p><p>das Leistungsvermögen 才能，才干</p><p>jemanden faszinieren 使吸引，令人神往</p><p>rekordverliebt 热爱记录的 adj</p><p>schwärmen 追求，爱慕，崇拜</p><p>verteidigen 防卫，捍卫</p><p>die Niederlage-n 失败，失利</p><p>der Weltcuptitel 世界杯冠军</p><p>das Rennen- 竞速的比赛</p><p>der Volkssport-/ 大众运动，群众运动</p><p>das Ufer- 河岸</p><p>am Ufer 在岸边</p><p>die Siegerehrung-en 颁奖礼</p><p>der Polizeischutz-/ 警察保护</p><p>die Zuschauermassen 观众人群</p><h1 id="3-13-extremisten-3"><a class="markdownIt-Anchor" href="#3-13-extremisten-3"></a> 3-13 Extremisten (3)</h1><p>der Defekt-e 故障，缺陷，损坏</p><p>minütig 每分钟</p><p>der Trinkrhythmus 饮水的节奏</p><p>kapitulieren 投降，认输</p><p>entkräftet 精疲力竭地</p><p>auf jemanden einreden 说服，劝服，使信服</p><h1 id="3-14-präpositionen-der-zeit-支配时间的介词"><a class="markdownIt-Anchor" href="#3-14-präpositionen-der-zeit-支配时间的介词"></a> 3-14 Präpositionen der Zeit 支配时间的介词</h1><p>vor + Dativ（表时间）在……前</p><p>z. B. Vor vielen Jahren war ich einmal in China.</p><p>seit + Dativ 自从；从……以来 句子一般用现在时</p><p>z. B. Seit September lerne ich in der Grundstufe Deutsch.</p><p>bei + Dativ 在……的时候</p><p>Beim Sport haben wir kennengelernt.</p><p><em>bei 强调在进行某一项活动，动作时（宏观）</em></p><p>während + Dativ/Genitiv 在……期间</p><p>Während des Sports höre ich gern Musik.</p><p><em>während 强调贯穿整个活动，动作中（时间跨度）</em></p><p>nach + Dativ 在……之后</p><p>z. B. Nach drei Tagen war ich wieder gesund.</p><p><em>用过去时</em></p><p>in + Dativ（表时间）在……之后</p><p>z. B. In drei Tagen bin ich wieder gesund.</p><p><em>用将来时，即现在时</em></p><p>vorhaben 打算做某事</p><p>das Squash 壁球</p><p>das Vergnügen 娱乐，消遣</p><p>Es macht mir Vergnügen = Es macht mir Spaß.</p><p>besitzen 拥有</p><p>erzielen 获得，达到 bekommen + erreichen</p><p>der Carbon-Leichtbaurahmen 碳钎维轻质车架</p><blockquote><p>das Carbon 碳钎维，碳</p><p>der Leichtbau 轻质结构</p><p>der Rahmen- 框，机架，车架</p></blockquote><p>der Leichtlaufreifen- 低阻轮胎</p><blockquote><p>der Reifen- 轮胎</p></blockquote><p>computerberechnet 电脑计算的 adj</p><p>berechnet 计算得出的 adj</p><p>hydraulisch-mechanisch 液压机械的 adj</p><p>hydraulisch 液压的 adj</p><p>mechanisch 机械的 adj</p><p>die Federung-en 弹簧，避震器</p><p>die Hinterachse-n 后轮轴</p><p>die Achse-n 轴，轮轴</p><p>nicht …, sondern … 不是……而是……</p><p>um … zu … 表目的的带 zu 不定式</p><h1 id="3-15-sportlich-sportlich"><a class="markdownIt-Anchor" href="#3-15-sportlich-sportlich"></a> 3-15 Sportlich, sportlich</h1><p>als + 时间从句 当……的时候（过去时）</p><p>jemanden nach Dativ fragen 询问某人某事</p><p>die Körpergröße-n 身高</p><p>der Gang-&quot;e 过道；一道菜；变速挡位</p><p>der Lenker- 自行车/摩托车把手</p><p>der Sattel-&quot; 马鞍，鞍座</p><p>trat = treten 过去式 走一步</p><p>die Notrufnummer-n 意外事故紧急呼叫号码</p><p>der Aufkleber- 标签</p><p>neongrün 霓虹绿 adj</p><p>der Fahrraddress 自行车运动服</p><p>der Dress 运动服</p><p>kunstfaserdurchwirkt 化纤编织的 adj</p><p>die Kunstfaser 化纤</p><p>durchwirkt 交织的，缠在一起的</p><p>der Baumwollstoff 全棉物</p><p>deren 引导关系从句，进一步说明名词的属格 ……的</p><p>deren Beine = Beine der Jeans（阴性）</p><p>dessen Beine = Beine des Tisches（阳性）</p><p>dessen Beine = Beine des Sofas（中性）</p><p>deren Beine = Beine der Tische（复数）</p><p>die Leichtmetallflasche-n 轻质金属杯</p><p>vorbeigleiten 掠过，飘过，滑行过 可分v</p><p>muskelbepackt 肌肉发达的 adj</p><p>der Tachometer 里程数</p><p>richten 对准，校正</p><p>strampeln 蹬自行车；手脚乱蹬</p><h1 id="3-16-情态动词第二虚拟式"><a class="markdownIt-Anchor" href="#3-16-情态动词第二虚拟式"></a> 3-16 情态动词第二虚拟式</h1><p>weder … noch … 既不……也不……</p><p>rücksichtsvoll 考虑周全的</p><p>Aber das ist wohl nicht gemeint, wenn … 但当……的时候，就不是这个意思了</p><p>eventuell 可能发生的 adv</p><p>durchhalten 坚持不懈 可分v</p><p>Das kann mir gestohlen bleiben! 我不愿和……扯上关系。</p><p>das Getue 装腔作势，大惊小怪</p><h2 id="wären"><a class="markdownIt-Anchor" href="#wären"></a> wären</h2><p>sein 的第二虚拟式 对不可能发生的事件进行虚拟</p><blockquote><p>Wenn ich du wäre, dann würde ich mehr Sport treiben.</p><p>Wenn ich der Chef wäre, dann bekäme jeder Angestellte 10 Wochen Urlaub im Jahr.</p></blockquote><p>wäre - wärst - wäre - wären - wärt - wären</p><h2 id="hätten"><a class="markdownIt-Anchor" href="#hätten"></a> hätten</h2><p>haben 的第二虚拟式 表达委婉语气</p><blockquote><p>Haben Sie Lust, am Wochenende eine Radtour zu machen?</p><p>Hätten Sie Lust, am Wochenende eine Radtour zu machen?</p></blockquote><p>hätte - hättest - hätte - hätten - hättet - hätten</p><h2 id="würden"><a class="markdownIt-Anchor" href="#würden"></a> würden</h2><p>werden 的第二虚拟式</p><blockquote><p>Würden Sie bitte etwas langsamer sprechen?</p></blockquote><p>würden + 实义动词原形</p><p>würde - würdest - würde - würden - würdet - würden</p><h2 id="könnten"><a class="markdownIt-Anchor" href="#könnten"></a> könnten</h2><p>können 的第二虚拟式</p><blockquote><p>Könnten Sie bitte etwas langsamer sprechen?</p></blockquote><p>könnte - könntest - könnte - könnten - könntet - könnten</p><h2 id="sollten"><a class="markdownIt-Anchor" href="#sollten"></a> sollten</h2><p>sollen 的第二虚拟式</p><p>sollte - solltest - sollte - sollten - solltet - sollten</p><h2 id="wollten"><a class="markdownIt-Anchor" href="#wollten"></a> wollten</h2><p>wollen/möchten 第二虚拟式</p><p>wollte - wolltest - wollte - wollten - wolltet - wollten</p><ul><li><p>情态动词的第二虚拟式是在过去式的基础上保持词干原形（原形元音有两点的第二虚拟式也有）</p></li><li><p>ich 和第三人称动词变位相同</p></li></ul><h2 id="müssten"><a class="markdownIt-Anchor" href="#müssten"></a> müssten</h2><p>müssen 的第二虚拟式</p><p>müsste - müsstest - müsste - müssten - müsstet - müssten</p><blockquote><p>Wenn ich nachts arbeiten müsste, dann müsste ich tagsüber schlafen.</p></blockquote><h2 id="dürften"><a class="markdownIt-Anchor" href="#dürften"></a> dürften</h2><p>dürfen 的第二虚拟式</p><p>dürfte - dürftest - dürfte - dürften - dürftet - dürften</p><blockquote><p>Dürfte ich bitte 10 Minuten vor Ihrer Einfahrt parken?</p></blockquote><h1 id="3-17-比较级-最高级作定语时形容词词尾变化"><a class="markdownIt-Anchor" href="#3-17-比较级-最高级作定语时形容词词尾变化"></a> 3-17 比较级、最高级作定语时形容词词尾变化</h1><h2 id="比较级"><a class="markdownIt-Anchor" href="#比较级"></a> 比较级</h2><p>形容词比较级：形容词原形er als…</p><blockquote><p>Thomas lebt bei seinen Eltern bequemer als in einer eigenen Wohnung. bequem 做状语</p><p>Thomas führt bei seinen Eltern ein bequemer<strong>es</strong> Leben als in einer eigenen Wohnung. bequem 作名词前的定语</p></blockquote><p>形容词比较级（作定语）：形容词比较级+词尾变化 als …</p><blockquote><p>Peggy will im Training unbedingt schneller schwimmen als Thomas.</p><p>Peggy will im Training unbedingt eine schnellere Schwimmerin sein als Thomas.</p></blockquote><p>复习 A2：</p><p>不定冠词、否定冠词、物主冠词后的冠词后的形容词词尾变化</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">N</td><td style="text-align:center">-er</td><td style="text-align:center">-es</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">A</td><td style="text-align:center">-en</td><td style="text-align:center">-es</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">D</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td></tr></tbody></table><p>“三格复数，通通 -en”</p><h2 id="最高级"><a class="markdownIt-Anchor" href="#最高级"></a> 最高级</h2><p>形容词最高级（作状语）：am 形容词原形sten</p><blockquote><p>Schwimmen ist am gesündesten.</p></blockquote><p>形容词最高级（作定语）：定冠词 形容词原形st + 词尾变化</p><blockquote><p>Schwimmen ist die gesündeste Sportart.</p></blockquote><p>复习 A2：</p><p>定冠词后形容词词尾变化</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">N</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">A</td><td style="text-align:center">-en</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">D</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td></tr></tbody></table><p>“三格复数统统 -en，四格阳性 -en，其它都是 -e”</p><p>der Jäger- 猎人</p><p>jagen 狩猎，追猎，追赶</p><p>für … zuständig sein 对……负责</p><p>der Dienstplan-&quot;e 工作计划，排班表</p><p>die Energiesparlampe-n 节能灯</p><h1 id="3-18-rentner-in-deutschland"><a class="markdownIt-Anchor" href="#3-18-rentner-in-deutschland"></a> 3-18 Rentner in Deutschland</h1><p>aufsammeln 捡起 可分v</p><p>der/die Flugreisende-n 坐飞机的人</p><p>das Exemplar- 份，册</p><p>die Redaktion-en 编辑部，编辑室</p><p>wegwerfen 扔掉</p><p>Akkusativ nicht (mit) ansehen können 无法忍受，无法对……坐视不管</p><p>sich Dativ etwas Akkusativ leisten 买得起，负担得起</p><p>der Bausatz 安装包</p><p>die Leidenschaft 热情，酷爱，狂热</p><p>die Eisenbahn 铁路，铁道</p><p>halten jmdn für etwas(n./adj) 认为，把……视为</p><p>verrückt 疯癫的，精神失常的，荒诞的 adj</p><p>die Bahnstrecke-n 铁路，火车路程</p><p>die Verbindung-en 联系，连接</p><p>abfahren 乘车（巡视） 可分v</p><p>das Erlebnis 经历的事件</p><h1 id="3-19-leseverstehen-teil-3-1"><a class="markdownIt-Anchor" href="#3-19-leseverstehen-teil-3-1"></a> 3-19 Leseverstehen Teil 3 (1)</h1><p>阅读理解题型：广告配对：10 个场景，12 则广告</p><p>最多 15 分钟完成</p><p>Vor dem Lesen: 划出场景中的关键词</p><p>Lesen: 划出广告关键词；排除筛选</p><p>每个场景只能配一则广告，其中 1-2 个场景无匹配，填 0。</p><h1 id="3-20-leseverstehen-teil-3-2"><a class="markdownIt-Anchor" href="#3-20-leseverstehen-teil-3-2"></a> 3-20 Leseverstehen Teil 3 (2)</h1><p>NULL</p><h1 id="3-21-folge-3-joggen"><a class="markdownIt-Anchor" href="#3-21-folge-3-joggen"></a> 3-21 Folge 3-Joggen</h1><p>NULL</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Freizeit und Fitness&lt;/li&gt;
&lt;li&gt;Ratschläge mit sollte</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 2 Orte</title>
    <link href="https://tinsir888.github.io/posts/67f9e52f.html"/>
    <id>https://tinsir888.github.io/posts/67f9e52f.html</id>
    <published>2023-03-12T16:00:00.000Z</published>
    <updated>2023-03-31T08:46:06.611Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ol><li>Orte</li><li>Häuser beschreiben, Mengenanteile ausdrücken</li><li>Konjunktiv II: Irrealis, Passiv mit Modalverb</li><li>Adjektivdeklination, Komposita: Nomen</li></ol><h1 id="2-1-wo-würden-sie-gern-wohnen"><a class="markdownIt-Anchor" href="#2-1-wo-würden-sie-gern-wohnen"></a> 2-1 Wo würden Sie gern wohnen?</h1><p>das Baumhaus 书屋</p><p>der Leuchtturm-&quot;e 灯塔</p><p>das Bauernhaus 农舍</p><p>der Bauernhof-&quot;e 农场</p><p>das Schloss-&quot;er 城堡（居住用的）</p><p>die Burg-en 城堡（军事上的）</p><p>das Designerhaus 豪宅</p><p>der Bauwagen 房车</p><h2 id="第二虚拟式"><a class="markdownIt-Anchor" href="#第二虚拟式"></a> 第二虚拟式</h2><ul><li>Wünsche und Verlieben 愿望</li></ul><blockquote><p>Am liebsten würde ich in einem Leuchtturm wohnen.</p></blockquote><ul><li>Ratschläge 建议</li></ul><blockquote><p>Du solltest wirklich nicht in diesen Leuchtturm ziehen.</p></blockquote><ul><li>Irreale Bedingungssatze 不现实的条件</li></ul><blockquote><p>Wenn ich die Gelegenheit hätte, würde ich in einen Leuchtturm ziehen.</p></blockquote><ul><li>Höfliche Bitten 委婉的请求</li></ul><blockquote><p>Dürfte ich Sie darum bitten, Ihre Zigarette auszumachen?</p></blockquote><ol><li><p>würden + 实义动词原形</p><p>Ich würde spielen.</p><p>Ich würde arbeiten.</p><p>Ich würde studieren.</p></li><li><p>助动词</p><p>haben - hätten</p><p>sein - wären</p><p>werden - würden</p></li><li><p>情态动词</p><table><thead><tr><th style="text-align:center">人称</th><th style="text-align:center">können</th><th style="text-align:center">müssen</th><th style="text-align:center">sollen</th><th style="text-align:center">dürfen</th><th style="text-align:center">wollen</th><th style="text-align:center">mögen</th></tr></thead><tbody><tr><td style="text-align:center">ich</td><td style="text-align:center">könnte</td><td style="text-align:center">müsste</td><td style="text-align:center">sollte</td><td style="text-align:center">dürfte</td><td style="text-align:center">wollte</td><td style="text-align:center">möchte</td></tr><tr><td style="text-align:center">du</td><td style="text-align:center">könntest</td><td style="text-align:center">müsstest</td><td style="text-align:center">solltest</td><td style="text-align:center">dürftest</td><td style="text-align:center">wolltest</td><td style="text-align:center">möchtest</td></tr><tr><td style="text-align:center">er/sie/es</td><td style="text-align:center">könnte</td><td style="text-align:center">müsste</td><td style="text-align:center">sollte</td><td style="text-align:center">dürfte</td><td style="text-align:center">wollte</td><td style="text-align:center">möchte</td></tr><tr><td style="text-align:center">wir</td><td style="text-align:center">könnten</td><td style="text-align:center">müssten</td><td style="text-align:center">sollten</td><td style="text-align:center">dürften</td><td style="text-align:center">wollten</td><td style="text-align:center">möchten</td></tr><tr><td style="text-align:center">ihr</td><td style="text-align:center">könntet</td><td style="text-align:center">müsstet</td><td style="text-align:center">solltet</td><td style="text-align:center">dürftet</td><td style="text-align:center">wolltet</td><td style="text-align:center">möchtet</td></tr><tr><td style="text-align:center">sie/Sie</td><td style="text-align:center">könnten</td><td style="text-align:center">müssten</td><td style="text-align:center">sollten</td><td style="text-align:center">dürften</td><td style="text-align:center">wollten</td><td style="text-align:center">möchten</td></tr></tbody></table><p>情态动词第二虚拟式动词变位：词干 + t + 词尾</p><p>ich 和 er/sie/es 的动词变位相同</p><p>möchten 是 mögen 的第二虚拟式</p></li></ol><p>Ich würde gern in einem Leuchtturm wohnen. Dann könnte ich den Blick auf das Meer genießen.</p><p>der Blick-e 眼神，眺望</p><p>das Meer-e 海洋</p><p>genießen 享受</p><p>Ich würde gern in einem Baumhaus wohnen. Dann müsste ich mich gut geschützt fühlen.</p><p>mich gut fühlen 感觉良好</p><p>müsste 此处表肯定</p><p>geschützt 被保护的 adj</p><p>Ich würde gern in einem Bauwagen wohnen. Dann wäre ich flexibel. Weil ich keine Miete bezahlen müsste.</p><p>die Miete-n 房租</p><p>müsste 此处表必须</p><p>Ich würde gern in einem Schloss wohnen.</p><p>我想住在城堡中。</p><p>Dann hätte ich große Räume.</p><p>我就有大房间了。</p><p>Ich würde gern in einem Bauernhaus wohnen.</p><p>我想住在农舍中。</p><p>Dann könnte ich Tiere halten.</p><p>我就可以养小动物了。</p><p>Dann hätte ich Wiesen und Wälder um mich herum.</p><p>我就拥有草地和森林环绕着我。</p><p>herumhaben 周围有 可分v</p><p>die Wiese-n 草地，草场</p><p>der Wald-&quot;er 森林</p><p>Ich würde gern in einem Designerhaus wohnen.</p><p>我想住在豪宅中。</p><p>Dann hätte ich ein Haus nach meinem Geschmack.</p><p>我就拥有一栋符合我品味的房子了。</p><p>der Geschmack-/ 品味，口味</p><h1 id="2-2-häuser-beschreiben"><a class="markdownIt-Anchor" href="#2-2-häuser-beschreiben"></a> 2-2 Häuser beschreiben</h1><p>das Einfamilienhaus 单户住宅</p><p>das Mehrfamilienhaus 多户住宅</p><p>das Hochhaus 高楼</p><p>das Reihenhaus 联排别墅</p><p>der Bungalow-s 平房</p><p>der Wohnblock-s 住宅区</p><p>der Stock = das Stockwerk-e 楼层</p><p>das Treppenhaus 楼梯间</p><p>der Lift = der Aufzug 直升电梯</p><p>die Grünfläche-n 绿地面积</p><p>die Terrasse-n 露台</p><p>die erste Etage 二楼</p><p>das Dach-&quot;er 屋顶</p><p>flach 平坦的，低矮的</p><p>spitz 尖角的，尖锐的</p><p>zweiteilig 由两部分组成的 adj</p><p>schmal 狭窄的，细长的 adj</p><p>die Umgebung-en 环境</p><p>Lärm 噪音</p><p>die Gegend 地区，地方</p><p>das Feld-er 田野</p><p>die Landstraße-n 乡村公路</p><p>das Gebirge 山脉</p><h1 id="2-3-in-der-stadt-oder-im-grünen-1"><a class="markdownIt-Anchor" href="#2-3-in-der-stadt-oder-im-grünen-1"></a> 2-3 In der Stadt oder im Grünen (1)</h1><p>Hey, dass man dich auch mal wieder sieht? 嘿，好久不见</p><p>dran sein 轮到了</p><p>versuchen 尝试</p><p>die Versetzung 调配，调动</p><p>hierher 到这儿来 adv</p><p>inzwischen 在此期间 adv</p><p>feststehen 固定，确定 可分v</p><p>der Umzug-&quot;e 搬家</p><p>ein Haufen + 物 一大堆</p><p>aufgeben 放弃，终止</p><p>das Mittelmeer 地中海</p><p>begeistert 欢呼雀跃的，热情的 adj</p><p>sobald + 从句 一…就…</p><p>etwas in Aussicht haben 可指望得到，对…有希望</p><p>ausruhen 休息</p><h1 id="2-4-in-der-stadt-oder-im-grünen-2"><a class="markdownIt-Anchor" href="#2-4-in-der-stadt-oder-im-grünen-2"></a> 2-4 In der Stadt oder im Grünen (2)</h1><p>ewig lang 永远</p><p>um + 带 zu 不定式 = in order to 表目的 为了……</p><p>die Strecke-n 路程</p><p>die Wohnungstür 公寓门</p><p>die Bürotür 办公室的门</p><p>tendieren zu 倾向于</p><p>eher 倒不如说</p><p>etwas[A] im Griff haben 将……控制住</p><p>Es scheint… 看起来</p><p>übel 恶劣的，恶心的</p><p>die Gegend-en 地区</p><p>dicht 紧凑的，紧密的</p><p>dicht an dicht 并拢，并肩</p><p>drüben = overthere 在那边，在海外 adv</p><p>der Innenhof 内庭院落</p><p>mit … vergleichen 与……作比较</p><p>irgendwo = wherever 无论如何</p><p>sich[D] etwas[A] leisten 负担得起，付得起</p><p>halt 简直，干脆</p><p>auswandern - sein ausgewandert 移民</p><p>aufwachsen - sein aufgewachsen 成长，长大</p><p>jede Menge 许许多多</p><p>verbringen - haben verbracht 度过</p><p>die Millionstadt-&quot;e 百万城市</p><h1 id="2-5-genitiv-第二格"><a class="markdownIt-Anchor" href="#2-5-genitiv-第二格"></a> 2-5 Genitiv 第二格</h1><p>第二格：属格，……的</p><h2 id="定冠词"><a class="markdownIt-Anchor" href="#定冠词"></a> 定冠词</h2><table><thead><tr><th style="text-align:center">格</th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">第一格 Nominativ</td><td style="text-align:center">der</td><td style="text-align:center">das</td><td style="text-align:center">die</td><td style="text-align:center">die</td></tr><tr><td style="text-align:center">第四格 Akkusativ</td><td style="text-align:center">den</td><td style="text-align:center">das</td><td style="text-align:center">die</td><td style="text-align:center">die</td></tr><tr><td style="text-align:center">第三格 Dativ</td><td style="text-align:center">dem</td><td style="text-align:center">dem</td><td style="text-align:center">der</td><td style="text-align:center">den</td></tr><tr><td style="text-align:center">第二格 Genitiv</td><td style="text-align:center">des</td><td style="text-align:center">des</td><td style="text-align:center">der</td><td style="text-align:center">der</td></tr></tbody></table><h2 id="不定冠词"><a class="markdownIt-Anchor" href="#不定冠词"></a> 不定冠词</h2><table><thead><tr><th style="text-align:center">格</th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th></tr></thead><tbody><tr><td style="text-align:center">第一格 Nominativ</td><td style="text-align:center">ein</td><td style="text-align:center">ein</td><td style="text-align:center">eine</td></tr><tr><td style="text-align:center">第四格 Akkusativ</td><td style="text-align:center">einen</td><td style="text-align:center">ein</td><td style="text-align:center">eine</td></tr><tr><td style="text-align:center">第三格 Dativ</td><td style="text-align:center">einem</td><td style="text-align:center">einem</td><td style="text-align:center">einer</td></tr><tr><td style="text-align:center">第二格 Genitiv</td><td style="text-align:center">eines</td><td style="text-align:center">eines</td><td style="text-align:center">einer</td></tr></tbody></table><h2 id="否定冠词"><a class="markdownIt-Anchor" href="#否定冠词"></a> 否定冠词</h2><table><thead><tr><th style="text-align:center">格</th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">第一格 Nominativ</td><td style="text-align:center">kein</td><td style="text-align:center">kein</td><td style="text-align:center">keine</td><td style="text-align:center">keine</td></tr><tr><td style="text-align:center">第四格 Akkusativ</td><td style="text-align:center">keinen</td><td style="text-align:center">kein</td><td style="text-align:center">keine</td><td style="text-align:center">keine</td></tr><tr><td style="text-align:center">第三格 Dativ</td><td style="text-align:center">keinem</td><td style="text-align:center">keinem</td><td style="text-align:center">keiner</td><td style="text-align:center">keinen</td></tr><tr><td style="text-align:center">第二格 Genitiv</td><td style="text-align:center">keines</td><td style="text-align:center">keines</td><td style="text-align:center">keiner</td><td style="text-align:center">keiner</td></tr></tbody></table><h2 id="物主冠词"><a class="markdownIt-Anchor" href="#物主冠词"></a> 物主冠词</h2><table><thead><tr><th style="text-align:center">格</th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">第一格 Nominativ</td><td style="text-align:center">mein</td><td style="text-align:center">mein</td><td style="text-align:center">meine</td><td style="text-align:center">meine</td></tr><tr><td style="text-align:center">第四格 Akkusativ</td><td style="text-align:center">meinen</td><td style="text-align:center">mein</td><td style="text-align:center">meine</td><td style="text-align:center">meine</td></tr><tr><td style="text-align:center">第三格 Dativ</td><td style="text-align:center">meinem</td><td style="text-align:center">meinem</td><td style="text-align:center">meiner</td><td style="text-align:center">meinen</td></tr><tr><td style="text-align:center">第二格 Genitiv</td><td style="text-align:center">meines</td><td style="text-align:center">meines</td><td style="text-align:center">meiner</td><td style="text-align:center">meiner</td></tr></tbody></table><table><thead><tr><th style="text-align:center">词性</th><th style="text-align:center">定冠词</th><th style="text-align:center">不定冠词</th><th style="text-align:center">物主代词</th></tr></thead><tbody><tr><td style="text-align:center">m</td><td style="text-align:center">das Büro des Lehrer<strong>s</strong></td><td style="text-align:center">das Büro eines Lehrer<strong>s</strong></td><td style="text-align:center">das Büro meines Lehrer<strong>s</strong></td></tr><tr><td style="text-align:center">n</td><td style="text-align:center">die Schule des Kind<strong>es</strong></td><td style="text-align:center">die Schule eines Kind<strong>es</strong></td><td style="text-align:center">die Schule ihres Kinde<strong>s</strong></td></tr><tr><td style="text-align:center">f</td><td style="text-align:center">die Uhr der Frau</td><td style="text-align:center">die Uhr einer Frau</td><td style="text-align:center">die Uhr seiner Frau</td></tr><tr><td style="text-align:center">Pl</td><td style="text-align:center">die Taschen der Frauen</td><td style="text-align:center">/</td><td style="text-align:center">die Taschen unserer Frau</td></tr></tbody></table><ul><li><p>名词第二格一般用作前一个名词的定语，说明所属关系。</p></li><li><p>第二格名词除了冠词要变化外，<strong>阳性和中性单数名词词尾要加 -s 或 -es</strong></p><blockquote><p>一般加 -s，以下情况加 -es</p><ol><li><p>以 -s -ß -x -z 结尾的阳性和中性单数名词</p><p>das Haus - des Hauses, der Fleiß - des Fleißes</p></li><li><p>阳性和中性单音节单数名词</p><p>das Kind - des Kindes, der Arzt - des Arztes, das Buch - das Buches, der Marsch - des Marsches</p></li></ol><p>弱变化阳性单数名词第二格与第三、第四格变法相同，均加 -n -en</p><p>der Herr - des Herrn, der Student - des Studenten, der Bauer - des Bauern</p><p>以 -ismus 结尾的外来阳性名词不加任何词尾</p><p>der Sozialismus - des Sozialismus, der Kapitalismus - des Kapitalismus</p></blockquote></li></ul><h2 id="人名的第二格"><a class="markdownIt-Anchor" href="#人名的第二格"></a> 人名的第二格</h2><ul><li><p>Julian - die Schwester</p><p>Julian<strong>s</strong> Schwester ist eine bekannte Schwimmerin.</p><p>die Schwester von Julian</p></li><li><p>Frau Huber - der Freund</p><p>Frau Hubers Freund ist Fußballspieler.</p><p>der Freund von Frau Huber</p></li><li><p>Herr Tim - der Sohn</p><p>Herrn Tims Sohn spielt Tennis nur aus Spaß.</p><p>der Sohn von Herr Tim</p></li></ul><p>以上几种形式同样也可以通过介词 von 表达</p><p>当人名的最后一个字母为 -s -ß -x -z 时，不加 -s，只需加 ’</p><blockquote><p>Nils’ Arbeit gefällt ihm nicht.</p><p>Max’ Vater ist Sportler.</p><p>Franz’ Schwester möchte eine Reise nach China machen.</p></blockquote><h1 id="2-6-der-forscher-philip-tobias-1"><a class="markdownIt-Anchor" href="#2-6-der-forscher-philip-tobias-1"></a> 2-6 Der Forscher Philip Tobias (1)</h1><p>der Forscher- 学者，研究者</p><p>die Folge-n 结果，后果</p><p>die Lebensbedingung-en 生活条件</p><p>widersprechen + D 反驳，反对，与……产生矛盾 v</p><p>rund + 数字 大约 = Zirka</p><p>gründen 建立，建造</p><p>sich organisieren 组织起来</p><p>das Tausendstel 千分之一</p><p>das Hundertstel 百分之一</p><p>der Jäger- 猎人</p><p>der Sammler- 收藏家，收集人</p><p>anbauen 大面积种植 可分v</p><p>von… an 从……起</p><p>der Zeitpunkt-e 时间点</p><p>offenbar 显而易见地 adv</p><p>einzig 单独的，唯一的 adj</p><p>während + 从句 与此同时；表转折</p><p>auf die Jagd gehen 狩猎</p><p>ernähren 喂养，供养，赡养</p><p>auf einmal 一次性的，突然 adv</p><p>die Schrift-en 文字</p><p>erfinden 创造，发明</p><p>entstehen 形成，兴起</p><p>das Königreiche 王国</p><p>zunehmen 变胖，增大 可分v</p><p>die Bevölkerung 人口，居民</p><p>Christi = Christus 基督纪元</p><p>sich verändern 改变</p><p>vergangen 过去的 adj</p><p>zuvor 比以前 adv</p><p>das Dutzend 一打，十二个</p><p>der Einwohner- 居民</p><p>die Riesenstadt-&quot;e 大型城市</p><h1 id="2-7-der-forscher-philip-tobias-2"><a class="markdownIt-Anchor" href="#2-7-der-forscher-philip-tobias-2"></a> 2-7 Der Forscher Philip Tobias (2)</h1><p>der Großstadtbewohner- 大城市居民</p><p>unter Dativ leiden 忍受某事之苦</p><p>führen 进行，贯彻</p><p>das Selbstgespräch-e 自言自语</p><p>harmlos 无害的 adj</p><p>der Selbstmord-e 自杀</p><p>der Dieb-e 小偷</p><p>unterscheiden A von B 区别 A 和 B</p><p>aus Ihrer Sicht 在您看来</p><p>der Großstädter- 住在大城市的人</p><p>die Metropole-n 大都会</p><p>der Bewohner- 居民</p><p>der Verstand-/ 理解力，判断力</p><p>Es gilt für… 适用于……</p><p>die Unterschicht-en 底层人</p><p>die Oberschicht-en 高层人</p><p>der Mechanismus-/ 机制</p><p>der Mechaniker- 机械工</p><p>zukünftig 将来的</p><p>der Wald-&quot;er 森林</p><p>zerstören 摧毁，破坏 v</p><p>der Zeichentisch-e 绘图桌</p><p>die Steinzeit 石器时代</p><p>der Garten Eden 伊甸园</p><h1 id="2-8-复合名词"><a class="markdownIt-Anchor" href="#2-8-复合名词"></a> 2-8 复合名词</h1><h2 id="复合名词的形式"><a class="markdownIt-Anchor" href="#复合名词的形式"></a> 复合名词的形式</h2><h3 id="nomen-nomen"><a class="markdownIt-Anchor" href="#nomen-nomen"></a> Nomen + Nomen</h3><blockquote><p>das Brot + das Messer = das Brotmesser 切面包的刀</p><p>der Kaffee + die Kanne = die Kaffeekanne 咖啡壶</p><p>der Wein + das Glas = das Weinglas 酒杯</p></blockquote><p><strong>复合词的性和复数跟随最后一个名词</strong></p><blockquote><p>die Schule + die Bildung = die Schulbildung</p><p>das Schwein + das Fleisch = das Schweinefleisch</p></blockquote><p><strong>由名词构成的复合词，中间可能会有省略或增加的部分</strong></p><h3 id="nomen-es-en-nomen"><a class="markdownIt-Anchor" href="#nomen-es-en-nomen"></a> Nomen + -(e)s-/-(e)n- + Nomen</h3><blockquote><p>das Leben + der Standard = der Lebensstandard 生活标准</p><p>die Suppe + der Teller = der Suppenteller 汤盘</p></blockquote><p><strong>接缝词为了方便发音，没有特殊规律，靠语感和平日积累</strong></p><h3 id="verbnomen"><a class="markdownIt-Anchor" href="#verbnomen"></a> Verb+Nomen</h3><blockquote><p>essen + der Löffel → der Esslöffel 食勺</p><p>zeichnen + der Tisch → der Zeichentisch 绘图桌</p></blockquote><p><strong>由动词+名词构成的复合词，保留动词词干，省略词尾</strong></p><h3 id="adjektivadverbnomen"><a class="markdownIt-Anchor" href="#adjektivadverbnomen"></a> Adjektiv/Adverb+Nomen</h3><blockquote><p>groß + die Stadt → die Großstadt 大城市</p><p>selbst + der Mord → der Selbstmord 自杀</p></blockquote><p>der Riese + die Stadt = die Riesenstadt 大城市 反义词：die Kleinstadt-&quot;e 小城市</p><p>die Großstadt + der Bewohner = der Großstadtbewohner 大城市居民 反义词：der Kleinstadtbewohner- 小城市市民</p><p>selbst + das Gespräch = das Selbstgespräch 自言自语</p><p>das Land + der Mensch = der Landmensch 住郊区的人 反义词：der Stadtmensch-en 城市人</p><p>die Metropole + der Bewohner = der Metropolenbewohner 大城市人</p><p>die Schule + die Bildung = die Schulbildung 学校教育</p><p>unter + die Schicht = die Unterschicht 底层人民</p><p>überleben + der Mechanismus = der Überlebensmechanismus 生存机制</p><p>der Stein + die Zeit = die Steinzeit 石器时代</p><p>alle/alles 100%</p><p>drei Viertel 75%</p><p>die Hälfte 50%</p><p>ein Drittel 33.33%</p><p>ein Viertel 25%</p><p>niemand/nichts 0%</p><p>laut + Dativ 根据</p><p>Emnid-Umfrage 德国民调机构</p><p>SPIEGEL special 明镜特刊</p><p>urban 城市的，城市化的 adj</p><h1 id="2-9-linke-lieben-die-stadt"><a class="markdownIt-Anchor" href="#2-9-linke-lieben-die-stadt"></a> 2-9 Linke lieben die Stadt</h1><p>zusammenhängen mit 与……关联 可分v</p><p>die Neigung 倾向，倾斜</p><p>offensichtlich = offenbar 显然的</p><p>qualifiziert 有资格的，高水平的</p><p>abgewinnen + Dativ 乐于</p><p>sich wohl fühlen 感到舒服</p><p>der Gesellenbrief-e 学徒工的满师证书</p><p>aufzeigen 阐明，说明，指明</p><p>außerdem 此外</p><p>die Wechselbeziehung 相互关系</p><p>der Standort-e 所在地，位置</p><p>der Wohnort-e 居住地</p><p>bevorzugt 优先的，被偏爱的 adj</p><p>nah + Dativ 在近旁</p><blockquote><p>nah dem Fluss</p><p>nah dem Bahnhof wohnen</p></blockquote><p>das Spektrum-tren 多种多样，形形色色</p><p>bevorzugen 偏爱，偏心</p><blockquote><p>bevorzugen A vor B 偏爱 A 胜于 B</p></blockquote><p>Je + 形容词比较级（从句，动词置尾）, desto + 形容词比较级（主句，动词第二位）</p><h1 id="2-10-情态动词被动态"><a class="markdownIt-Anchor" href="#2-10-情态动词被动态"></a> 2-10 情态动词被动态</h1><h2 id="stadtplanung-词汇"><a class="markdownIt-Anchor" href="#stadtplanung-词汇"></a> Stadtplanung 词汇</h2><p>das Krankenhaus-&quot;er 医院</p><p>der Hauptbahnhof-&quot;e 中央火车站</p><p>das Parkhaus-&quot;er 停车库</p><p>die Kirche-n 教堂</p><p>das Arbeitsamt-&quot;er 劳工局（人才交流中心）</p><p>das Kulturzentrum-tren 文化中心</p><p>das Einkaufszentrum-tren 购物中心</p><p>das Bürogebäude-n 办公大楼</p><p>der Nachtclub-s 夜店</p><h2 id="情态动词的被动态"><a class="markdownIt-Anchor" href="#情态动词的被动态"></a> 情态动词的被动态</h2><p><strong>主动句的 wollen 应该变成 sollen</strong></p><p>Man hat das Rathaus im letzten Jahr renoviert. - Im letztem Jahr wurde das Rathaus renoviert.</p><p>+ sollen: Im letztem Jahr sollte das Rathaus renoviert werden.</p><p>情态动词 …… 过去分词 + werden</p><p>情态动词根据主语进行变位即可</p><p>Man muss das Haus renovieren. - Das Haus muss renoviert werden.</p><p>Wir dürfen das Haus nicht abreißen. - Das Haus darf nicht abgerissen werden.</p><p>abreißen 拆除，撕下 - haben abgerissen</p><p>Man will das Haus renovieren. - Das Haus soll(nicht will) renoviert werden.</p><p>Man kann den Bau nicht verbieten. - Der Bau kann nicht verboten werden.</p><p>Die Stadt muss den Bau des Hauses erlauben. - Der Bau des Hauses muss von der Stadt erlaubt werden.</p><p>von der Stadt 动作发出方</p><p>Wir wollen die Küche modernisieren. - Die Küche soll modernisiert werden.</p><p>modernisieren 现代化</p><p>Man darf das Kulturzentrum nicht schließen. - Das Kulturzentrum darf nicht geschlossen werden.</p><h2 id="werden"><a class="markdownIt-Anchor" href="#werden"></a> werden</h2><h3 id="实义动词"><a class="markdownIt-Anchor" href="#实义动词"></a> 实义动词</h3><p>成为，变为</p><p>Peter wird Ingenieur.</p><p>Peter wird 28.</p><p>Peter wird alter.</p><p>现在时变位：werde wirst wird werden werdet werden</p><h3 id="助动词"><a class="markdownIt-Anchor" href="#助动词"></a> 助动词</h3><ol><li><p>一般将来时</p><p>werden … 动词原形</p><p>Peter wird uns einladen.</p></li><li><p>被动态</p><p>werden … 过去分词</p><p>Wir werden von Peter eingeladen.</p></li><li><p>虚拟式</p><p>würden … 动词原形</p><p>Ich würde sehr gern kommen.</p></li></ol><h2 id="stadterneuerung-城市翻新"><a class="markdownIt-Anchor" href="#stadterneuerung-城市翻新"></a> Stadterneuerung 城市翻新</h2><p>umbauen 改建，翻修 可分v wird umgebaut</p><p>ausbauen 扩建，拆除 可分v wird ausgebaut</p><h1 id="2-11-was-tut-der-besitzer"><a class="markdownIt-Anchor" href="#2-11-was-tut-der-besitzer"></a> 2-11 Was tut der Besitzer</h1><p>am Computer arbeiten 在电脑旁工作</p><p>Besuch empfangen 获得拜访</p><p>das Fahrrad reparieren 修理自行车</p><p>Essen kochen 烧饭</p><p>Feste feiern 庆祝节日</p><p>Geschirr abwaschen 洗餐具</p><p>Hausaufgaben machen 做作业</p><p>Kuchen backen 烤蛋糕</p><p>mit Gästen essen/feiern/fernsehen/frühstücken 与客人们吃饭/庆祝/看电视/吃早餐</p><p>Musik hören 听音乐</p><p>Wäsche waschen/trocknen 洗衣服/烘干衣服</p><p>sich duschen 冲澡</p><p>sich entspannen 放松自己</p><p>sich fit halten 保持健康</p><p>sich rasieren 剃须</p><p>sich waschen 洗澡</p><p>der Hundekorb-&quot;e 狗窝</p><p>der Stuhl-&quot;e 椅子</p><p>der Kühlschrank-&quot;e 冰箱</p><p>der Teppich-e 地毯</p><p>der Schrank-&quot;e 柜子</p><p>der Esstisch-e 餐桌</p><p>der Schreibtisch-e 写字桌</p><p>der Wäschetrockner 烘干机</p><p>der Spiegel- 镜子</p><p>das Bett-en 床</p><p>das Regal-e 架子</p><p>das Bild-er 图片</p><p>das Sofa-s 沙发</p><p>die Couch-s 长沙发</p><p>die Zimmerpflanze-n 室内观景植物</p><p>die Waschmaschine-n 洗衣机</p><p>a) wohnen: Wohnung - übernachten: Übernachtung</p><p>b) arbeiten: Arbeitszimmer - kochen: Küche</p><p>c) Kleider: Kleiderschrank - Bücher: Bücherregal</p><p>d) arbeiten: Schreibtisch - essen: Esstisch</p><p>e) Wäsche waschen: Waschmaschine - Wäsche trocknen: Wäschetrockner（烘干机）</p><p>f) Hund: Hundekorb - Mensch: Bett</p><p>g) Bett: schlafen - Stuhl: sitzen</p><p>h) Spüle（水槽）: abwaschen - Elektroherd（电灶）: kochen</p><h2 id="词汇练习"><a class="markdownIt-Anchor" href="#词汇练习"></a> 词汇练习</h2><p>die Gastfamilie-n 寄宿家庭</p><p>das Gästehaus-&quot;er 旅店，招待所</p><p>möbliertes Zimmer 配有家具的房间</p><p>Gastfamilie 寄宿家庭</p><p>Weil ich da Kontakt zu Einheimischen hätte. 因为我能与当地人有联系。</p><p>der/die Einheimische-n 本地人，本土人</p><p>Hotel, Pension 酒店/民宿</p><p>Weil ich keine Rücksicht auf andere nehmen muss. 我不必照顾他人的感受。</p><p>Rücksicht nehmen 留意，留心</p><p>Gästehaus, Studentenwohnheim 旅店/学生宿舍</p><p>Weil ich leicht Kontakt zu anderen Studenten finde. 因为我可以轻易与其他学生沟通。</p><p>Kontakt zu … finden/haben 和……联系</p><p>möbliertes Zimmer 配有家具的房间</p><p>Weil ich unabhängig bin. 因为我是独立的。</p><p>Jugendherberge 青旅社</p><p>Weil ich eine preiswerte Unterkunft habe. 因为划算。</p><p>preiswert 划算的</p><p>die Unterkunft-&quot;e 住处</p><p>Wohngemeinschaft 合租</p><p>Weil die Kosten sich für eine Wohnung teilen. 因为房租可以平摊。</p><h1 id="2-12-unterkünfte"><a class="markdownIt-Anchor" href="#2-12-unterkünfte"></a> 2-12 Unterkünfte</h1><p>三格复数词尾要加 -n</p><p>riesig 巨大的</p><p>abschließbar 可上锁的 adj</p><p>das Fach-&quot;er 专业；隔层，抽屉</p><p>dabei 此时；虽然 adv</p><p>so …, dass … 太……以致于</p><p>Es wäre gewesen = Es ist gewesen 的虚拟式</p><p>über Akkusativ erfahren 经历，体验</p><p>völlig 完全的，充分的 adj</p><p>akademisch 学术的，大学生的 adj</p><p>die Gewohnheit-en 习惯</p><p>der Dozent-en 大学讲师</p><p>das Dozentenwohnheim-e 讲师宿舍</p><p>sich bei jmdm über Akkusativ beschweren 就某事向某人诉苦</p><h2 id="写作练习"><a class="markdownIt-Anchor" href="#写作练习"></a> 写作练习</h2><p>复习德语信件格式，给 Angela 回信，duzen</p><blockquote><p>Liebe Angela,</p><p>vielen Dank für deinen netten Brief. Was du über dein Gästehaus in Tübingen schreibst, kommt mir bekannt vor. Ich habe auch schon mal in einem Gästehaus gewohnt, welches eine gemeinsame Küche hatte.</p><p>Das fand ich sehr nett, denn es war sehr sauber dort und viele der anderen Gäste habe diese Küche auch gar nicht genutzt. Daher konnte ich jeden Tag kochen und habe es auch wirklich genossen. Mein Zimmer hatte ein kleines Bad mit Dusche und WC.</p><p>genießen 享受 - haben genossen</p><p>Allerdings gab es auch ein Problem. Wenn der Nachbar ebenfalls geduscht hatte, war es bei mir plötzlich sehr kalt. Muss wohl an dem alten Haus und der alten Technik liegen. Da es Winter und sehr kalt war, habe ich die Badewanne schon vermisst.</p><p>plötzlich 意外的，忽然的</p><p>vermissen 惦记，挂念</p><p>Ich hätte noch weiter in diesem Gästehaus wohnen können, die Küche war echt toll. Aber die fehlende Badewanne und das Problem mit dem kalten Wasser beim Duschen haben mir dir Entscheidung, erleichtert, in meine eigene kleine Studentenwohnung zu ziehen.</p><p>echt 真的 adj</p><p>fehlen 缺乏，缺少</p><p>erleichtert 心情轻松的 adj</p><p>Herzliche Grüße</p><p>deine</p></blockquote><h1 id="2-13-leseverstehen-teil-2-1"><a class="markdownIt-Anchor" href="#2-13-leseverstehen-teil-2-1"></a> 2-13 Leseverstehen Teil 2 (1)</h1><p>长篇阅读：1 篇文章，5 道题目</p><p>在阅读之前，读文章标题，猜测主题</p><p>再读题，划出关键词（尽量短）：关键词划得越多，越有可能被干扰</p><p>文章读两遍：</p><ul><li>第一遍 schnell und ganz 快速扫描，定位关键词</li><li>第二遍 gründlich und gezielt 有目标的精读</li></ul><p>⚠️<strong>坑点：任务的顺序不总是按照文章的顺序！！！和英语的雅思不一样</strong></p><p>geeignet für 适用于</p><p>solch 这样的，这种的 pron</p><p>hauptsächlich 主要的，根本的，首先 adj adv</p><h1 id="2-14-leseverstehen-teil-2-2"><a class="markdownIt-Anchor" href="#2-14-leseverstehen-teil-2-2"></a> 2-14 Leseverstehen Teil 2 (2)</h1><p>das Manko-s 缺点，缺陷</p><p>ermöglicht 激活的 adj</p><p>verbergen 藏匿，隐藏</p><p>nötig 必要的，必不可少的 adj</p><p>der Energieaufwand 能源消耗 = der Energieverbrauch</p><p>der Aufwand-/ 费用，开支，消费</p><p>niedrig 低的，矮的</p><p>neuerdings 最近 adv</p><h1 id="2-15-folge-2-feng-shui"><a class="markdownIt-Anchor" href="#2-15-folge-2-feng-shui"></a> 2-15 Folge 2-Feng Shui</h1><p>Champagner 香槟 = Schampus</p><p>der Rechtsanwalt-wälte 律师</p><p>der Hokuspokus 恶作剧，玩笑，戏法，骗术</p><p>beraten 劝告，给……出建议，讨论</p><p>esoterisch 神秘的，神神叨叨的，秘密的 adj adv</p><p>wachsen 成长，生长，发育</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Orte&lt;/li&gt;
&lt;li&gt;Häuser beschreiben, Mengenanteile aus</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 1 Kennen lernen</title>
    <link href="https://tinsir888.github.io/posts/8aa87477.html"/>
    <id>https://tinsir888.github.io/posts/8aa87477.html</id>
    <published>2023-03-11T16:00:00.000Z</published>
    <updated>2023-03-23T11:39:28.778Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ol><li>Kennen lernen</li><li>Sich verstellen, Begrüßung</li><li>Verhalten beschreiben, Heikle Situationen entschärfen 描述行为方式，化解尴尬棘手的场景</li><li>Reflexiv- und Reziprokpronomen 反身动词和反身代词</li><li>Verben mit Präpositionen 带有介词的动词</li></ol><h1 id="1-1-lernen-sie-sich-kennen"><a class="markdownIt-Anchor" href="#1-1-lernen-sie-sich-kennen"></a> 1-1 Lernen Sie sich kennen</h1><p>mit… + Dativ beginnen 开始，着手进行某事</p><p>müssten 第二虚拟式表委婉的强烈推测</p><p>dran sein 轮到了</p><p>das Zertifikat-e 考试合格证书，文凭</p><p>der Prüfer- 考官</p><p>nach + Dativ 根据，在……之后</p><p>damit + 从句 表目的</p><p>das Warten-/ 等待（动名词）</p><p>Zeitplan einhalten 遵守时间计划</p><p>helfen + Dativ 帮助某人</p><p>ich helfe - du hilfst - er/sie/es hilft - haben geholfen</p><p>höfflich 礼貌的 respektvoll 恭敬的 selbstbewusst 自信的</p><h1 id="1-2-reflexive-und-reziproke-verben"><a class="markdownIt-Anchor" href="#1-2-reflexive-und-reziproke-verben"></a> 1-2 Reflexive und reziproke Verben</h1><p>sich zuwinken 相互挥手</p><p>winken + Dativ</p><p>Die beiden Freunde winken sich zu. 这两个朋友相互挥手</p><p>Ich winke <strong>dir</strong> zu. 我向你挥手</p><p>sich küssen 相互亲吻</p><p>Das Liebespaar küsst sich.</p><p>Ich küsse dich.</p><p>sich zunicken 相互点头</p><p>Die alten Männer nicken sich zu.</p><p>Ich nicke <strong>dir</strong> zu.</p><p>sich die Hand geben/schütteln 相互握手</p><p>Der Mann und die Frau schütteln sich die Hand.</p><p>sich umarmen 相互拥抱</p><p>Die zwei Jungen umarmen sich.</p><p>Ich umarme dich.</p><p>sich auf die Schulter klopfen 轻拍肩膀</p><p>Sie klopfen sich auf die Schulter. 他俩相互轻拍肩膀。</p><p>sich beeilen 抓紧时间，赶时间 真反身</p><p>Lutz beeilt sich.</p><p>anziehen 穿衣服 假反身</p><p>ausruhen 休息 真反身</p><p>langweilen 感到无聊 假反身</p><p>streiten 吵架 相互反身</p><p>einigen 达成一致 相互反身</p><p>leben 爱 相互反身/假反身</p><p>beschweren 抱怨 真反身</p><p>verleiben 坠入爱河 真反身</p><p>ärgern 生气 假反身/相互反身</p><p>entschuldigen 道歉</p><ul><li><p>sich entschuldigen 道歉</p></li><li><p>jemanden entschuldigen 为某人辩解</p></li></ul><h1 id="1-3-begrüßungsrituale-1"><a class="markdownIt-Anchor" href="#1-3-begrüßungsrituale-1"></a> 1-3 Begrüßungsrituale (1)</h1><p>menschlich 人类的 adj</p><p>das Ritual-e 习俗</p><p>Begrüßungsritual 问候风俗</p><p>recht 相当，很</p><p>das Land-&quot;er 国家</p><p>das Asien-/ 亚洲</p><p>die Brust-&quot;e 胸</p><p>die Fingerspitze-n 指尖</p><p>das Kinn-e 下巴</p><p>ostasiatisch 东亚的 adj</p><p>die Verbeugung-en 鞠躬</p><p>eine große Rolle spielen 扮演重要的角色 = 十分重要</p><p>korrekt 正确的 adj</p><p>Abrazo 西班牙语，拥抱</p><p>üblich 普通的，习以为常的 adj</p><p>die Umarmung-en 紧抱，拥抱</p><p>arabisch 阿拉伯的 adj</p><p>der Handschlag-/ 握手</p><p>zwar…, aber… 虽然……但是……</p><p>bestimmt 明确的，坚定的</p><p>drücken 按，压</p><p>etwas ausfallen 得出结果</p><p>dagegen 相反的 adv</p><p>sanft 轻柔的 adj</p><p>der Augenkontakt 眼神交流</p><p>sich blicken 互相看（相互反身）</p><h1 id="1-4-begrüßungsrituale-2"><a class="markdownIt-Anchor" href="#1-4-begrüßungsrituale-2"></a> 1-4 Begrüßungsrituale (2)</h1><p>meist = meistens 大多数时候</p><p>gefühlvoll 充满情感的 adj</p><p>(Es) wird von… begleitet 同时发生，伴随着</p><p>der Griff-e 抓，握</p><p>der Ellbogen- 肘</p><p>der Unterarm-e 前臂</p><h1 id="1-5-höflich-unhöflich"><a class="markdownIt-Anchor" href="#1-5-höflich-unhöflich"></a> 1-5 Höflich? Unhöflich?</h1><p>tüchtig 大量的，可观的</p><p>krachen 发出爆裂声</p><p>hätten… 实义动词不定式 + 情态动词不定式 = 第二虚拟式过去时</p><p>stark 强大的，猛烈的 stärker 比较 am stärksten 最高</p><p>bremsen 刹车</p><p>nun = jetzt 现在，当下</p><p>Salü 你好</p><p>Im Moment = jetzt = nun 现在</p><p>momentan 片刻地，暂时地</p><p>knapp 短缺的，紧缺的</p><p>einen Kredit aufnehmen 贷款</p><p>für … zuständig sein 负责，有职权的</p><p>der Schalter- 柜台，服务窗口</p><p>Gern geschehen = Bitte schön 不用谢</p><p>stimmt’s = stimmt es</p><h1 id="1-6-sonntagsruhe"><a class="markdownIt-Anchor" href="#1-6-sonntagsruhe"></a> 1-6 Sonntagsruhe</h1><p>Hausordnung 住房规章</p><p>Mittagsruhezeit 午间安静时间</p><p>Nachtsruhezeit 晚间安静时间</p><p>Sonntagsruhe 周日安宁</p><p>Zimmerlautstärke 房间音量</p><p>Musikinstrumente 乐器</p><p>Partylärm 聚会噪音</p><p>fürchten 恐怕</p><ul><li>Ich fürchte, dass… 恐怕……</li><li>für/um… fürchten 为……感到担忧 z. B. Ich fürchte für/um die Prüfung.</li><li>sich vor… fürchten 担心，害怕某事 z. B. Hans fürchtet sich vor Hund.</li></ul><p>jmdn. um etwas bitten 请求某人某事</p><blockquote><p>Wir bitten Sie um Hilfe.</p></blockquote><p>aufmerksam 聚精会神的，留意的</p><p>mit… aufhören 停止做某事</p><p>jmdm einfallen 突然使某人想起</p><p>sich um Akkusativ kümmern 关心</p><p>Verzeihung 抱歉</p><p>der Krach-/ 响声，噼啪声</p><p>furchtbar, grässlich, schrecklich 糟糕的，恐怖的</p><p>erlaubt = gestattet 许可的</p><p>untersagt 禁止的</p><p>untersagen 禁止 v</p><p>meinetwegen 由于我的缘故</p><p>deinetwegen 由于你的缘故</p><h1 id="1-7-radioreportage-1"><a class="markdownIt-Anchor" href="#1-7-radioreportage-1"></a> 1-7 Radioreportage (1)</h1><p>jmdn beschäftigen 使忙碌，使思考</p><p>über Akkusativ hinweg 超过（时间）</p><p>der/die Schutzheilige-n 守护神</p><p>der Träger- 携带者，佩戴者</p><p>mehrere 若干个，好几个</p><p>das Jahrhundert-e 世纪</p><p>hießen = heißen 过去式</p><p>sich Akkusativ teilen 分享，共享</p><h1 id="1-8-radioreportage-2"><a class="markdownIt-Anchor" href="#1-8-radioreportage-2"></a> 1-8 Radioreportage (2)</h1><p>die Entscheidung 决定</p><p>fiel = fallen 过去式</p><p>jmdm schwer fallen 让某人现如困境</p><blockquote><p>Die Arbeit fällt ihm schwer.</p></blockquote><p>weitervererben 遗传给 可分v</p><blockquote><p>Oma vererbt mir das Grundstück weiter.</p></blockquote><p>(Es) wird… zurückgriffen 无主语被动态</p><p>auf Akkusativ zurückgreifen （不得已时）动用</p><p>haben zurückgegriffen - zurückgriff</p><blockquote><p>Er muss auf sein Spargeld zurückgreifen.</p></blockquote><p>die Verwandtschaft 亲属，家族</p><p>seit ewigen Zeiten 长久以来（固定搭配）</p><p>die Verwechslung 混淆，弄混</p><p>merken 察觉，意识到</p><p>der Klang-&quot;e 声调，声响</p><p>am Klang 通过声调（固定搭配）</p><p>auf jeden Fall 无论如何，一定</p><p>der Rufname-n 叫名，名字</p><p>nach + Dativ 根据……</p><p>abwechselnd 轮流的，交替的 adv</p><p>abwechseln 轮流，交替 v</p><p>die Abwechselung 轮流，交替 n</p><p>passend 合适的</p><p>ausgefallen 离奇的，一般人想不到的 adj</p><p>gebräuchlich 常用的，常见的</p><p>sich Dativ merken 记住</p><p>allerdings 当然，自然（表肯定） adv</p><p>sich an Akkusativ gewöhnen 习惯……</p><p>angerannt kommen 跑来</p><p>gerieten = geraten 的过去式</p><p>in etwas[A] geraten 处于，陷于</p><p>die Vergessenheit 遗忘，忘记</p><p>hielt = halten 过去式</p><p>etwas für adj halten 将……视作，看做</p><blockquote><p>Sie halten die Pilze für giftig.</p></blockquote><p>verstaubt 陈旧的，积满灰尘的</p><p>im Kommen sein 上升</p><h1 id="1-9-radioreportage-3"><a class="markdownIt-Anchor" href="#1-9-radioreportage-3"></a> 1-9 Radioreportage (3)</h1><p>hätte lieber… gehabt 宁愿有一个</p><p>doof 愚蠢的</p><p>erfüllen 灌满，满足</p><p>jmdm. Wunsch nach… erfüllen 让某人实现对于……的愿望。</p><p>neugeboren 新生的，刚出世的 adj</p><p>nötig 必要的，必不可少的</p><p>jmdn. vor… schützen 保护某人以防……</p><p>sich machen 开始做某事</p><p>die Behörde-n 行政机关，管理局</p><p>die Freiheit-/ 自由，独立</p><p>die Namensgebung 取名，命名</p><p>wenn auch 尽管，即使（让步从句）</p><p>zulassen 批准，许可</p><p>das Amt-&quot;er 机关，局，所</p><p>der Ausnahmefall-&quot;e 特殊情况，例外</p><p>genehmigen 许可，批准</p><p>fanden = finden 过去式</p><h1 id="1-10-radioreportage-4"><a class="markdownIt-Anchor" href="#1-10-radioreportage-4"></a> 1-10 Radioreportage (4)</h1><p>andererseits 另一方面 = auf der anderen Seite</p><p>Es kommt vor, dass… 发生……</p><p>der Fall-&quot;e 情况</p><p>zu Rate 咨询，获得建议</p><p>erhältlich 可获得的 adj</p><p>gängig 常用的，流行的，畅销的 adj</p><p>ungewöhnlich 不同寻常的 adj</p><p>Mein Name ist Friedrich Odin, Friedrich ist mein Nachname und Odin ist mein Familienname.</p><h1 id="1-11-wofür-woran"><a class="markdownIt-Anchor" href="#1-11-wofür-woran"></a> 1-11 Wofür Woran</h1><h2 id="präpositionalergänzungen"><a class="markdownIt-Anchor" href="#präpositionalergänzungen"></a> Präpositionalergänzungen</h2><p>四格宾语</p><p>双宾语（人三物四）</p><p>介宾</p><h3 id="verben-mit-präposition-akkusativ"><a class="markdownIt-Anchor" href="#verben-mit-präposition-akkusativ"></a> Verben mit Präposition + Akkusativ</h3><p>glauben + an Akkusativ 相信……</p><blockquote><p>Wir glauben <strong>an</strong> die Regierung. 我们相信政府。</p></blockquote><p>sich ärgern über Akkusativ 为……生气</p><p>sich verlassen auf Akkusativ 指望，信赖……</p><p>sich aufregen über Akkusativ 对……发怒，发火</p><p>vertrauen auf Akkusativ 信任</p><p>vertrauen + Dativ 信任某人</p><p>sich bemühen um Akkusativ 关心，照顾 = sich kümmern um Akkusativ</p><p>sich einsetzen für Akkusativ 致力于，付出全力</p><h3 id="verben-mit-präposition-dativ"><a class="markdownIt-Anchor" href="#verben-mit-präposition-dativ"></a> Verben mit Präposition + Dativ</h3><p>zweifeln an Dativ 怀疑……，不相信</p><blockquote><p>Ich zweifele an der Entscheidung.</p></blockquote><p>sich fürchten vor Dativ 害怕</p><blockquote><p>Hans fürchtet sich vor dem Hund.</p></blockquote><p>träumen von Dativ 幻想……，梦见……</p><blockquote><p>Meine Eltern träumen immer von einem Enkelkind.</p></blockquote><p>Die Soldaten setzen sich <strong>für den Staat</strong> ein.</p><p>对加黑部分（介宾）提问：<strong>Wofür</strong> setzen die Soldaten sich ein?</p><p>für was 是错的！</p><p>Hans fürchtet sich <strong>vor dem Hund</strong>.</p><p>对加黑部分（介宾）提问：<strong>Wovor</strong> fürchtet Hans sich?</p><p>Vor was 是错的！</p><p>bei Sachen 对事物，事件提问，在问句中：wo + 介词</p><p>如果介词是元音开头的，需要在 wo 和介词之间加上 r，方便发音</p><p>z. B.</p><p>wo + an → woran</p><p>wo + auf → worauf</p><p>wo + über → worüber</p><p>bei Personen 对人物提问，在问句中：介词 + wen/wem</p><p>Lucia ärgert sich <strong>über mich</strong>.</p><p><strong>Über wen</strong> ärgert Lucia sich.</p><h1 id="1-12-dafür-daran"><a class="markdownIt-Anchor" href="#1-12-dafür-daran"></a> 1-12 dafür daran</h1><p>Wo träumen Sie?</p><p>Ich träume davon, dass es allen Menschen gut geht.</p><p>Womit beschäftigen Sie sich?</p><p>Damit, dass so viel Haushalt getan werden muss.</p><p>bei Sachen，对事件事物提问，在答句中：da + 介词</p><p>如果介词以元音开头，要加 r</p><p>bei Personen，对人物提问，在答句中：介词 + 人称</p><h1 id="1-13-infinitivsatz-mit-zu-1"><a class="markdownIt-Anchor" href="#1-13-infinitivsatz-mit-zu-1"></a> 1-13 Infinitivsatz mit zu (1)</h1><p>带 zu 不定式：主句，其他成分 + zu + 动词原形</p><ol><li><p>Sie versucht. Sie ärgert sich nicht über ihren Mann.</p><p>Sie versucht, sich nicht über ihren Mann zu ärgern.</p></li><li><p>Sie hat keine Lust. Sie raucht weniger.</p><p>Sie hat keine Lust, weniger zu rauchen.</p></li></ol><p>使用场景 1：不定式行为主体与主句主语一致时，往往使用带 zu 不定式</p><ol start="3"><li><p>Birgit bittet die Eltern. Die Eltern sollen für sie einen Computer kaufen.</p><p>Birgit bittet die Eltern, für sie einen Computer zu kaufen.</p></li></ol><p>使用场景 2：不定式行为主体与主句不一致，但三格/四格宾语一致时，也可以用带 zu 不定式</p><h2 id="带-zu-不定式的特点"><a class="markdownIt-Anchor" href="#带-zu-不定式的特点"></a> 带 zu 不定式的特点</h2><ol><li>带 zu 不定式属于主句的一部分，是补充部分。</li><li>与其他句子一样拥有状语和宾语</li><li>没有动词变位</li><li>当带 zu 不定式中有两个及以动词时，zu 不可以省略</li></ol><blockquote><p>Ich hoffe, ihn zu sehen, zu sprechen, und mit ihm ins Kino zu gehen.</p></blockquote><p>可分动词的情况：zu 置于可分前缀和主动词之间。</p><blockquote><p>Sie hat keine Zeit, abzunehmen.</p><p>Die Kinder haben keine Lust, mit dem Unterricht anzufangen.</p></blockquote><h1 id="1-14-infinitivsatz-mit-zu-2"><a class="markdownIt-Anchor" href="#1-14-infinitivsatz-mit-zu-2"></a> 1-14 Infinitivsatz mit zu (2)</h1><p>auf Akkusativ hoffen 希望，期待</p><p>gegen Akkusativ protestieren 抗议，反对</p><p>sich über Akkusativ streiten 为……争执，吵架</p><p>mit Dativ beginnen 开始做某事</p><p>an Akkusativ erinnern 回忆，记得</p><p>nach Dativ fragen 询问</p><p>von Dativ erzählen 提及</p><p>das Erlebnis-se 经历，大事</p><p>sich über Akkusativ freuen 对……感到高兴</p><p>mit Dativ aufhören 停止做某事</p><p>sich auf Akkusativ verlassen 信赖，信任</p><p>auf Akkusativ Lust haben 有兴趣做某事</p><p>auf Akkusativ vertrauen 相信某事</p><p>sich um Akkusativ bemühen 照顾某人</p><p>an Dativ zweifeln 质疑……</p><p>sich mit Dativ beschäftigen 忙于……</p><h1 id="1-15-fünf-fragen-reisen-1"><a class="markdownIt-Anchor" href="#1-15-fünf-fragen-reisen-1"></a> 1-15 Fünf Fragen reisen (1)</h1><p>der Erdteil-en 大陆，洲</p><p>Wert auf Akkusativ legen 重视</p><p>auf Akkusativ verzichten 放弃</p><p>in Dativ bestehen 在于……</p><p>für… bedeuten 对某人意味着</p><p>von… träumen 梦见，梦想</p><p>die Hütte-n 小屋，茅舍</p><p>der Rand-&quot;er 边缘</p><p>betreiben 从事，进行</p><p>der Luxus-/ 奢侈，豪华</p><p>dauernd 持续地，不断地</p><p>der Erfolg-/ 成功</p><p>der Briefträger- 邮递员</p><p>die Lebensgefährtin-nen 同居女友</p><p>am Ortsrand 在郊区</p><p>die Zufriedenheit-/ 满意，满足</p><p>das Statussymbol-e 地位象征</p><p>restlos 彻底的，完全的</p><p>eindeutig 鲜明的，明确的</p><p>der Sinn-/ 意义，含义</p><h1 id="1-16-fünf-fragen-reisen-2"><a class="markdownIt-Anchor" href="#1-16-fünf-fragen-reisen-2"></a> 1-16 Fünf Fragen reisen (2)</h1><p>die Geografie-/ 地理</p><p>jüngerer Bruder 弟弟</p><p>älterer Bruder 哥哥</p><p>sticken 刺绣，做手工活</p><p>um Akkusativ 围绕着……</p><p>dienen Dativ 报效，有益于</p><p>die Philosophie-/ 哲学</p><p>der Studienabschluss 大学毕业文凭</p><h1 id="1-17-zwei-homepages-1"><a class="markdownIt-Anchor" href="#1-17-zwei-homepages-1"></a> 1-17 Zwei Homepages (1)</h1><p>der Surfer- 冲浪者，上网的人</p><p>soeben = nun = jetzt</p><p>wuschelig 蓬松卷曲的 adj</p><p>jmdn über Akkusativ unterrichten 通过……使某人了解，告知某人 v</p><p>preiswert 物美价廉的 adj</p><p>anklicken 鼠标点击 v</p><p>gigantisch 巨大的，伟大的 adj （对应英文 gigantic）</p><p>sich über Akkusativ freuen 因……感到高兴</p><p>zuletzt 最后一次，最近 adv</p><p>aktualisieren 更新</p><p>der Jahrgang-&quot;e 年，年度</p><p>der Schultag-e 上学的一天</p><p>die Schlägerei-en 打架，斗殴</p><p>der Chefredakteur-e 主编</p><p>die Schülerzeitung-en 学生报</p><p>Theater spielen 表演戏剧</p><h1 id="1-18-zwei-homepages-2"><a class="markdownIt-Anchor" href="#1-18-zwei-homepages-2"></a> 1-18 Zwei Homepages (2)</h1><p>hinein 进入 adv</p><p>das Studentenleben-/ 大学生活</p><p>die Romanistik-/ 罗马语言学</p><p>der Wechsel-/ 转变，变化</p><p>die Volkswirtschaftslehre  国民经济学</p><p>vergeblich 徒劳的，白费的</p><p>die Jobsuche 找工作</p><p>der Wirtschaftsberater- 经济顾问</p><p>die Fortbildung-en 进修，深造</p><p>der Spezialist-en 专家，行家</p><p>die Erkenntnis-se 认知，理解</p><p>faszinieren 令人神魂颠倒，令人着迷 v</p><p>faszinierend 令人神魂颠倒的，令人着迷的 adj</p><p>die Herkunft 来源，出身</p><p>das Aussehen 外貌</p><p>die Eigenschaft 品质，特质</p><p>lebhaft 活泼的，兴高采烈的</p><p>ernst 严肃的</p><p>abbrechen 中断，折断</p><p>habe … abgebrochen</p><p>gering 贫乏的，不足的 反义词：genug（相当于英语的 enough）</p><p>das Sprachkenntnis-se 语言知识</p><blockquote><p>Name: Friedrich</p><p>Alter: 22</p><p>Familie: …</p><p>Hobbys/Freizeit:</p><ul><li>Ich interessiere mich für Klavier spielen.</li><li>Ich beschäftige mich gern mit Brettspiele.</li><li>In jeder freien Minute spiele ich Tischtennis.</li></ul><p>Aussehen</p><p>Beruf: Ich bin Student.</p><p>persönliche Eigenschaften</p><ul><li>Ich bin sehr sportlich/unsportlich.</li><li>Ich bin ziemlich ruhig - lebhaft</li><li>Ich bin ernst - fröhlich</li></ul><p>Schule</p><ul><li>Ich besuchte die CQNK Mittelschule.</li><li>Ich habe den Mittelschulabschluss.</li><li>Ich habe das Gaokao(Chinesische Abitur oder Matura).</li></ul><p>Studium</p><ul><li>Ich besuche die Nankai-Universität in Tianjin, Volksrepublik China.</li><li>Ich studiere Informatik.</li></ul><p>Kenntnisse</p><ul><li>Ich habe gute Computerkenntnisse.</li><li>Ich habe nur geringe Deutschkenntnisse.</li></ul></blockquote><h1 id="1-19-leseverstehen-teil-1"><a class="markdownIt-Anchor" href="#1-19-leseverstehen-teil-1"></a> 1-19 Leseverstehen Teil 1</h1><p>欧标考试题型：为短文匹配标题</p><p>考试时千万不要精读！划关键词，速读短文。</p><p>可以对比相似选项的区别</p><h1 id="1-20-folge-1-zimmer-in-wg"><a class="markdownIt-Anchor" href="#1-20-folge-1-zimmer-in-wg"></a> 1-20 Folge 1-Zimmer in WG</h1><p>beleidigt 受到侮辱的 adj</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Kennen lernen&lt;/li&gt;
&lt;li&gt;Sich verstellen, Begrüßung&lt;/</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 A2 Kapitel 24 Bei uns und bei euch</title>
    <link href="https://tinsir888.github.io/posts/3298202c.html"/>
    <id>https://tinsir888.github.io/posts/3298202c.html</id>
    <published>2023-03-01T16:00:00.000Z</published>
    <updated>2023-03-12T04:41:10.058Z</updated>
    
    <content type="html"><![CDATA[<h1 id="24-1-benehmen-1-礼仪"><a class="markdownIt-Anchor" href="#24-1-benehmen-1-礼仪"></a> 24-1 Benehmen (1) 礼仪</h1><p>passieren 发生 - sein passiert</p><p>eingestellt 调整的，设定的 adj</p><p>wissen 知道 - haben gewusst</p><p>mitbringen 带来 - haben mitgebracht</p><p>Es macht Ihnen nitchts aus. 您对此不会有意见。</p><p>bellen 吠，吼 v</p><p>gerade 正在，刚刚，正好 adv</p><p>still 寂静的，宁静的 adj</p><h1 id="24-2-benehmen-2-礼仪"><a class="markdownIt-Anchor" href="#24-2-benehmen-2-礼仪"></a> 24-2 Benehmen (2) 礼仪</h1><p>in Ruhe 安静地，私下地</p><p>nahetreten + Dativ 与……接近</p><p>stören 打扰，干扰</p><p>intim 亲密的，男女关系的 adj</p><p>das Benehmen-/ 举止，行为</p><p>schlimm 糟糕的，恶劣的</p><p>die Verhaltensweise-n 行为方式</p><p>nennen 称呼，叫，举例 - haben genannt</p><p>der Gesprächspartner对话者，谈话的对方</p><p>ausreden 把话说完 可分v</p><p>sich ausreden 找借口</p><p>ausspucken 吐痰 可分v</p><p>bohren 钻，钻孔</p><p>das Gähnen-/ 哈欠</p><p>die Veranstaltung-en 活动，聚会</p><p>einschalten 打开，接通 可分v</p><p>rülpsen 打饱嗝</p><p>schmatzen 吃喝时出声</p><h1 id="24-3-präpositionen-支配三格的介词"><a class="markdownIt-Anchor" href="#24-3-präpositionen-支配三格的介词"></a> 24-3 Präpositionen 支配三格的介词</h1><h2 id="aus-nur-dativ"><a class="markdownIt-Anchor" href="#aus-nur-dativ"></a> aus + (nur) Dativ</h2><ol><li><p>从……里出来，从……出去（强调从一个相对封闭的空间出来）</p><p>Hans kommt jetzt aus dem Klassenzimmer.</p></li><li><p>表示出生地，国籍</p><p>Ich komme aus China.</p></li><li><p>表示来源</p><p>Die Tasche ist aus Italien. 这个包包来自意大利。</p></li></ol><h2 id="von-nur-dativ"><a class="markdownIt-Anchor" href="#von-nur-dativ"></a> von + (nur) Dativ</h2><ol><li><p>从某人那里来</p><p>Er kommt von seinem Freund.</p></li><li><p>从……出发点来（强调方向，不强调封闭空间）</p><p>Mein Vater kommt vom Bahnhof.</p></li><li><p>固定搭配</p><p>Mein Vater kommt sehr spät von der Arbeit.</p></li></ol><h2 id="nach-nur-dativ"><a class="markdownIt-Anchor" href="#nach-nur-dativ"></a> nach + (nur) Dativ</h2><p>到……，往……去</p><ol><li><p>与不带冠词的国名、地名连用</p><p>Ich fliege nach Deutschland.</p></li><li><p>与某些副词及表示东西南北方向的名词连用</p><p>Gehen Sie an der nächsten Kreuzung nach rechts. 您在下一个十字路口向右拐。</p></li></ol><h2 id="zu-nur-dativ"><a class="markdownIt-Anchor" href="#zu-nur-dativ"></a> zu + (nur) Dativ</h2><ol><li><p>去某地方</p><p>Herr Zhang geht zur Universität.</p></li><li><p>去某人处</p><p>Klaus geht zu Hans.</p></li><li><p>去办某事（表目的）</p><p>Herr Odin geht jeden Tag früh zur Arbeit.</p></li></ol><h2 id="bei-nur-dativ"><a class="markdownIt-Anchor" href="#bei-nur-dativ"></a> bei + (nur) Dativ</h2><p>在……那里</p><ol><li><p>在某人处</p><p>Der Student wohnt bei seinen Eltern.</p></li><li><p>在某公司、银行等单位工作</p><p>Monika arbeitet bei Siemens.</p></li></ol><h2 id="mit-nur-dativ"><a class="markdownIt-Anchor" href="#mit-nur-dativ"></a> mit + (nur) Dativ</h2><ol><li><p>和……一起，和……一块</p><p>Er hat jetzt eine wichtige Besprechung mit seinem Kollegen.</p></li><li><p>表示使用的工具，手段等</p><p>mit dem Flugzeug</p></li><li><p>添加……，带有……</p><p>Eis mit Schlagsahne 带奶油的冰淇淋</p></li></ol><h2 id="seit-nur-dativ"><a class="markdownIt-Anchor" href="#seit-nur-dativ"></a> seit + (nur) Dativ</h2><p>自从，从……以来（直到现在）</p><p>用一般现在时</p><p>Seit September lerne ich in der Grundstufe Deutsch. 德语初级班</p><h1 id="24-4-einladungen-1-作客邀请"><a class="markdownIt-Anchor" href="#24-4-einladungen-1-作客邀请"></a> 24-4 Einladungen (1) 作客邀请</h1><p>vorbereiten 准备，筹备 可分v</p><p>bevor 在……之前，引导时间从句</p><p>mit + Dativ + beginnen 开始做某事</p><p>der Alkohol-e 酒精饮料</p><p>gegen + Akkusativ + allergisch 对……过敏</p><p>irgendetwas 总有一些东西</p><p>die Tischdekoration-en 桌面布置</p><p>einen Tag vorher 一天前</p><p>feierlich 隆重的，庄严的 adj</p><p>der Grill-s 烤肉架</p><p>grillen 烧烤</p><h1 id="24-5-einladungen-2-作客邀请"><a class="markdownIt-Anchor" href="#24-5-einladungen-2-作客邀请"></a> 24-5 Einladungen (2) 作客邀请</h1><p>Platz nehmen = sich setzen 入座，坐下</p><p>der Gastgeber- 主人</p><p>sich mit … bedanken 用……致谢</p><p>der Blumenstrauß-&quot;e 花束</p><p>aufschneiden 切开 可分v</p><p>am Stück 一整块</p><h1 id="24-6-nebensätze-从句总结"><a class="markdownIt-Anchor" href="#24-6-nebensätze-从句总结"></a> 24-6 Nebensätze 从句总结</h1><h2 id="weil"><a class="markdownIt-Anchor" href="#weil"></a> weil</h2><p>原因从句：连词 weil 意为“因为”</p><p>从句与主句表达了一种原因和结果的逻辑关系。从句表原因，主句表结果</p><blockquote><p>z. B. Ron kauft Blumen, weil er zum Essen eingeladen ist.</p></blockquote><h2 id="wenn"><a class="markdownIt-Anchor" href="#wenn"></a> wenn</h2><p>条件从句：连词 wenn 意为“如果”</p><p>从句与主句一起表达一种条件和结果的逻辑关系，从句表达条件，主句表达结果。</p><blockquote><p>z. B. Wenn sie nicht bald kommen, (dann) wird das Essen kalt.</p></blockquote><p>时间从句：连词 wenn 表示“当……时候”</p><p>为了强调多次发生，可在 wenn 前加上 jedes mal 或 immer</p><blockquote><p>z. B. (Immer) Wenn Anne abends Wein trinkt, schläft sie schlecht.</p></blockquote><h2 id="als"><a class="markdownIt-Anchor" href="#als"></a> als</h2><p>时间从句：连词 als 表示“当……时候”</p><p>通常用于描写过去某一时间一次性发生的事，时态要求用过去时。其他情况一律用 wenn。</p><blockquote><p>z. B. Als ich kam, war niemand da.</p></blockquote><h2 id="bevor"><a class="markdownIt-Anchor" href="#bevor"></a> bevor</h2><p>时间从句：连词 bevor 表示“在……之前”</p><p>bevor 没有严格时态要求，但主从句时态要一致</p><blockquote><p>z. B. Bevor ich ins Bett gehe, lese ich noch etwas.</p></blockquote><h2 id="bis"><a class="markdownIt-Anchor" href="#bis"></a> bis</h2><p>时间从句：连词 bis 表示“直到……为止”</p><p>表示过去或将来某个时间点为止</p><blockquote><p>z. B. Sie wartet, bis es an der Tür klingelt.</p></blockquote><h2 id="dass"><a class="markdownIt-Anchor" href="#dass"></a> dass</h2><p>根据 dass 从句与主句的关系，可分为宾语从句和主语从句等。</p><p>连词 dass 只起到主从句的连接作用，本身无具体意义。</p><blockquote><p>z. B. Ich bin der Meinung, dass die Deutschen gar nicht so pünktlich sind. 我的观点是，德国人一点都不守时。</p></blockquote><h2 id="关系从句定语从句"><a class="markdownIt-Anchor" href="#关系从句定语从句"></a> 关系从句（定语从句）</h2><p>有关系代词带起的关系从句，一般紧跟主句中某一被修饰成或说明的名词后面。</p><p><strong>性数看前，格看后。</strong></p><blockquote><p>z. B. Fast alle Deutschen, die über 12 Jahre alt sind, haben heute ein Handy.</p><p>z. B. Der Mülleimer, den du benutzt hast, ist für Bio-Müll. 你使用的这个垃圾桶是丢有机垃圾的。</p></blockquote><p>der Mülleimer-s 垃圾桶</p><p>我写的诗 Vergnügungen（仿写）</p><p>Der erste Blick am Morgen</p><p>Der Computer</p><p>Die Computerspiele</p><p>Die Brettspiele</p><p>Bedingte Zulassung aus Universität Aarhus</p><p>Wunderbare klassische Musik hören</p><p>Etwas lecker essen</p><p>Duschen</p><h1 id="24-7-der-gute-ton-1-良好的行为"><a class="markdownIt-Anchor" href="#24-7-der-gute-ton-1-良好的行为"></a> 24-7 Der gute Ton (1) 良好的行为</h1><p>sich + Akkusativ + erkämpfen 奋斗，斗争</p><p>die Ebene-n 层面，平面</p><p>auf vielen Ebenen 在许多方面</p><p>verlangen 要求，渴望</p><p>der Respekt-/ 尊重</p><p>die Anerkennung-en 承认，认可</p><p>die Vorschrift-en 规章，准则</p><p>keine Vorschriften machen 不受约束</p><p>prinzipiell 原则上 adv</p><p>gelten 起作用，有效，适用</p><blockquote><p>现在时：giltst gilt</p><p>现在完成时：haben gegolten</p><p>过去时：ich galt</p></blockquote><p>zunächst = zuerst 首先 adv</p><p>anreden 称呼，称谓 可分v</p><p>die Anrede-n 称呼</p><p>Anders als… 与……不同</p><p>der Arbeitskollege-n 工作同事</p><p>üblich 普遍的，寻常的 adj</p><p>distanziert 有距离的 adj</p><p>das Duzen 使用 du 称呼，非尊称</p><p>besitzen 拥有，占有 不可分v</p><p>ausschalten 关机 可分v</p><p>das Handygespräch-e 手机交谈</p><h1 id="24-8-der-gute-ton-2-良好的行为"><a class="markdownIt-Anchor" href="#24-8-der-gute-ton-2-良好的行为"></a> 24-8 Der gute Ton (2) 良好的行为</h1><p>die Kleiderordnung-en 着装规定</p><p>akzeptabel 被接受的 adj</p><p>werden akzeptiert 被接受</p><p>Auch wenn + 从句 即便（让步从句）</p><p>ansprechen 攀谈，询问 可分v</p><p>werden angesprochen 被说</p><p>bewerten 评价，评分 不可分v</p><p>werden bewertet 被评价</p><p>negativ 消极的，负面的 adj</p><p>recyceln 回收，循环利用 v</p><p>werden recycelt 被动态，被回收（无主语被动态）</p><p>das Wegwerfen-/ 扔掉，丢弃</p><p>die Mülltrennung 垃圾分类</p><p>der Ton-&quot;e 声音，音色</p><p>der Container- 容器，集装箱</p><p>das Altpapier-/ 旧废纸</p><p>der Plastikabfall-&quot;e 塑料垃圾</p><p>der Mülleimer- 垃圾桶</p><p>der Speiserest-e 厨余</p><p>der Restmüll-/ 残余垃圾</p><p>das Plastik-/ 塑料</p><p>der Zwang-&quot;e 强迫，强制</p><p>das Recycling-/ 废品的回收利用</p><p>unhöflich 不礼貌的，失礼的</p><h1 id="24-9-fünf-meinungen-1-听力理解"><a class="markdownIt-Anchor" href="#24-9-fünf-meinungen-1-听力理解"></a> 24-9 Fünf Meinungen (1) 听力理解</h1><p>das Betriebsklima 企业内部氛围</p><p>sich fühlen + adj 感到</p><p>per du 使用 du 称呼</p><p>Im Prinzip = prinzipiell 原则上</p><p>rumlaufen 到处走 可分v</p><p>schuld 过失的，有责任的 adj</p><p>sich an Dativ stören 对……感到反感</p><p>blöd 愚蠢的，烦人的 adj</p><p>nach ihrer Kleidung zu beurteilen 带 zu 不定式</p><p>nach etwas beurteilen 根据……评价，判断 v</p><p>bloß 仅仅，只不过</p><p>was Besseres 更好的人/事</p><p>die Klamotten 衣服（复数）</p><p>in Ordnung sein 井井有条，没问题</p><p>der Fleck-e 污渍</p><p>das Loch-&quot;er 洞</p><h1 id="24-10-fünf-meinungen-2-听力理解"><a class="markdownIt-Anchor" href="#24-10-fünf-meinungen-2-听力理解"></a> 24-10 Fünf Meinungen (2) 听力理解</h1><p>wär’s = wäre es</p><p>wenn’s = wenn es</p><p>wahr 真实的，千真万确的 adj</p><p>halt 简直</p><p>zwar…, aber… 虽然……但是……</p><p>von… keine Rede sein 谈不上是</p><p>die Gleichberechtigung 权利平等</p><p>nämlich 因为 adv</p><p>die Frauensache 女人的事情</p><p>die Höflichkeit-en 客气，礼貌，恭敬</p><p>nerven 让心烦，让烦躁</p><p>furchtbar 极其糟糕的 adj</p><p>so… dass… 太……以至于……</p><p>Auf Wiederhören 再见（电话用户）</p><p>irritiert 愤怒的 adj</p><p>die Hemmung-en 节制，克制</p><p>böse 恶劣的</p><h1 id="24-11-fünf-meinungen-3-听力理解"><a class="markdownIt-Anchor" href="#24-11-fünf-meinungen-3-听力理解"></a> 24-11 Fünf Meinungen (3) 听力理解</h1><p>der Quatsch-/ 废话，胡说八道</p><p>sich kontrollieren 相互检查，督察</p><p>gegenseitig 相互的，双方的 adv</p><p>die Tonne-n 桶</p><p>schmeißen 丢弃 - haben geschmissen - schmiss</p><p>die Stimmung-en 心情，情绪</p><p>sich[D] denken 料到</p><p>die Verpackung-/ 包装</p><p>um… zu… 为了做某事，带 zu 不定式</p><p>entsorgen 清除垃圾</p><h2 id="übungen"><a class="markdownIt-Anchor" href="#übungen"></a> Übungen</h2><p>命令式/情态动词/第二虚拟式</p><ol><li>Trag bitte den Müll runter. Kannst du bitte den Müll runtertragen? Könntest du bitte den Müll runtertragen?</li><li>Macht bitte die Musik leiser. Könnt ihr bitte die Musik leiser machen? Könntet ihr bitte die Musik leiser machen?</li><li>Macht bitte das Fenster zu. Könnt ihr bitte das Fenster zumachen? Könntet ihr bitte das Fenster zumachen? 关窗</li><li>Trennen Sie bitte Ihren Müll. Können Sie bitte Ihren Müll trennen? Könnten Sie bitte Ihren Müll trennen?</li><li>Telefonieren Sie bitte draußen. Können Sie bitte draußen telefonieren? Könnten Sie bitte draußen telefonieren? 请去外边打电话</li><li>Macht bitte euer Handy aus. Könnt ihr bitte euer Handy ausmachen? Könntet ihr bitte euer Handy ausmachen?</li><li>Kauf bitte nach der Arbeit etwas zu essen ein. Kannst du bitte nach der Arbeit etwas zu essen einkaufen? Könntest du bitte nach der Arbeit etwas zu essen einkaufen?</li><li>Wascht bitte euer Geschirr ab. Könnt ihr bitte euer Geschirr abwaschen? Könntet du bitte euer Geschirr abwaschen? 把你们的餐具洗干净了</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;24-1-benehmen-1-礼仪&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#24-1-benehmen-1-礼仪&quot;&gt;&lt;/a&gt; 24-1 Benehmen (1) 礼仪&lt;/h1&gt;
&lt;p&gt;passieren 发生 - sein pa</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="柏林广场A2" scheme="https://tinsir888.github.io/tags/%E6%9F%8F%E6%9E%97%E5%B9%BF%E5%9C%BAA2/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 A2 Kapitel 23 Politik und ich</title>
    <link href="https://tinsir888.github.io/posts/aea75bc0.html"/>
    <id>https://tinsir888.github.io/posts/aea75bc0.html</id>
    <published>2023-02-17T16:00:00.000Z</published>
    <updated>2023-03-01T07:18:46.998Z</updated>
    
    <content type="html"><![CDATA[<h1 id="23-1-politikwörter-词汇政治"><a class="markdownIt-Anchor" href="#23-1-politikwörter-词汇政治"></a> 23-1 Politikwörter 词汇：政治</h1><p>der Bundestag / das Parlament 德国联邦议院/德国国会</p><p>der Bund 联邦</p><p>die Bundesrepublik 联邦共和国</p><p>der Bundesadler- 德国之鹰</p><p>das Wappen- 徽章</p><p>das Wappentier-e 绘制在徽章上的动物</p><p>z. B. Der Bundesadler ist das Wappentier der Bundesrepublik.</p><p>die Bundesregierung 联邦政府</p><p>der/die Bundeskanzler*in 联邦总理</p><p>der/die Minister*in 部长</p><p>der/die Abgeordnete-n 议员，人大代表</p><p>die Partei-en 政党，党派</p><p>die Regierungspartei 执政党</p><p>die Opposition 反对党，在野党</p><p>der/die Bundespräsident*in 联邦总统</p><p>die Bundestagswahl 联邦选举</p><p>die Koalition 联合执政</p><p>das Bundesland-&quot;er 联邦州</p><p>die Landesregierung 州政府</p><p>der Landtag 联邦州议会</p><p>die Landtagswahl 联邦州选举</p><p>der Ministerpräsident*in 联邦州总理，州长</p><p>die Städte und Gemeinden 城市和乡镇</p><p>der Stadtrat 市议会</p><p>die Stadtratswahl 市议会选举</p><p>der Gemeinderat 乡镇议会</p><p>die Gemeinderatswahl 乡镇议会选举</p><p>der Bürgermeister*in-nen 市长</p><h1 id="23-2-politikquiz-1"><a class="markdownIt-Anchor" href="#23-2-politikquiz-1"></a> 23-2 Politikquiz (1)</h1><p>die Parlamente/Institutionen 国会，机构</p><p>die Geschichte-/ 历史</p><p>der Zweite Weltkrieg 第二次世界大战</p><p>trennen 分开，分离 过去式：trennte</p><p>die Mauer-n 城墙</p><p>z. B. die Große Mauer 长城</p><p>die Grenze-n 边境，边界</p><p>umgekehrt 相反的，颠倒的 adj</p><p>durch + 媒介手段，支配第四格</p><p>friedlich 和平的，太平的 adj</p><p>die Revolution-en 革命，变革</p><p>heutig 今天的，当今的</p><p>östlich 东方的，东部的</p><p>Tag der deutschen Einheit 德国国庆日</p><h1 id="23-3-politikquiz-2"><a class="markdownIt-Anchor" href="#23-3-politikquiz-2"></a> 23-3 Politikquiz (2)</h1><p>der Bundesstaat-en 联邦制国家</p><p>Reichstagsgebäude 帝国议会大厦</p><p>alle vier Jahre 每四年</p><p>der Senat-e 参议院</p><p>die Mehrheit-en 多数，过半数</p><p>das Staatsoberhaupt-s  国家元首</p><p>das Gesetz-e 法律，法令</p><p>politisch 政治的 adj</p><p>die Macht-&quot;e 权力，势力</p><p>der Nationalfeiertag 国庆节</p><h1 id="23-4-parteien-1"><a class="markdownIt-Anchor" href="#23-4-parteien-1"></a> 23-4 Parteien (1)</h1><h2 id="cducsu"><a class="markdownIt-Anchor" href="#cducsu"></a> CDU/CSU</h2><p>CDU 基民盟 aka 基督教民主联盟 Christlich Demokratische Union Deutschlands</p><p>CSU 基社党 aka 基督教社会党 Christlich Soziale Union</p><p>政治立场：保守派，基督教派；家庭与婚姻保障；欧洲统一</p><h2 id="die-grünen"><a class="markdownIt-Anchor" href="#die-grünen"></a> Die Grünen</h2><p>Die Grünen/Bündnis 90 绿党/联盟90</p><p>政治立场：环保主义；反对核能；反对中央集权；和平主义；支持移民</p><h2 id="spd"><a class="markdownIt-Anchor" href="#spd"></a> SPD</h2><p>aka Sozialdemokratische Partei Deutschlands</p><p>德国社会民主党</p><p>政治立场：社会福利；新自由主义；经济发展，公平分配</p><h2 id="die-linke"><a class="markdownIt-Anchor" href="#die-linke"></a> Die Linke</h2><p>左翼党</p><p>政治立场：民主社会主义；社会福利改革，以便适应经济全球化和欧洲一体化；重新分配社会财富；促进欧盟发展</p><h2 id="fdp"><a class="markdownIt-Anchor" href="#fdp"></a> FDP</h2><p>aka Freie Demokratische Partei 自由民主党</p><p>自由主义；经济自由主义；创造就业；简化税务；减少国家对公民自由和私人生活的干涉；加强学龄前教育；反对移民</p><h2 id="afd"><a class="markdownIt-Anchor" href="#afd"></a> AfD</h2><p>aka Alternative für Deutschland 德国的选择党</p><p>反对移民；民粹主义；取消欧元；反对欧盟</p><p>die Stimme-n 选票</p><p>sich für + Akkusativ + engagieren 投身于</p><p>sich für + Akkusativ + interessieren 对……感兴趣</p><p>die Atomenergie-n 原子能</p><p>die alternative Energie 新能源</p><p>für + Akkusativ eintreten 主张，支持</p><p>du trittst ein - er/sie/es tritt an - haben eingetreten</p><p>demokratisch 民主的</p><p>das Recht-e 权利</p><p>der Zuwanderer- 移民</p><p>für + Akkusativ achten 关注</p><p>die Gleichberechtigung 权利平等</p><h1 id="23-5-parteien-2"><a class="markdownIt-Anchor" href="#23-5-parteien-2"></a> 23-5 Parteien (2)</h1><p>die Arbeiterpartei-en 工人党</p><p>die Arbeiterbewegung-en 工人运动</p><p>die Gerechtigkeit-en 公平性，公正性</p><p>die Gewerkschaft-en 工会</p><p>konservativ 保守的，守旧的</p><p>christlich 基督教的 adj</p><p>orientiert 以……为向导</p><p>die Einheit-/ 统一，团结</p><p>der Schutz-/ 保护，守护</p><p>die Ehe-n 婚姻</p><p>liberal 自由的，自由主义的</p><p>die Wirtschaftspolitik 经济政策</p><p>sich um + Akkusativ + kümmern 关心，照顾</p><p>die Freiheit-/ 自由，独立</p><p>einzeln 各个的，每个的</p><p>niedrig 低的，矮的</p><p>die Steuer-n 赋税，税</p><p>die Staatsausgabe-n 国家支出</p><p>kämpfen 奋斗</p><p>der Abbau-ten 拆除，缩减</p><p>die Sozialleistung-en 社会福利</p><p>das Arbeitslosengeld 失业金</p><p>der Einfluss-&quot;e 影响，作用</p><p>die Wirtschaft-en 经济</p><p>im Westen 在西部</p><h1 id="23-6-parteien-3"><a class="markdownIt-Anchor" href="#23-6-parteien-3"></a> 23-6 Parteien (3)</h1><p>selbständig 独立自主的 adj</p><p>die Import-Export-Firma 进出口公司</p><p>Akkusativ in Ruhe lassen 放过，少管</p><p>z. B. Lass mich in Ruhe. 别理我</p><p>die Regel-n 规章，规定</p><p>verbrauchen 消耗，磨损</p><p>z. B. Der Staat verbraucht zu viel Geld.</p><p>der Bund-&quot;e 结盟</p><p>der Umwelt- und Naturschutz 环境自然保护</p><p>mit + Dativ + umgehen 与……打交道，相处 可分v</p><p>die Umwelt-en 环境</p><p>schützen 保护</p><blockquote><p>Wenn wir nicht besser mit der Natur umgehen und unsere Umwelt mehr schützen, dann haben wir sowieso keine Zukunft.</p></blockquote><p>realistisch 面对现实的，切实际的 adj</p><p>vor allem 特别是，主要是</p><h1 id="23-7-interessieren-动介搭配"><a class="markdownIt-Anchor" href="#23-7-interessieren-动介搭配"></a> 23-7 interessieren 动介搭配</h1><p>动介搭配：德语中许多动词可支配不同的介词，相当一部分动词后不能直接加宾语。<strong>必须搭配固定的介词才能成立。</strong></p><p>z. B.</p><p>Ich warte dich. (❌)</p><p>Ich warte auf dich. (✅)</p><h2 id="动介搭配的动词"><a class="markdownIt-Anchor" href="#动介搭配的动词"></a> 动介搭配的动词</h2><p>sich interessieren für + Akkusativ 对……感兴趣</p><blockquote><p>z. B. Ich interessiere mich nicht für Politik, aber für Sport.</p></blockquote><p>sich kümmern um + Akkusativ 关心，照顾……</p><blockquote><p>z. B. “Amnesty International” kümmert sich um politisch verfolgte Menschen.</p><p>verfolgt 被迫害的，被追逼的 adj</p></blockquote><p>sich engagieren für + Akkusativ 致力于，投身于</p><blockquote><p>z. B. Ich engagiere mich sehr für meine Umwelt. Umweltpolitik finde ich gut.</p><p>die Umweltpolitik 环境政策</p></blockquote><p>achten auf + Akkusativ 留心，注意</p><blockquote><p>z. B. Achten Sie auf Ihre Gesundheit. Krankheit ist teuer!</p></blockquote><p>denken an + Akkusativ 想着，惦记着</p><blockquote><p>z. B. Er denkt oft an seinen kranken Vater.</p></blockquote><p>kämpfen für/gegen + Akkusativ 为/反对……而奋斗</p><blockquote><p>Diese Partei kämpft für mehr Sozialleistungen.</p></blockquote><p>一些反身动词的固定动介搭配：</p><p>sich freuen über + Akkusativ 因……感到愉快</p><blockquote><p>Wir freuen uns über deinen langen Brief.</p></blockquote><p>sich ärgern über + Akkusativ 因……生气</p><blockquote><p>Wir ärgern uns immer über die Nachbarn.</p></blockquote><p>sich informieren über 了解，探听</p><blockquote><p>Wir informieren uns über Politik.</p></blockquote><p>Kontakte suchen 寻找社交</p><p>tolerieren 容忍，宽容</p><p>Rücksicht nehmen auf… 重视，着眼于</p><blockquote><p>Ich nehme Rücksicht auf die Umwelt.</p></blockquote><p>Schulen bauen 建立学校</p><p>Arbeitsplätze sichern 保障工作岗位</p><p>gegen Diskriminierung kämpfen 反对歧视</p><p>die Diskriminierung-en 鄙视，歧视</p><p>um Hilfe bitten 寻求帮助</p><blockquote><p>Bitten Sie bitte um Hilfe.</p></blockquote><p>Hilfe anbieten 提供帮助</p><p>nachfragen 询问</p><p>gegen Intoleranz kämpfen 反对狭隘思想</p><p>die Intoleranz-/ 不宽容，狭隘</p><p>Unterschiede akzeptieren 接受差异</p><p>der Unterschied-e 不同，差异</p><p>Gesetze machen 制定法律</p><p>über Probleme sprechen 讨论问题</p><p>Arbeitslose unterstützen 扶持失业者</p><p>der/die Arbeitslose-n 失业者</p><p>unterstützen 支持，扶持</p><p>wählen 选举</p><p>Probleme lösen 解决问题</p><p>Steuern bezahlen 纳税</p><p>Geld sinnvoll ausgeben 合理支出金钱</p><p>sinnvoll 有意义的，有用的</p><h1 id="23-8-politik-und-ich-1"><a class="markdownIt-Anchor" href="#23-8-politik-und-ich-1"></a> 23-8 Politik und ich (1)</h1><p>das + 形容词最高级（首字母大写，词尾加 e） 最……的事</p><p>z. B. das Beste 最棒的事 das Schwerste 最困难的事</p><p>bei sich selbst anfangen 从我做起</p><p>wofür 为什么 ≈ warum</p><p>der Politiker- 政治家</p><p>das Krankenhaus-&quot;er 医院</p><p>schließlich 毕竟，终究</p><h1 id="23-9-politik-und-ich-2"><a class="markdownIt-Anchor" href="#23-9-politik-und-ich-2"></a> 23-9 Politik und ich (2)</h1><p>der Gemeinderat-&quot;e 乡镇代表大会</p><p>gemeinsam 共同，一起</p><p>der Schulhof-&quot;e 校园</p><p>konkret 准确的，实际的 adj</p><p>fordern 要求，索求</p><p>irgendwie 不管用什么方式，无论如何</p><p>die Krankenversicherung-en 医疗保险</p><p>gut ausgebildet 受过良好教育的</p><p>ändern 改变 v</p><p>irgendwann 不知在什么时候 adv</p><p>nützen 有用，有益 v</p><p>betrachten 观察， 洞察 不可分v</p><h1 id="23-10-präteritum-1-过去时"><a class="markdownIt-Anchor" href="#23-10-präteritum-1-过去时"></a> 23-10 Präteritum (1) 过去时</h1><p>过去时：表示动作的发生与影响力都在过去，与现在完成时没有严格的区别。</p><p>唯一的区别：现在完成时多用于口语（现代交际生活）；过去式多用于书面语中（固定搭配）。</p><p>Er lebt in Chongqing und reist nach Klagenfurt. (Präsens/现在时)</p><p>Er lebte in Chongqing. 1987 reiste er nach Salzburg. (Präteritum/过去时)</p><p>过去式没有框架结构，没有助动词，只需将一般现在时的动词换成对应的过去式</p><p>比如动词 leben 的过去式变位：lebte - lebtest - lebte - lebten - lebtet - lebten - lebten</p><p>有几个规律：</p><ol><li>第一人称和第三人称单数变位相同</li><li>动词变成过去式，词干后要加 t</li><li>du - test / ihr -tet</li></ol><p>规则动词过去式的变位：词干 + t + 人称词尾</p><p>reisen: reiste - reistest - reiste - reisten - reistet - reisten</p><p>fragen: fragte - fragtest - fragte - fragten - fragtet - fragten</p><p>动词词干以 -t -d -ffn - chn - gn 结尾的动词，词干后先加 -e 再进行动词过去式变位，方便发音。</p><p>arbeiten: arbeitete - arbeitetest - arbeitete - arbeiteten - arbeitetet - arbeiteten</p><p>antworten: antwortete - antwortetest - antwortete - antworteten - antwortetet - antworteten</p><p>öffnen: öffnete - öffnetest - öffnete - öffneten - öffnetet - öffneten</p><p>不规则动词</p><p><strong>如果动词的过去分词变位不规则，那么该动词的过去式变位也是不规则的。需要单独记忆不规则词干⚠️</strong></p><p>kommen: kam - kamst - kam - kamen - kamt - kamen</p><p>geben: gab - gabst - gab - gaben - gabt - gaben</p><p>denken: dachte - dachtest - dachte - dachten - dachtet - dachten</p><h1 id="23-11-präteritum-2-过去时"><a class="markdownIt-Anchor" href="#23-11-präteritum-2-过去时"></a> 23-11 Präteritum (2) 过去时</h1><p>die Diskriminierung-en 歧视，鄙视</p><p>wütend 发怒的，暴怒的</p><p>der Antrag-&quot;e 申请，提案 stellen einen Antrag auf + Akkusativ 对……提出申请</p><p>das Kindergeld 子女补贴费</p><p>gehen: ging - gingst - ging - gingen - gingt - gingen</p><p>wissen: wusste - wusstest - wusste - wussten - wusstet - wussten</p><p>helfen: half - halfst - half - halfen - halft - halfen</p><p>sprechen: sprach - sprachst - sprach - sprachen - spracht - sprachen</p><p>die Anmeldung-en 注册，报到</p><p>bearbeiten 处理，加工</p><p>werden: wurde - wurdest - wurde - wurden - wurdet - wurden</p><p>das Wohngeld 住房补贴</p><p>konkret 确切的 adj</p><p>die Beamtin-nen 女公务员</p><p>genehmigen 批准</p><h1 id="23-12-ehrenamt-1-名誉职位"><a class="markdownIt-Anchor" href="#23-12-ehrenamt-1-名誉职位"></a> 23-12 Ehrenamt (1) 名誉职位</h1><p>der Brückenpreis 桥梁奖</p><p>die Brücke-n 桥梁</p><p>verleihen 出借，办法 - haben verliehen - verlieh</p><p>ehren 表彰，嘉奖</p><p>das Miteinander 合作，共存</p><p>fördern 促进</p><p>das Zusammenleben- 共同生活，同居</p><p>europäisch 欧洲的 adj</p><p>die Integration-en 融入</p><p>die Herkunft-&quot;e 来源，来历</p><p>der Preisträger- 获奖者</p><p>jeweils 每个，各 adv</p><h1 id="23-13-ehrenamt-2-名誉职位"><a class="markdownIt-Anchor" href="#23-13-ehrenamt-2-名誉职位"></a> 23-13 Ehrenamt (2) 名誉职位</h1><p>bewerben 申请 现在时：bewirbst bewirbt 过去分词：haben beworben 过去式：bewarb</p><p>der Gewinner- 获胜者，获奖者</p><p>die Jury-s 评审委员会</p><p>die Preisverleihung-en 颁奖</p><p>der Ministerpräsident-en 州长</p><p>das Ehrenamt-&quot;er 名誉职位</p><p>in den Mittelpunkt stellen 置于中心点，专注于</p><p>der Mittelpunkt-e 中心点，核心</p><p>die Gesellschaft-en 社会，社交</p><p>bauen 建立，建造</p><p>zusammenhalten 齐心协力，维系（可分v） 现在时：hältst hält 过去分词：zusammengehalten 过去式：heilt zusammen</p><p>das Forum-Foren 论坛</p><p>erhalten 获得，获取 （不可分v） 现在时：erhältst erhält 过去分词：erhalten 过去式：erhielt</p><p>der Einsatz-&quot;e 投入</p><p>der Migrant-en 移民</p><h1 id="23-14-ehrenamt-3-名誉职位"><a class="markdownIt-Anchor" href="#23-14-ehrenamt-3-名誉职位"></a> 23-14 Ehrenamt (3) 名誉职位</h1><p>der Vortrag-&quot;e 演讲</p><p>die Lesung-en 阅读</p><p>die Veranstaltung-en 活动，聚会</p><p>interkulturell 跨文化的 adj</p><p>solidarisch 团结的 adj</p><p>gewaltfrei 非暴力的，不使用武力的 adj</p><p>respektvoll 充满敬意的，恭敬的 adj</p><p>das Fest der Nationen 民族节</p><p>jedes Jahr 每年</p><p>Tausende Menschen 数千人</p><p>Hunderte Menschen 数百人</p><p>die Bürgerstiftung-en 公民基金会</p><p>ehrenamtlich 名誉的，义务的</p><p>mit einer großen Zahl von 大量的</p><p>sich für… einsetzen 投入到</p><p>die Ausbildungschance-n 教育机会</p><p>der Hauptschüler- 普通中学学生</p><p>die Berufsberatung-en 就业咨询，就业指导</p><p>das Berufspraktikum-ka 就业实习</p><h1 id="23-15-ehrenamt-4-名誉职位"><a class="markdownIt-Anchor" href="#23-15-ehrenamt-4-名誉职位"></a> 23-15 Ehrenamt (4) 名誉职位</h1><p>viel Geld verdienen 挣许多钱</p><p>in der Freizeit 帮助</p><p>der Einzelmensch-en 个人</p><p>die Aggression-en 侵略</p><h1 id="23-16-ehrenamt-5-名誉职位"><a class="markdownIt-Anchor" href="#23-16-ehrenamt-5-名誉职位"></a> 23-16 Ehrenamt (5) 名誉职位</h1><p>ehrenamtlich 名誉的，义务的 adj</p><p>die Helferin-nen 女帮手，女助理</p><p>die Patient-en 病人</p><p>die Patientin-nen 女病人</p><p>das Türkisch-/ 土耳其语</p><p>das Arabisch-/ 阿拉伯语</p><p>die Tätigkeit-en 日常工作</p><p>die Straßenbahnfahrkarte-n 有轨电车票</p><p>DLRG = Deutsche Lebens-Rettung-Gesellschaft 德国生命救援会</p><p>das Schwimmbad-&quot;er 游泳池</p><p>der Badesee-n 用于游泳的湖</p><p>der Bademeister- 职业游泳救护员</p><p>retten 拯救，救命</p><p>am Ertrinken sein 溺水</p><p>was Sinnvolles 一些有意义的事情</p><h1 id="23-17-ehrenamt-6-名誉职位"><a class="markdownIt-Anchor" href="#23-17-ehrenamt-6-名誉职位"></a> 23-17 Ehrenamt (6) 名誉职位</h1><p>der Tischtennistrainer- 乒乓球教练</p><p>seitdem 自那以后 adv</p><p>die Jugend-/（集合名词）青年人</p><p>der Betreuer- 监护人，照管者</p><p>immer weniger 越来越少的</p><p>abbauen 拆除，裁减（可分v）</p><p>der Sozialstaat-en 社会福利国家</p><p>das Altenheim-e 敬老院，养老院</p><p>das Schlimmste 最糟糕的事情</p><p>verhindern 避免，组织（不可分v）</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;23-1-politikwörter-词汇政治&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#23-1-politikwörter-词汇政治&quot;&gt;&lt;/a&gt; 23-1 Politikwörter 词汇：政治&lt;/h1&gt;
&lt;p&gt;der Bund</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="柏林广场A2" scheme="https://tinsir888.github.io/tags/%E6%9F%8F%E6%9E%97%E5%B9%BF%E5%9C%BAA2/"/>
    
  </entry>
  
  <entry>
    <title>动手强化学习 第五章 近似逼近方法</title>
    <link href="https://tinsir888.github.io/posts/bf2e452b.html"/>
    <id>https://tinsir888.github.io/posts/bf2e452b.html</id>
    <published>2023-02-10T16:00:00.000Z</published>
    <updated>2023-05-05T14:04:51.311Z</updated>
    
    <content type="html"><![CDATA[<h1 id="参数化值函数近似"><a class="markdownIt-Anchor" href="#参数化值函数近似"></a> 参数化值函数近似</h1><h2 id="针对之前的模型"><a class="markdownIt-Anchor" href="#针对之前的模型"></a> 针对之前的模型</h2><p>都是基于创建一个查询表，再表中维护状态值函数或状态-动作值函数。</p><p>当处理大规模的 MDP 时</p><ul><li>状态/状态-动作空间非常大</li><li>连续的状态或动作空间</li></ul><p>维护起来代价太大</p><h3 id="处理大规模-mdp-的解决方法"><a class="markdownIt-Anchor" href="#处理大规模-mdp-的解决方法"></a> 处理大规模 MDP 的解决方法</h3><ul><li>对状态/动作进行离散化或粪桶</li><li>构建参数化的值函数估计</li></ul><h2 id="对状态动作进行离散化"><a class="markdownIt-Anchor" href="#对状态动作进行离散化"></a> 对状态/动作进行离散化</h2><p>例如：在一个二维平面空间中，使用网格对状态空间进行切分，从而转化成离散值</p><p>对于一个大型的 MDP，可以对状态值进一步分桶以进行采样聚合</p><h3 id="优点"><a class="markdownIt-Anchor" href="#优点"></a> 优点</h3><ul><li>操作简洁直观</li><li>高效</li><li>在处理许多问题时有较好的效果</li></ul><h3 id="缺点"><a class="markdownIt-Anchor" href="#缺点"></a> 缺点</h3><ul><li>过于简单表示价值函数 V</li><li>可能为每个离散区间假设一个常数值</li><li>维度灾难</li></ul><h2 id="参数化价值函数"><a class="markdownIt-Anchor" href="#参数化价值函数"></a> 参数化价值函数</h2><h3 id="参数化值函数近似-2"><a class="markdownIt-Anchor" href="#参数化值函数近似-2"></a> 参数化值函数近似</h3><ul><li><p>构建参数化（可学习的）函数来近似值函数</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>≃</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V_\theta(s)\simeq V^\pi(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>≃</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)\simeq Q^\pi(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><ul><li>θ 时近似函数的参数，可通过 RL 进行更新</li><li>参数化的方法将现有可见的状态泛化到没有见过的状态上</li></ul></li></ul><h3 id="值函数近似的主要形式"><a class="markdownIt-Anchor" href="#值函数近似的主要形式"></a> 值函数近似的主要形式</h3><ul><li>一些函数近似<ul><li>线性模型</li><li>神经网络</li><li>决策树</li><li>最近邻</li><li>傅里叶/小波基底</li></ul></li><li>可微函数<ul><li>线性模型</li><li>神经网络</li></ul></li><li>希望模型适合在非静态的、非独立同分布的数据上训练</li></ul><h3 id="基于随机梯度下降-sgd-的值函数近似"><a class="markdownIt-Anchor" href="#基于随机梯度下降-sgd-的值函数近似"></a> 基于随机梯度下降 SGD 的值函数近似</h3><ul><li><p>目标：找到参数向量 θ 最小化值函数近似值与真实值之间的均方误差</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mi>π</mi></msub><mo stretchy="false">[</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_\pi[\frac{1}{2}(V^\pi(s)-V_\theta(s))^2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p></li><li><p>误差减小的梯度方向</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mi>π</mi></msub><mo stretchy="false">[</mo><mo stretchy="false">(</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">-\frac{\partial J(\theta)}{\partial \theta}=\mathbb E_\pi[(V^\pi(s)-V_\theta(s))\frac{\partial V_\theta(s)}{\partial \theta}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.22222em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span></span></span></span></p></li><li><p>单次采样随机梯度下降</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi><mo>←</mo><mi>θ</mi><mo>−</mo><mi>α</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\theta\leftarrow\theta-\alpha\frac{\partial J(\theta)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>θ</mi><mo>+</mo><mi>α</mi><mo stretchy="false">(</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">=\theta+\alpha(V^\pi(s)-V_\theta(s))\frac{\partial V_\theta(s)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.22222em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></li></ul><h3 id="特征化状态"><a class="markdownIt-Anchor" href="#特征化状态"></a> 特征化状态</h3><p>用一个特征向量表示状态</p><h1 id="价值函数近似算法"><a class="markdownIt-Anchor" href="#价值函数近似算法"></a> 价值函数近似算法</h1><h2 id="状态值函数近似"><a class="markdownIt-Anchor" href="#状态值函数近似"></a> 状态值函数近似</h2><p>用特征的线性组合表示价值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>θ</mi><mi>T</mi></msup><mi>x</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V_\theta(s)=\theta^Tx(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p>目标函数是参数的 θ 的二次函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mi>π</mi></msub><mo stretchy="false">[</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>θ</mi><mi>T</mi></msup><mi>x</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_\pi[\frac{1}{2}(V^\pi(s)-\theta^Tx(s))^2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>因此随机梯度下降能够收敛到全局最优解上</p><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi><mo>←</mo><mi>θ</mi><mo>−</mo><mi>α</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\theta\leftarrow\theta-\alpha\frac{\partial J(\theta)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>θ</mi><mo>+</mo><mi>α</mi><mo stretchy="false">(</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mi>x</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">=\theta+\alpha(V^\pi(s)-V_\theta(s))x(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p>α 是步长，中间的差值是预测误差，x(s) 是特征值</p></blockquote><p>使用蒙特卡洛状态值函数近似，蒙特卡洛预测至少能收敛到一个局部最优解</p><p>使用时序差分值函数近似</p><h2 id="状态-动作值函数近似"><a class="markdownIt-Anchor" href="#状态-动作值函数近似"></a> 状态 - 动作值函数近似</h2><p>对动作 - 状态值函数进行近似 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>≃</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)\simeq Q^\pi(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><p>最小均方误差 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mi>π</mi></msub><mo stretchy="false">[</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_\pi[\frac{1}{2}(Q^\pi(s,a)-Q_\theta(s,a))^2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>在单个样本上进行随机梯度下降</p><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi><mo>←</mo><mi>θ</mi><mo>−</mo><mi>α</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\theta\leftarrow\theta-\alpha\frac{\partial J(\theta)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>θ</mi><mo>+</mo><mi>α</mi><mo stretchy="false">(</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">=\theta+\alpha(Q^\pi(s,a)-Q_\theta(s,a))\frac{\partial Q_\theta(s,a)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></blockquote><h3 id="线性状态-动作值函数近似"><a class="markdownIt-Anchor" href="#线性状态-动作值函数近似"></a> 线性状态 - 动作值函数近似</h3><p>使用特征向量表示状态 - 动作对</p><p>线性情况下，参数化 Q 函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>θ</mi><mi>T</mi></msup><mi>x</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)=\theta^Tx(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><p>利用随机梯度下降更新</p><h3 id="时序差分状态-动作值函数近似"><a class="markdownIt-Anchor" href="#时序差分状态-动作值函数近似"></a> 时序差分状态 - 动作值函数近似</h3><p>对于蒙特卡洛学习，目标是累计奖励</p><p>对于时序差分，目标是当前奖励和未来预测奖励之和</p><h1 id="策略梯度"><a class="markdownIt-Anchor" href="#策略梯度"></a> 策略梯度</h1><h2 id="参数化策略"><a class="markdownIt-Anchor" href="#参数化策略"></a> 参数化策略</h2><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span>，策略可以是确定的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a=\pi_\theta(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span>，也可以是随机的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)=P(a|s;\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span>。</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span> 是策略的参数</li><li>将可见的已知状态泛化到位置的状态上</li></ul><h2 id="基于策略的强化学习"><a class="markdownIt-Anchor" href="#基于策略的强化学习"></a> 基于策略的强化学习</h2><p>优点</p><ul><li>更好的收敛性质</li><li>高维度或连续动作空间中更有效</li><li>能学习出随机策略</li></ul><p>缺点</p><ul><li>通常或收敛到局部最优</li><li>评估一个策略通常不够高效率并且具有较大的方差</li></ul><h1 id="策略梯度-2"><a class="markdownIt-Anchor" href="#策略梯度-2"></a> 策略梯度</h1><p>对于随机策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)=P(a|s;\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></p><p>降低低价值/奖励动作出现的概率，提高高价值/奖励动作出现的概率。</p><h2 id="单步马尔可夫决策过程的策略梯度"><a class="markdownIt-Anchor" href="#单步马尔可夫决策过程的策略梯度"></a> 单步马尔可夫决策过程的策略梯度</h2><p>考虑一个但不马尔可夫决策过程</p><ul><li>起始状态 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>∼</mo><mi>d</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s\sim d(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></li><li>决策过程在进一步决策后结束，获得奖励值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">r_{sa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li></ul><p>策略的价值期望</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><msub><mi>π</mi><mi>θ</mi></msub></msub><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mo>∑</mo><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow></msub><mi>d</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msub><mo>∑</mo><mrow><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></msub><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_{\pi_\theta}[r]=\sum_{s\in S}d(s)\sum_{a\in A}\pi_\theta(a|s)r_{sa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.00586em;vertical-align:-0.25586em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25586em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.07708em;vertical-align:-0.32708000000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mo>∑</mo><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow></msub><mi>d</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msub><mo>∑</mo><mrow><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\frac{\partial J(\theta)}{\partial\theta}=\sum_{s\in S}d(s)\sum_{a\in A}\frac{\partial\pi_\theta(a|s)}{\partial\theta}r_{sa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><h2 id="trick-似然比-likelihood-ratio"><a class="markdownIt-Anchor" href="#trick-似然比-likelihood-ratio"></a> trick: 似然比 Likelihood Ratio</h2><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mfrac><mn>1</mn><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial\pi_\theta(a|s)}{\partial\theta}=\pi_\theta(a|s)\frac{1}{\pi_\theta(a|s)}\frac{\partial\pi_\theta(a|s)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">=\pi_\theta(a|s)\frac{\partial\log\pi_\theta(a|s)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>因此，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mo>∑</mo><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow></msub><mi>d</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msub><mo>∑</mo><mrow><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></msub><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\frac{\partial J(\theta)}{\partial\theta}=\sum_{s\in S}d(s)\sum_{a\in A}\pi_\theta(a|s)\frac{\partial\log\pi_\theta(a|s)}{\partial\theta}r_{sa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><msub><mi>π</mi><mi>θ</mi></msub></msub><mo stretchy="false">[</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\mathbb E_{\pi_\theta}[\frac{\partial\log\pi_\theta(a|s)}{\partial\theta}r_{sa}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25586em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>这一结果可以通过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span> 中采样状态 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span> 和从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">\pi_\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 中采样动作 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> 来近似估计</p><h2 id="策略梯度定理"><a class="markdownIt-Anchor" href="#策略梯度定理"></a> 策略梯度定理</h2><p>将似然比推导过程泛化到马尔可夫决策过程</p><p>长期价值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q^{\pi_\theta}(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span> 替换 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">r_{sa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>起始状态目标函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">J_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，平均奖励目标函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mrow><mi>a</mi><mi>v</mi><mi>R</mi></mrow></msub></mrow><annotation encoding="application/x-tex">J_{avR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，平均价值目标函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mrow><mi>a</mi><mi>v</mi><mi>V</mi></mrow></msub></mrow><annotation encoding="application/x-tex">J_{avV}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>定理：对任意可微的策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span>，任意策略的目标函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo>=</mo><msub><mi>J</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">J=J_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mrow><mi>a</mi><mi>v</mi><mi>R</mi></mrow></msub></mrow><annotation encoding="application/x-tex">J_{avR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mrow><mi>a</mi><mi>v</mi><mi>V</mi></mrow></msub></mrow><annotation encoding="application/x-tex">J_{avV}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，其策略梯度为：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><msub><mi>π</mi><mi>θ</mi></msub></msub><mo stretchy="false">[</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msup><mi>Q</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\frac{\partial J(\theta)}{\partial\theta}=\mathbb E_{\pi_\theta}[\frac{\partial\log\pi_\theta(a|s)}{\partial\theta}Q^{\pi_\theta}(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25586em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><h2 id="蒙特卡洛策略梯度reinforce"><a class="markdownIt-Anchor" href="#蒙特卡洛策略梯度reinforce"></a> 蒙特卡洛策略梯度（REINFORCE）</h2><p>随机梯度上升</p><p>策略梯度定理</p><p>利用累计奖励值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">G_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 作为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q^{\pi_\theta}(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span> 的无偏采样。</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><msub><mi>θ</mi><mi>t</mi></msub><mo>=</mo><mi>α</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msub><mi>G</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\Delta\theta_t=\alpha\frac{\partial\log\pi_\theta(a_t|s_t)}{\partial\theta}G_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><h2 id="softmax-随机策略"><a class="markdownIt-Anchor" href="#softmax-随机策略"></a> Softmax 随机策略</h2><p>非常常用的随机策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><msup><mi>e</mi><mrow><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow></msup><mrow><msub><mo>∑</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><msup><mi>e</mi><mrow><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)=\frac{e^{f_\theta(s,a)}}{\sum_{a&#x27;}e^{f_\theta(s,a&#x27;)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.780732em;vertical-align:-0.710032em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0707em;"><span style="top:-2.514975em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.28539000000000003em;"><span style="top:-2.2853899999999996em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32143857142857146em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9643214285714286em;"><span style="top:-2.9643214285714286em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:-0.10764em;margin-right:0.1em;"><span class="pstrut" style="height:2.69444em;"></span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.34963999999999995em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9667142857142857em;"><span style="top:-2.9667142857142856em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5357142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:-0.10764em;margin-right:0.1em;"><span class="pstrut" style="height:2.69444em;"></span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.34963999999999995em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.710032em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_\theta(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span> 是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span> 参数化的状态-动作对得分函数，可预定义。</p><p>其对数似然梯度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>−</mo><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\frac{\partial\log f_\theta(s,a)}{\partial\theta}-\mathbb E_{a&#x27;\sim\pi_\theta(a&#x27;|s)}[\frac{\partial f_\theta(s,a&#x27;)}{\partial\theta}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.10764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.41968em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.06448em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.10764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span></span></span></span></p><h1 id="actor-critic"><a class="markdownIt-Anchor" href="#actor-critic"></a> Actor-Critic</h1><p>同时基于价值函数和策略梯度的算法</p><h2 id="reinforce存在的问题"><a class="markdownIt-Anchor" href="#reinforce存在的问题"></a> REINFORCE存在的问题</h2><ol><li><p>基于片段式数据的任务</p><p>通常情况下，任务需要终止状态，REINFORCE才能直接计算累计折扣黄历</p></li><li><p>低数据利用效率</p><p>需要大量训练数据</p></li><li><p>高训练方差（重要缺陷）</p><p>从单个或多个片段中采样得到的值函数具有很高的方差</p></li></ol><h2 id="ac算法的引入"><a class="markdownIt-Anchor" href="#ac算法的引入"></a> AC算法的引入</h2><p>为什么不建立一个可训练的值函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>ϕ</mi></msub></mrow><annotation encoding="application/x-tex">Q_\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>完成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span>的评估过程</p><p>演员 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span> 采取动作使评论家满意的策略</p><ul><li>学会采取是评论家满意的动作</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>s</mi><mo>∼</mo><mi>p</mi><mo separator="true">,</mo><msub><mi>π</mi><mi>θ</mi></msub></mrow></msub><mo stretchy="false">[</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><msub><mi>Q</mi><mi mathvariant="normal">Φ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_{s\sim p,\pi_\theta}[\pi_\theta(a|s)Q_\Phi(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Φ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><msub><mi>π</mi><mi>θ</mi></msub></msub><mo stretchy="false">[</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msub><mi>Q</mi><mi mathvariant="normal">Φ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\frac{\partial J(\theta)}{\partial\theta}=\mathbb E_{\pi_\theta}[\frac{\partial\log\pi_\theta(a|s)}{\partial\theta}Q_\Phi(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25586em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Φ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></li></ul><p>评论家 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>ϕ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\phi(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span> 学会准确估计演员策略所采取动作价值的值函数</p><ul><li>学会估计当前演员策略的动作价值</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>ϕ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>≃</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msub><mi>Q</mi><mi>ϕ</mi></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q_\phi(s,a)\simeq r(s,a)+\gamma\mathbb E_{s&#x27;\sim p(s&#x27;|s),a&#x27;\sim\pi_\theta(a&#x27;|s&#x27;)}[Q_\phi(s&#x27;,a&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></li></ul><h2 id="a2c-advantageous-actor-critic"><a class="markdownIt-Anchor" href="#a2c-advantageous-actor-critic"></a> A2C, Advantageous Actor-Critic</h2><p>通过减去一个基线函数来标准化评论家的打分，有点normalize的意思</p><ul><li>更多信息指导：降低较差动作概率，提高较优动作概率</li><li>进一步降低方差</li></ul><p>优势函数 Advantage Function</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^\pi(s,a)=Q^\pi(s,a)-V^\pi(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p>状态-动作值和状态值函数</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msub><mi>Q</mi><mi>ϕ</mi></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q^\pi(s,a)=r(s,a)+\gamma\mathbb E_{s&#x27;\sim p(s&#x27;|s),a&#x27;\sim\pi_\theta(a&#x27;|s&#x27;)}[Q_\phi(s&#x27;,a&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=r(s,a)+\gamma\mathbb E_{s&#x27;\sim p(s&#x27;|s)}[V^\pi(s&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>因此，</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A^\pi(s,a)=r(s,a)+\gamma\mathbb E_{s&#x27;\sim p(s&#x27;|s)}[V^\pi(s&#x27;)-V^\pi(s)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≃</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><mo stretchy="false">[</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\simeq r(s,a)+\gamma[V^\pi(s&#x27;)-V^\pi(s)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;参数化值函数近似&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#参数化值函数近似&quot;&gt;&lt;/a&gt; 参数化值函数近似&lt;/h1&gt;
&lt;h2 id=&quot;针对之前的模型&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#针对之前</summary>
      
    
    
    
    <category term="动手学习强化学习课程笔记" scheme="https://tinsir888.github.io/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="强化学习" scheme="https://tinsir888.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 A2 Kapitel 22 Alltag und Medien</title>
    <link href="https://tinsir888.github.io/posts/735c3d01.html"/>
    <id>https://tinsir888.github.io/posts/735c3d01.html</id>
    <published>2023-02-09T16:00:00.000Z</published>
    <updated>2023-03-01T07:18:46.998Z</updated>
    
    <content type="html"><![CDATA[<h1 id="22-1-medien-媒体"><a class="markdownIt-Anchor" href="#22-1-medien-媒体"></a> 22-1 Medien 媒体</h1><p>das Radio-s 收音机</p><p>das Buch-&quot;er 书</p><p>die Sendung-en 节目</p><p>anschalten 打开（电器）</p><p>ausschalten 关闭（电器）</p><p>hören 听</p><p>die Zeitung-en 报纸</p><p>das Telefon-e 电话机</p><p>telefonieren 打电话 mit + Dativ</p><blockquote><p>Ich telefonieren mit dir.</p></blockquote><p>anrufen 致电 + Akkusativ</p><blockquote><p>Ich rufe dich später noch mal an.</p></blockquote><p>Ruf mich bitte zurück. 请给我回电。</p><p>Es war immer besetzt. 总是占线。</p><p>der Anrufbeantworter- 电话答录机</p><p>der MP3-Play MP3 播放器</p><p>herunterladen 下载 可分v</p><p>hochladen 上传 可分v</p><blockquote><p>lade - lädst - lädt - laden - ladet - laden - haben (herunter/hoch)geladen</p></blockquote><p>abschicken 寄出 可分v</p><p>empfangen 收到 不可分v</p><blockquote><p>empfange - empfängst - empfängt - empfangen - empfangt - empfangen - haben empfangen 不可分动词过去分此中间没有 ge</p></blockquote><p>der Empfänger- 收件人</p><p>das Handy-s 手机</p><p>die SMS 短消息（短信或聊天软件）</p><blockquote><p>Ich schreibe dir eine SMS.</p></blockquote><p>der Anhang-&quot;e 附件</p><blockquote><p>Kannst du mir den Anhang runterladen?</p></blockquote><p>der Blog-s 博客</p><blockquote><p>Hast du schon den neuen Blog gelesen?</p></blockquote><p>mailen 发邮件 v</p><p>die E-Mail 邮件</p><blockquote><p>Ich habe dir eine Mail geschickt.</p></blockquote><p>das Internet 网络</p><blockquote><p>Ich komme zurzeit nicht ins Netz.</p></blockquote><p>ins Netz kommen 连上网</p><p>der Chat-s 网聊</p><p>die Festplatte-n 硬盘</p><p>googeln 谷歌一下</p><p>online sein 在线</p><p>skypen 使用 skypen</p><p>twittern 使用推特</p><p>die Zeitschrift-en 杂志</p><p>der Fernseher- 电视</p><p>fernsehen 看电视 可分v</p><p>der Film-e 电影</p><p>auf … umschalten 转台</p><p>zappen 频繁转换频道</p><p>ziehen Akkusativ auf Akkusativ 将……拖到……</p><p>der USB-Stick U盘</p><h1 id="22-2-alltag-1"><a class="markdownIt-Anchor" href="#22-2-alltag-1"></a> 22-2 Alltag (1)</h1><p>wecken 叫醒，唤醒</p><p>anmachen 打开（带点的物品）可分v</p><p>die Schulsache-n 上学的物品</p><p>in den Pausen 休息间隙</p><p>die Erdkunde-/ 地理学</p><p>das Fach-&quot;er 科目，专业</p><p>ansehen 注视 可分v</p><p>das Hausaufgabenmachen-/ 做作业</p><p>das Fernsehen 电视机，看电视</p><p>chatten 闲聊，网聊</p><p>SchülerVZ = Schüler Verzeichnis 德国学生社交软件</p><p>sich[Dativ] etwas[Akkusativ] anschauen 认真看</p><p>die Jugendzeitschrift-en 青少年杂志</p><p>der Witz-e 玩笑</p><p>als erstes 首要的，最重要的</p><p>sonstig 另外的，其他的 adj</p><p>auf dem Weg zu + Dativ 去……的路上</p><p>die Mensa-sen 大学食堂</p><p>normalerweise 通常，正常情况下 adv</p><p>zumindest 至少 adv</p><p>sobald 一……就……（从句连词）</p><p>nebenher 附加地，顺便地</p><h1 id="22-3-alltag-2"><a class="markdownIt-Anchor" href="#22-3-alltag-2"></a> 22-3 Alltag (2)</h1><p>nachdenken - haben nachgedacht 思考</p><p>vorher 之前，早先时候 adv</p><p>der Radiowecker- 钟控收音机</p><p>werde … geweckt 被动态 被叫醒</p><p>auf dem Weg 在路上</p><p>das Plakat-e 海报，宣传画</p><p>abhören 倾听，监听 可分v</p><p>der PC-s = Personalcomputer 个人电脑</p><p>ansonsten 否则，在其它情况下 adv</p><p>der Kriminalroman-e 犯罪小说</p><h2 id="übungen"><a class="markdownIt-Anchor" href="#übungen"></a> Übungen</h2><ol><li>Um sechs hat mich mein Radiowecker mit Musik geweckt.</li><li>Dann habe ich gefrühstückt, Zeitung gelesen und Musik gehört.</li><li>Danach habe ich meine Sachen gepackt und <strong>bin</strong> mit der U-Bahn ins Büro gefahren.</li><li>Dort habe ich zuerst dem Computer angemacht und den Anrufbeantworter abgehört.</li><li>Ich habe den ganzen Tag vor dem Computer gesessen.</li><li>Ich habe Texte korrigiert, Mails beantwortet und im Internet recherchiert.</li><li>Nach der Arbeit haben ich mich mit Freunden getroffen.</li><li>Vor dem Einschlafen habe ich ein paar Seiten in einem Kriminalroman gelesen.</li></ol><h1 id="22-4-statistik-媒体数据"><a class="markdownIt-Anchor" href="#22-4-statistik-媒体数据"></a> 22-4 Statistik 媒体数据</h1><p>laut 根据，引用 介词</p><p>die Statistik-en 统计数据</p><p>aufwachen 醒来 可分v</p><h2 id="aussprache-反问句"><a class="markdownIt-Anchor" href="#aussprache-反问句"></a> Aussprache 反问句</h2><p>Ich hätte gern … + 过去分词 虚拟式委婉表达请求</p><p>die Fernsehzeitschrift-en 电视杂志</p><p>Verbindung-en 连接，联系</p><p>zurückrufen 回电 可分v</p><p>in + Dativ ……时间之后</p><h1 id="22-5-welcher-dieser-疑问代词"><a class="markdownIt-Anchor" href="#22-5-welcher-dieser-疑问代词"></a> 22-5 welcher, dieser 疑问代词</h1><p>welch__ 哪一个</p><p><strong>词尾变化同定冠词</strong></p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m.</th><th style="text-align:center">n.</th><th style="text-align:center">f.</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">welcher</td><td style="text-align:center">welches</td><td style="text-align:center">welche</td><td style="text-align:center">welche</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">welchen</td><td style="text-align:center">welches</td><td style="text-align:center">welche</td><td style="text-align:center">welche</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">welchem</td><td style="text-align:center">welchem</td><td style="text-align:center">welcher</td><td style="text-align:center">welchen</td></tr></tbody></table><p>dies__ 指示代词</p><p><strong>词尾变化同定冠词</strong></p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m.</th><th style="text-align:center">n.</th><th style="text-align:center">f.</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">dieser</td><td style="text-align:center">dieses</td><td style="text-align:center">diese</td><td style="text-align:center">diese</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">diesen</td><td style="text-align:center">dieses</td><td style="text-align:center">diese</td><td style="text-align:center">diese</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">diesem</td><td style="text-align:center">diesem</td><td style="text-align:center">dieser</td><td style="text-align:center">diesen</td></tr></tbody></table><p>der Tarif-e 价目表，费率表</p><p>günstig 有益的，划算的</p><p>die Flatrate 固定价格</p><p>der Anbieter- 供应商</p><p>viel besser 好多了</p><p>der Touchscreen 触摸屏</p><p>das Display-s 显示屏</p><h1 id="22-6-das-neue-handy"><a class="markdownIt-Anchor" href="#22-6-das-neue-handy"></a> 22-6 Das neue Handy</h1><p>die Stereoanlage-n 立体声音响</p><p>entweder … oder … 要么，要么（不占位）</p><p>gleichzeitig 同时地 adv</p><p>entscheiden - haben entsch<strong>ie</strong>den 决定</p><p>gleich 相同的 adj</p><p>monatlich 每个月 adv</p><p>die Pauschale-n 一口价</p><p>die Prepaid-Karten 预存卡</p><p>kompliziert 复杂的 adj</p><p>der Kiosk-e 书报亭</p><p>am Kiosk</p><p>die Post-/ 邮局</p><p>der Guthaben- 存款</p><h1 id="22-7-nachrichten-1-新闻与资讯"><a class="markdownIt-Anchor" href="#22-7-nachrichten-1-新闻与资讯"></a> 22-7 Nachrichten (1) 新闻与资讯</h1><p>die Verkehrsmeldung-en 交通播报</p><p>der Wetterbericht-e 天气预报</p><p>die Politik-en 政治</p><p>der Sport 体育</p><p>sich[Dativ] etwas vornehmen 计划安排某事</p><p>die Fußballbundesliga 德甲</p><p>die Lektüre- 读物</p><p>die Wirtschaft-en 经济</p><p>die Region-en 地区，区域</p><p>informiert 知道的，获悉的 adj</p><h1 id="22-8-nachrichten-2-新闻与资讯"><a class="markdownIt-Anchor" href="#22-8-nachrichten-2-新闻与资讯"></a> 22-8 Nachrichten (2) 新闻与资讯</h1><p>die Informationsquelle-n 信息来源，情报源</p><p>der Service-/ 服务</p><p>aktuell 当下的，实时的</p><p>der Navi 导航</p><p>eingeben 输入 可分v</p><p>das Ziel-e 目的地</p><p>ans Ziel = an das Ziel</p><p>Alles ein alter Hut! 老生常谈</p><p>der Briefkasten-&quot; 邮箱，邮筒</p><p>der Tastenklick-s 按键</p><p>der Suchbegriff-e 搜索关键词</p><p>brauchen zu + 动词原形 需要做某事</p><h2 id="形容词构词法"><a class="markdownIt-Anchor" href="#形容词构词法"></a> 形容词构词法</h2><h3 id="-ig"><a class="markdownIt-Anchor" href="#-ig"></a> -ig</h3><p>farbig 彩色的</p><p>regelmäßig 规律的</p><p>günstig 实惠的</p><h3 id="-isch"><a class="markdownIt-Anchor" href="#-isch"></a> -isch</h3><p>一般跟在名词后，体现名词本身的特性。</p><p>praktisch 实用的</p><p>typisch 典型的</p><p>italienisch 意大利的</p><p>ausländisch 国外的</p><h3 id="-lich"><a class="markdownIt-Anchor" href="#-lich"></a> -lich</h3><p>täglich 每天的</p><p>staatlich 国家的</p><p>pünktlich 准时的</p><p>sportlich 运动的</p><h3 id="-bar"><a class="markdownIt-Anchor" href="#-bar"></a> -bar</h3><p>一般跟在动词后，表示“能够……”</p><p>kontrollierbar 可控的</p><p>bezahlbar 可支付的</p><p>tragbar 可携带的</p><p>essbar 可食用的</p><h3 id="-los"><a class="markdownIt-Anchor" href="#-los"></a> -los</h3><p>一般跟在名词之后，表示“没有……”</p><p>fernsehlos 无电视的</p><p>kostenlos 免费的</p><p>arbeitslos 失业的</p><p>kinderlos 无子女的</p><h2 id="反义词"><a class="markdownIt-Anchor" href="#反义词"></a> 反义词</h2><h3 id="全新的单词"><a class="markdownIt-Anchor" href="#全新的单词"></a> 全新的单词</h3><p>leise 安静的 - laut 吵闹的</p><p>schön 美丽的 - hässlich 丑陋的</p><p>gut 好的 - schlecht 坏的</p><h3 id="un-"><a class="markdownIt-Anchor" href="#un-"></a> un-</h3><p>bekannt 知名的 - unbekannt</p><p>freundlich - unfreundlich</p><p>interessant - uninteressant</p><p>klar - unklar</p><p>möglich - unmöglich</p><p>regelmäßig - unregelmäßig</p><p>wichtig - unwichtig</p><p>zufrieden 满意的 - unzufrieden</p><h1 id="22-9-pro-und-contra-正方和反方"><a class="markdownIt-Anchor" href="#22-9-pro-und-contra-正方和反方"></a> 22-9 Pro und Contra 正方和反方</h1><p>die These-n 命题，论点</p><p>der Bürger- 公民，市民</p><p>der Internetanschluss-&quot;e 网络接口</p><p>der Computerunterricht 电脑课程</p><p>sparen 节省</p><p>die Privatsphäre-n 隐私</p><p>表明观点</p><ul><li><p>Ich finde/meine, dass … 我觉得</p></li><li><p>Ich finde nicht, dass … 我不觉得</p></li><li><p>Es ist doch klar. 这不是摆明的嘛。</p></li><li><p>Das stimmt! 没错！</p></li><li><p>Das ist Unsinn. 一派胡言。</p></li></ul><p>阐述论据</p><p>verbieten 禁止，不允许 - haben verboten</p><p>bestimmen 决定，规定</p><ul><li>Man kann doch nicht alles verbieten, ich will selbst bestimmen wann ich fernsehe.</li><li>Es gibt auch viele interessante Sendungen.</li><li>Man kann die Leute dann immer erreichen.</li></ul><p>erreichen 到达，联系上</p><ul><li>Die Kinder können damit gar nicht umgehen. Kinder sollen draußen spielen.</li></ul><p>mit … umgehen 应付……，适应……</p><p>der Fernsehsender- 电视台</p><p>häufig 频繁地，经常地</p><h1 id="22-10-fernsehen-1-德国的电视沿革"><a class="markdownIt-Anchor" href="#22-10-fernsehen-1-德国的电视沿革"></a> 22-10 Fernsehen (1) 德国的电视沿革</h1><p>verändern 改变，更改 不可分v</p><p>im Durchschnitt = durchschnittlich 平均地 adv</p><p>die Flimmerkiste-n 放映机</p><p>auswählen 挑选 可分v</p><p>rund um die Uhr 全天候，24小时</p><p>ausstrahlen 播放，射出 可分v</p><p>Land der Welt 第二格</p><p>die Unterhaltung-/ 娱乐，消遣</p><p>die Fernsehstube-n 电视间</p><p>einrichten 布置，设立 可分v - haben eingerichtet</p><p>der Zuschauer- 观众</p><p>der Eintritt-/ 入场，门票</p><p>erleben 经历，亲眼看到 不可分 过去式：erlebten</p><p>die Olympischen Spielen 奥林匹克运动会</p><p>das Fernsehgerät-e 电视机装置</p><p>damals 当时 adv</p><p>der Haushalt-e 家，户</p><h1 id="22-11-fernsehen-2-德国的电视沿革"><a class="markdownIt-Anchor" href="#22-11-fernsehen-2-德国的电视沿革"></a> 22-11 Fernsehen (2) 德国的电视沿革</h1><p>der Rundfunk-/ 广播电台</p><p>时间 + lich = 循环重复</p><p>täglich 每天</p><p>stündlich 每小时</p><p>minutlich 每分钟</p><p>时间 + ig = 时长</p><p>dreistündig 三小时之久的</p><p>stündig 一小时长的</p><p>minütig 一分钟长的</p><p>der Normalbürger- 普通市民</p><p>bezahlbar 可支付的，有支付能力的</p><p>die Gaststätte-n 餐厅，客栈</p><p>die Turnhalle-n 体育馆</p><p>der Gemeindesaal-säle 社区会堂</p><p>die Halle-n / der Saal-Säle 大厅，礼堂</p><p>im Freien 在户外</p><p>der Höhepunkt-e 亮点，高潮</p><p>die Krönung-en 加冕礼</p><p>britisch 英国的</p><p>die Königin-nen 女王</p><p>übrigens 小品词，顺便提一下</p><p>das Endspiel-e 决赛</p><p>wurden 成为，变得 werden 过去式</p><p>populär 流行的，普及的，受欢迎的</p><p>die Rundfunkgebühr-en 广播电视费</p><p>ZDF 德国电视二台，全称：Zweites Deutsches Fernsehen</p><p>der Fernsehempfänger- 电视接收者</p><p>stieg = steigen 过去式 上升</p><p>farbig 彩色的</p><p>der Farbfernseher- 彩电</p><p>kamen = kommen 的过去式</p><h1 id="22-12-fernsehen-3-德国的电视沿革"><a class="markdownIt-Anchor" href="#22-12-fernsehen-3-德国的电视沿革"></a> 22-12 Fernsehen (3) 德国的电视沿革</h1><p>ehemalig 从前的，曾经的 adj</p><p>DDR = Deutsche Demokratische Republik 德意志民主共和国</p><p>startete = starten 过去式 开始</p><p>zensieren 审查，监督</p><p>darum 因此</p><p>gefiel = gefallen 过去式</p><p>verhindern 阻碍</p><p>der Fernsehanbieter- 电视运营商</p><p>finanzieren 为……提供资金</p><p>ausschließlich 仅仅，唯独 adv</p><p>ausschließend 排除的，除此之外 adv</p><p>anschließend 紧接着 adv</p><p>der Satellit-en 卫星</p><p>das Kabel- 电线，电缆</p><h1 id="22-13-fernsehen-4-德国的电视沿革"><a class="markdownIt-Anchor" href="#22-13-fernsehen-4-德国的电视沿革"></a> 22-13 Fernsehen (4) 德国的电视沿革</h1><p>Wurde（放在句首）+ 从句 = 如果说……</p><p>früher 曾经，从前 adv</p><p>der Tagesablauf 一天日程，一天安排</p><p>sah sahen = sehen 过去式</p><p>das Ereignis-se 不同寻常的事件</p><p>die Variante-n 变形，变体</p><p>gemeinsames Fernsehen 集体看电视，公共电视</p><p>Fußball-WM = Fußball-Weltmeisterschaft 足球世界杯</p><p>miterleben 一起经历 可分v</p><p>die Liveübertragung-en 现场转播</p><p>der Großbildschrim-e 大屏幕</p><p>in der Öffentlichkeit 在公共场合</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;22-1-medien-媒体&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#22-1-medien-媒体&quot;&gt;&lt;/a&gt; 22-1 Medien 媒体&lt;/h1&gt;
&lt;p&gt;das Radio-s 收音机&lt;/p&gt;
&lt;p&gt;das Buch-&amp;quo</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="柏林广场A2" scheme="https://tinsir888.github.io/tags/%E6%9F%8F%E6%9E%97%E5%B9%BF%E5%9C%BAA2/"/>
    
  </entry>
  
  <entry>
    <title>留学申请就是大撒币</title>
    <link href="https://tinsir888.github.io/posts/be6176a4.html"/>
    <id>https://tinsir888.github.io/posts/be6176a4.html</id>
    <published>2023-02-05T16:00:00.000Z</published>
    <updated>2023-03-20T12:20:50.036Z</updated>
    
    <content type="html"><![CDATA[<p>专门开一篇来记录一下留学准备留学到学校 Zulassung 下来的花费 i.e. 算总账</p><p>（外币统统换算为人民币，以其为单位）</p><h1 id="语言考试"><a class="markdownIt-Anchor" href="#语言考试"></a> 语言考试</h1><p>2021 年暑假的雅思考试（口语考试迟到，直接白给）：2170</p><p>2022 年初隔离结束后的雅思考试：2170</p><p>（待更新……说不定之后考 TestDaf 还要花钱）</p><h1 id="留学咨询"><a class="markdownIt-Anchor" href="#留学咨询"></a> 留学咨询</h1><p>半 DIY，请人弄文书+答疑等等等等，9000</p><h1 id="申请费用"><a class="markdownIt-Anchor" href="#申请费用"></a> 申请费用</h1><p>瑞典申请系统，900 瑞典克朗：约 615</p><p>奥胡斯大学申请费，750 丹麦克朗：约 740</p><p>丹麦科技大学申请费，750 丹麦克朗：约 746</p><p>哥本哈根大学申请费，750 丹麦克朗：约 746</p><p>（待更新……）</p><h1 id="学信网成绩单认证"><a class="markdownIt-Anchor" href="#学信网成绩单认证"></a> 学信网成绩单认证</h1><p>aka CSSD verified transcript，用于芬兰的学校申请：300</p><h1 id="用于德-奥国家的-aps"><a class="markdownIt-Anchor" href="#用于德-奥国家的-aps"></a> 用于德、奥国家的 APS</h1><h2 id="用于-aps-公证"><a class="markdownIt-Anchor" href="#用于-aps-公证"></a> 用于 APS 公证</h2><p>高中毕业证中英双语翻译公证件：255</p><p>大学录取花名册中英双语翻译公证件：279</p><h2 id="aps-面谈费用"><a class="markdownIt-Anchor" href="#aps-面谈费用"></a> 🇩🇪 APS 面谈费用</h2><p>邮寄 APS 面谈所需材料快递费：15</p><p>APS 一般国内申请人程序费用：2500</p><p>12 月 7 日至 12 月 23 日在北京的住宿开销：3264</p><h2 id="aps-费用"><a class="markdownIt-Anchor" href="#aps-费用"></a> 🇦🇹 APS 费用</h2><p>通过德国的 APS 审核后可申请直接转 Ö 程序✌️</p><p>邮寄所需材料：20</p><p>APS  Ö 程序费用：2500</p><h1 id="各个学校所需的其它费用"><a class="markdownIt-Anchor" href="#各个学校所需的其它费用"></a> 各个学校所需的其它费用</h1><h2 id="用于-申请"><a class="markdownIt-Anchor" href="#用于-申请"></a> 用于 🇦🇹 ​申请</h2><p>高中毕业证、在读成绩单的中德双语翻译+双号公证：1295</p><p>高中毕业证、在读成绩单的双号公证件送至 <a href="https://www.bmeia.gv.at/oeb-peking/">奥地利驻华大使馆</a> 进行领事认证（aka 双认证）：2033</p><p>出生医学证明中德双语翻译+双号公证（用于奥地利学生居留 MA35 申请）：690</p><p>3 个月内无犯罪记录中德双语翻译+双号公证（待办）</p><p>出生医学公证书、无犯罪记录证明公证书双认证（待办）</p><p>（等待更新中……）</p><h1 id="总花费待更新29338"><a class="markdownIt-Anchor" href="#总花费待更新29338"></a> 总花费（待更新）：29338</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;专门开一篇来记录一下留学准备留学到学校 Zulassung 下来的花费 i.e. 算总账&lt;/p&gt;
&lt;p&gt;（外币统统换算为人民币，以其为单位）&lt;/p&gt;
&lt;h1 id=&quot;语言考试&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#语言考试&quot;&gt;&lt;/a&gt; 语</summary>
      
    
    
    
    <category term="留学申请" scheme="https://tinsir888.github.io/categories/%E7%95%99%E5%AD%A6%E7%94%B3%E8%AF%B7/"/>
    
    
    <category term="德国" scheme="https://tinsir888.github.io/tags/%E5%BE%B7%E5%9B%BD/"/>
    
    <category term="奥地利" scheme="https://tinsir888.github.io/tags/%E5%A5%A5%E5%9C%B0%E5%88%A9/"/>
    
    <category term="留学" scheme="https://tinsir888.github.io/tags/%E7%95%99%E5%AD%A6/"/>
    
    <category term="北欧" scheme="https://tinsir888.github.io/tags/%E5%8C%97%E6%AC%A7/"/>
    
    <category term="丹麦" scheme="https://tinsir888.github.io/tags/%E4%B8%B9%E9%BA%A6/"/>
    
    <category term="瑞典" scheme="https://tinsir888.github.io/tags/%E7%91%9E%E5%85%B8/"/>
    
    <category term="芬兰" scheme="https://tinsir888.github.io/tags/%E8%8A%AC%E5%85%B0/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 A2 Kapitel 21 Arbeitssuche</title>
    <link href="https://tinsir888.github.io/posts/1754709b.html"/>
    <id>https://tinsir888.github.io/posts/1754709b.html</id>
    <published>2023-01-28T16:00:00.000Z</published>
    <updated>2023-02-10T00:50:15.895Z</updated>
    
    <content type="html"><![CDATA[<h1 id="21-1-arbeitssuche-寻找工作"><a class="markdownIt-Anchor" href="#21-1-arbeitssuche-寻找工作"></a> 21-1 Arbeitssuche 寻找工作</h1><p>关系从句 aka 定语从句</p><p>die Agentur-en 代理处，办事处</p><p>die Webseite-n 网页</p><p>die Stellenanzeige-n 招聘启事</p><p>das Abschlusszeugnis-se 毕业证书</p><p>die Reinigungsfirma-Reinigungsfirmen 保洁公司</p><p>der Sommermonat-e 夏季月份 6、7、8 月</p><p>der Wochenenddienst-e 周末班制</p><p>der Nachtdienst-e 夜晚，晚班</p><p>sich bei + Dativ + melden 联系……</p><p>der Wald-&quot;er 森林</p><p>das Serviceteam-s 服务团队</p><p>der Empfang-&quot;e 前台</p><p>der Nachtportier-e 夜间守卫</p><p>die Aushilfe-n 临时工</p><p>die Bewerbung-en 求职，申请</p><p>fest 固定的 adj</p><p>die Unterlage-n 书面材料</p><p>zu + Dativ gehören 属于……一部分</p><p>das Passfoto-s 护照照片</p><p>der Lebenslauf-&quot;e 履历，简历</p><p>die Kopie-n 复印件，副本 Zeugniskopien 成绩单复印件</p><h1 id="21-2-arbeitsagentur-就业局"><a class="markdownIt-Anchor" href="#21-2-arbeitsagentur-就业局"></a> 21-2 Arbeitsagentur 就业局</h1><p>die Arbeitsstelle-n 工作岗位</p><p>ganztags 全天地 adv</p><p>die Industrie-n 工业</p><p>die Kauffrau-en 女商人</p><p>die Teilzeitstelle-n 兼职岗位</p><p>die Teilzeit 兼职</p><p>knapp 差不多，将近 adv （极度口语化）</p><p>sich bewerben 求职，投简历 v haben beworben</p><p>besetzt 被占着的 adj</p><p>die Jobbörse-n 招聘栏</p><p>selbständig 自主的，独立的 adj</p><p>recherchieren 调查，调研 v</p><p>anschreiben 向……写信 可分v</p><p>Wo und was haben Sei gearbeitet?</p><p>Wo?</p><blockquote><p>in einer Fabrik (die Fabrik-en)</p><p>in einer Tankstelle</p><p>im Supermarkt/Restaurant/Hotel/Büro</p><p>auf dem Bau 在工地</p><p>bei einer Firma</p><p>in der Schule/im Kindergarten</p></blockquote><p>Was？</p><blockquote><p>als Putzhilfe/Aushilfe/Küchenhilfe 清洁工/临时工/厨房帮手</p><p>als Kassierer*in 收银员</p><p>Kellner*in</p><p>Lagerarbeiter*in 仓库工人</p><p>Ingenieur*in</p><p>Techniker*in 技术工</p><p>Sekretär*in</p><p>Buchhalter*in 会计</p><p>Lehrer*in</p><p>Erzieher*in 保育员</p></blockquote><p>Zeitung austrage 挨家挨户发报纸 可分v</p><p>der Prospekt-e 宣传册</p><p>verteilen 分配，分发</p><p>das Taxiunternehmen- 出租车公司</p><h1 id="21-3-telefongespräch-1"><a class="markdownIt-Anchor" href="#21-3-telefongespräch-1"></a> 21-3 Telefongespräch (1)</h1><p>AG 股份公司</p><p>GmbH 有限责任公司</p><p>KG = AG + GmbH 股份有限责任公司</p><p>interessieren 让……感兴趣</p><p>die Schicht-en 倒班</p><p>der Schichtdienst-e 轮班制</p><p>flexibel 灵活的，可变通的 形容词词尾变化为 flexible</p><p>der Stundenlohn-&quot;e 时薪</p><p>gegen + 整点 ……点左右</p><p>Arbeitnehmer 雇员</p><p>Arbeitgeber 雇主</p><p>die Gleitzeit 弹性工作时间</p><h1 id="21-4-telefongespräch-2"><a class="markdownIt-Anchor" href="#21-4-telefongespräch-2"></a> 21-4 Telefongespräch (2)</h1><p>die Gartenarbeit 园艺工作</p><p>die Serviererin-nen 餐厅女服务生</p><p>wöchentlich 每周 adv</p><p>die Deutschkenntnis-se 德语知识</p><p>die Unterstützung-en 支持，援助</p><p>die Pflegekraft-&quot;e 护理人员</p><p>ab sofort 即刻起，即日起</p><p>der Imbiss-e 小吃铺</p><p>f. = für</p><p>Lkw = Lastkraftwagen 重卡</p><p>KL. II = Klasse zwei</p><h1 id="21-5-adjektiv-形容词词尾变化-3"><a class="markdownIt-Anchor" href="#21-5-adjektiv-形容词词尾变化-3"></a> 21-5 Adjektiv 形容词词尾变化 (3)</h1><ol><li>零冠词（已学）形容词词尾代替履行了定冠词的职责，是<strong>强变化</strong>。</li><li>不定冠词、否定冠词、物主冠词（已学）第一格和第四格的形容词词尾代替履行了定冠词的职责，是<strong>混合变化</strong>。 第三格和复数通通 -en。</li><li>定冠词 - 本课学习</li></ol><p>形容词（词尾变化）+名词</p><p>定冠词后的形容词词尾变化</p><table><thead><tr><th style="text-align:center">形容词词尾变化</th><th style="text-align:center">m.</th><th style="text-align:center">n.</th><th style="text-align:center">f.</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">-en</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td></tr></tbody></table><p>第三格和复数，形容词词尾通通 -en。</p><p>第四格阳性 -en</p><p>其它的通通 -e</p><p>名词的性数格几乎不影响词尾变化，是<strong>弱变化</strong>。</p><p>die Stadtverwaltung-en 城市管理处，市局，市政府</p><p>der Berufsanfänger- 职场新人</p><p>der Lohn-&quot;e 工资，时薪（临时工）</p><p>das Gehalt-&quot;er 工资，月薪（正式职工）</p><p>ernähren 喂养 不可分v</p><h1 id="21-6-arbeitsplätze"><a class="markdownIt-Anchor" href="#21-6-arbeitsplätze"></a> 21-6 Arbeitsplätze</h1><p>locker 松动的，轻松的 adj</p><p>das Arbeitsklima-/ 工作氛围</p><p>haben Problem mit… 对……有意见</p><p>die Firma-Firmen 公司</p><p>die Tätigkeit-en 工作，活动</p><p>die Bezahlung-en 报酬，工资</p><p>schwer 重的，困难的</p><p>leicht 轻的，轻松的</p><p>nett = freundlich 友好的</p><p>ruhig 安静的</p><h1 id="21-7-relativsätze-1-关系从句"><a class="markdownIt-Anchor" href="#21-7-relativsätze-1-关系从句"></a> 21-7 Relativsätze (1) 关系从句</h1><p>关系从句：由关系代词带起的从句，一般紧跟在主句中某一被修饰或说明的名词后，以作补充说明。</p><p>主句，关系代词+从句（动词置尾）</p><p>Das ist der Job. 这就是这份工作</p><p>Der Job steht heute in der Zeitung. 这份工作今天登在报纸上。</p><p>合并为关系从句：</p><p>Das ist der Job, der heute in der Zeitung steht.</p><p>从句中的 der 替换了 der Job，动词放在末尾。</p><p>关系代词 der，阳性，单数。在关系从句中作主语，第一格。</p><p>Das ist eine Arbeit.</p><p>Ich mache die Arbeit gern.</p><p>合并为关系从句：</p><p>Das ist eine Arbeit, die ich gern mache.</p><p>关系代词 die，阴性，单数。在关系从句中作宾语，第四格。</p><p><strong>性数看前，格看后</strong></p><p>关系代词表格</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m.</th><th style="text-align:center">n.</th><th style="text-align:center">f.</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">der</td><td style="text-align:center">das</td><td style="text-align:center">die</td><td style="text-align:center">die</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">den</td><td style="text-align:center">das</td><td style="text-align:center">die</td><td style="text-align:center">die</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">dem</td><td style="text-align:center">dem</td><td style="text-align:center">der</td><td style="text-align:center"><strong>denen</strong></td></tr></tbody></table><p>关系代词即定冠词，除了第三格复数，不是 den，是 denen。</p><h1 id="21-8-relativsätze-2-关系从句"><a class="markdownIt-Anchor" href="#21-8-relativsätze-2-关系从句"></a> 21-8 Relativsätze (2) 关系从句</h1><p>jemandem etwas[A] vermitteln 把……介绍给某人</p><p>die Mappe-n 文件夹，公文包</p><p>Hochstraße 立交路</p><p>der Fremde 陌生人</p><h1 id="21-9-berufsbiografien-1-职业传记"><a class="markdownIt-Anchor" href="#21-9-berufsbiografien-1-职业传记"></a> 21-9 Berufsbiografien (1) 职业传记</h1><p>die Karriere-n 职业发展，职业生涯</p><p>sich um Akkusativ bewerben 申请…… haben beworben</p><p>vor einem halbem Jahr 半年前 vor + 时间（三格）</p><p>Glück hatten 走运，幸运</p><p>mit Dativ unzufrieden sein 对……不满意</p><p>relativ 相对地 adv</p><p>die Karrieremöglichkeit-en 职业发展的可能性</p><p>Agentur für Arbeit 就业局</p><p>die Bewerbungsunterlage-n 求职资料</p><p>absagen 取消，拒绝 可分v</p><p>offiziell 正式的，官方的</p><p>über 通过（媒介手段）+ Akkusativ</p><p>jmdm eine Stelle vermitteln 给某人介绍工作</p><p>das Freizeitzentrum-tren 休闲中心，康乐中心</p><p>organisieren 组织，举办</p><p>anbieten 提供 可分v haben angeboten</p><p>krabbeln 爬行 v</p><p>die Krabbelgruppe-n 育儿班</p><p>der Nähkurs-e 缝纫课</p><p>der Senior-en 老年人</p><p>die Rentnerin-nen 退休女工人</p><p>finanziell 金融的，经济上的</p><p>unterstützen 支持，扶持 不可分v</p><p>die Unterstützung-en 支持，帮助，资助</p><p>der Treffpunkt-e 碰面地点</p><p>die Generation-en 代，辈</p><h1 id="21-10-berufsbiografien-2-职业传记"><a class="markdownIt-Anchor" href="#21-10-berufsbiografien-2-职业传记"></a> 21-10 Berufsbiografien (2) 职业传记</h1><p>tabellarisch 表格式的 adj</p><p>die Tabelle-n 表格</p><p>die Seite-n 页数，面</p><p>so oft 如此频繁的</p><p>wechseln 更换</p><p>die Beschäftigung-en 从事工作</p><p>beschäftig 忙碌的 adj</p><p>Pleite machen 倒闭</p><p>schrecklich 可怕的，毛骨悚然的 adj</p><p>das Altenpflegeheim-e 老年护理院</p><p>der Hausmeister- 房屋管理员，勤杂工</p><p>im Moment 当下，目前</p><p>BAföG 联邦教育促进法 = Bundesausbildungsförderungsgesetz</p><p>der Staat-en 国家</p><p>der Maschinenbau 机械制造</p><p>auf dem Bau 在工地</p><p>die Kneipe-n 酒吧，小酒馆</p><p>jobben 打临工，兼职</p><p>die Fahrradwerkstatt-&quot;en 自行车车间</p><h1 id="21-11-feuerwehrmann-1-消防员"><a class="markdownIt-Anchor" href="#21-11-feuerwehrmann-1-消防员"></a> 21-11 Feuerwehrmann (1) 消防员</h1><p>das Feuer- 火</p><p>löschen 扑灭，消除，删除</p><p>retten 抢救，拯救</p><p>der Feuerwehrmann-&quot;er 消防员</p><p>das Feuerwehrauto-s 消防车</p><p>die Sanitäterin-nen 女卫生员</p><p>versorgen 护理，照料</p><p>die Olympiade-n 奥林匹克竞赛</p><p>die Intelligenz-en 智力，才智</p><p>der Einstellungstest-e 就业测试</p><p>schriftlich 笔头的，书面的 adj</p><p>mündlich 口头的，口试的 adj</p><p>der Rettungskurs-e 抢救课程</p><p>der Staatsbürger- 国民，公民</p><p>EU = Europäische Union 欧盟</p><p>der Handwerker- 手工业者</p><p>die Berufsfeuerwehr-en 职业消防部门</p><p>eher 倒不如说</p><p>ungewöhnlich 不同寻常的 adj</p><p>gewöhnen 习惯于…… v</p><p>bewerben - bewerbe bewirbst bewirbt bewerben bewerbt bewerben - haben beworben</p><p>der Fitness-Test 身体素质测试</p><p>die Fähigkeit-en 能力</p><p>die sportliche Fähigkeit 体育能力</p><p>(Test, Prüfung) bestehen 经受住，通过（考试）- haben bestanden</p><h1 id="21-12-feuerwehrmann-2-消防员"><a class="markdownIt-Anchor" href="#21-12-feuerwehrmann-2-消防员"></a> 21-12 Feuerwehrmann (2) 消防员</h1><p>die Rechtschreibkenntnis-se 拼写知识</p><p>die Allgemeinbildung-en 普通教育，普及教育</p><p>die Feuerwehrschule-n 消防学校</p><p>der Brand-&quot;e 火灾，燃烧</p><p>verhindern 避免，阻止 不可分v</p><p>die Rettung-en 救援，拯救</p><p>zur Rettung von Personen zu 表目的</p><p>in Prinzip 原则上</p><p>abgeschlossen 结束了的，毕业的 adj</p><p>handwerklich 手工制造业的 adj</p><p>der Bürge- 男市民，男公民</p><p>die Bürgerin-nen 女市民，女公民</p><p>werden - sein geworden 成为</p><p>zuvor 之前，以前 adv</p><p>den Rettungsdienst-e 救护队，急救工作</p><p>tätig sein 任职于</p><p>der Sanitäter- 卫生员</p><p>sich nach + Dativ + umsehen 寻求</p><p>schien = scheinen 的过去式 闪耀；似乎</p><p>scheine - scheinst - scheint - scheinen - scheint - scheinen - haben gesch<strong>ie</strong>nen</p><p>Außerdem 除此之外</p><p>der Beamter- 官员，公务员</p><p>auf Lebenszeit 终身</p><p>in diesen Zeiten 在这个年代</p><h1 id="21-13-feuerwehrmann-3-消防员"><a class="markdownIt-Anchor" href="#21-13-feuerwehrmann-3-消防员"></a> 21-13 Feuerwehrmann (3) 消防员</h1><p>德国的火警和急救电话都是 112</p><p>der Handwerker- 手工艺者，工匠</p><p>die Arbeitsbedingung-en 工作条件</p><p>die Bedingung-en 条件</p><p>die Urlaubsregelung 假期规定</p><p>die Regelung-en 规定，规章</p><p>im Vergleich zu + Dativ 相较于，与……比较</p><p>vergleichen 对比，比较 不可分v - haben verglichen</p><p>auf der Wache sein 处于执勤状态</p><p>tagsüber 白天，日间 adv</p><p>nachtsüber 夜间 adv</p><p>die Reparatur-en 维修</p><p>der Dienstsport-/ 工作运动</p><p>mit inbegriffen sein 包括在内的</p><p>das Gerät-en 工具，器具，器械</p><p>die Bereitschaftszeit 值班时间</p><p>der Einsatz-&quot;e 插入物</p><p>auf + Akkusativ + Rücksicht nehmen 考虑到，顾虑到</p><p>die Rücksicht-en 考虑，顾及</p><p>Das ist wurscht. 这无所谓。</p><h1 id="21-14-feuerwehrmann-4-消防员"><a class="markdownIt-Anchor" href="#21-14-feuerwehrmann-4-消防员"></a> 21-14 Feuerwehrmann (4) 消防员</h1><p>der Bewerber- 应聘者，申请者</p><p>so viel… wie… 如同……一样多（同级比较）</p><p>anfing 是 anfangen 的过去式</p><p>复习：anfange - fängst an - fängt an - fangen an - fangt an - fangen an - haben angefangen</p><p>sich vornehmen 计划，安排 可分v</p><p>wochentags 在工作日</p><p>campen 露营，野营</p><p>das Motorrad-&quot;er 摩托车</p><h2 id="übung"><a class="markdownIt-Anchor" href="#übung"></a> Übung</h2><p>Ich möchte einen Beruf, der interessant ist.</p><p>Schreiner（木匠） ist ein kreativer Beruf, der viel Spaß machen kann.</p><p>„<a href="http://Job.de">Job.de</a>“ ist eine Homepage, die neue Arbeitsstellen anbietet.</p><p>Herr Kunert ist ein Abteilungsleiter, den ich sehr kompetent finde.</p><p>der Abteilungsleiter- 部门经理</p><p>Ich habe einen neuen Kollegen, den ich sehr nett finde.</p><p>Olga hat einen neuen Freund, den ich schon seit zwei Jahren kenne.</p><h1 id="21-15-das-halbe-leben-一半的生活"><a class="markdownIt-Anchor" href="#21-15-das-halbe-leben-一半的生活"></a> 21-15 Das halbe Leben 一半的生活</h1><p>eben 恰好，刚好</p><p>die Hälfte-n 二分之一，一半</p><p>genauso 一模一样 adv</p><p>sich abspielen 发生，进行</p><p>beruflich 工作的，职业的 adj</p><p>die Fortbildung-en 进修</p><p>sozial 社会的，社交的</p><p>das Engagement-s 义务，责任</p><p>die Initiative-n 公民自发组织</p><p>der Alltag-/ 日常生活</p><p>der Bürokram-/ 工作琐事</p><p>ausruhen 休息，修养 可分v</p><p>über … + Akkusativ nachdenken 思考</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;21-1-arbeitssuche-寻找工作&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#21-1-arbeitssuche-寻找工作&quot;&gt;&lt;/a&gt; 21-1 Arbeitssuche 寻找工作&lt;/h1&gt;
&lt;p&gt;关系从句 aka 定语从</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="柏林广场A2" scheme="https://tinsir888.github.io/tags/%E6%9F%8F%E6%9E%97%E5%B9%BF%E5%9C%BAA2/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 A2 Kapitel 20 Komm doch mit!</title>
    <link href="https://tinsir888.github.io/posts/84a5b84a.html"/>
    <id>https://tinsir888.github.io/posts/84a5b84a.html</id>
    <published>2023-01-19T16:00:00.000Z</published>
    <updated>2023-02-10T00:49:10.334Z</updated>
    
    <content type="html"><![CDATA[<h1 id="20-1-aktivitäten-1-业余活动"><a class="markdownIt-Anchor" href="#20-1-aktivitäten-1-业余活动"></a> 20-1 Aktivitäten (1) 业余活动</h1><p>das Schachbrett-er 棋盘</p><p>das Schach-/ 国际象棋</p><p>treffen 遇见，碰头 du triffst, er/sie/es trifft</p><p>jemanden 某人（第四格）</p><p>kleiner 没有人（代）</p><p>sich setzen 将自己置于……</p><p>ab und zu = manchmal 偶尔</p><p>der Schachclub-s 象棋俱乐部</p><p>das Turnier-e 比赛，竞赛</p><p>das Tischtennis-/ 乒乓球</p><p>einige 一些人（代）</p><p>der Freundeskreis-e 朋友圈</p><p>viele 许多人（代）</p><p>die Kneipe-n 小酒馆</p><p>niemanden 没有人（第四格）</p><h1 id="20-2-aktivitäten-2-业余活动"><a class="markdownIt-Anchor" href="#20-2-aktivitäten-2-业余活动"></a> 20-2 Aktivitäten (2) 业余活动</h1><p>der Spielplatz-&quot;e 游乐场</p><p>die Bank-&quot;e 长凳</p><p>die Bank-en 银行</p><p>… + Dativ + zuschauen 仔细看，注视</p><p>sich unterhalten 聊天，闲聊 v</p><p>der/die Bekannte-n 熟人</p><p>sich mit + Dativ + treffen 与……碰头</p><p>alle 所有人（代）</p><p>das Picknick-s 野餐</p><p>als 引导时间从句，当……</p><p>etwas 稍稍，一点点</p><p>konnte 是 können 的过去式</p><p>der Volkshochschulkurs-e 成人大学课程</p><p>der Nähkurs-e 缝纫课</p><p>nähen 缝纫，做针线活</p><p>der Kochkurs-e 烹饪课</p><p>das Semester- 学期</p><p>der Fotografiekurs-e 摄影课程</p><p>die Fotografie-/ 摄影</p><h1 id="20-3-komm-mit"><a class="markdownIt-Anchor" href="#20-3-komm-mit"></a> 20-3 Komm mit!</h1><p>… von etwas erzählen 提及</p><p>… etwas erzählen 讲述</p><p>die Einführung-en 引导，指导</p><p>Es geht los. 开始了。</p><p>der Eingang-&quot;e 入口处</p><p>das Plätzchen- 小饼干</p><p>die Revanche-n 复仇，报仇</p><p>jeder 每个人</p><p>die Lust-/ 兴趣</p><p>vorbeizukommen 带 zu 不定式</p><p>das Würstchen- 小香肠</p><p>das Baguette-s 法棍</p><p>Schach spielen 下象棋</p><p>in der Sonne sitzen 坐在阳光里</p><p>lesen 阅读</p><p>Turniere im Schachclub spielen 在象棋俱乐部比赛</p><p>nähen 做针线活</p><p>kochen 烹饪</p><p>fotografieren 摄影</p><p>auf dem Spielplatz gehen 去游乐场</p><p>zuschauen 注视</p><p>sich unterhalten 聊天</p><p>Zeitung lesen 读报</p><p>Musik hören 听音乐</p><p>Bekannte treffen 与熟人碰面</p><p>Picknick machen 野餐</p><p>Volleyball/Tischtennis spielen 打排球/乒乓球</p><p>etwas trinken gehen 去喝点啥</p><h1 id="20-4-alle-jemand-不定代词-1"><a class="markdownIt-Anchor" href="#20-4-alle-jemand-不定代词-1"></a> 20-4 Alle, jemand 不定代词 (1)</h1><h2 id="泛指只指代人默认阳性第三人称单数"><a class="markdownIt-Anchor" href="#泛指只指代人默认阳性第三人称单数"></a> 泛指，只指代人，默认阳性第三人称单数</h2><h3 id="man-人们"><a class="markdownIt-Anchor" href="#man-人们"></a> man 人们</h3><p>普通情况 Man isst keinen Knoblauch. 人们不吃大蒜。</p><p>第一格、第四格、第三格均为 man。没有变格，默认阳性。</p><h3 id="jemand-某人"><a class="markdownIt-Anchor" href="#jemand-某人"></a> jemand 某人</h3><p>个别情况 Jemand isst keinen Knoblauch. 某人不吃大蒜。</p><p>第一格：jemand</p><p>第四格：jemanden</p><p>第三格：jemandem</p><p>按照阳性定冠词 der 的词尾变化。</p><h3 id="niemand-没有人"><a class="markdownIt-Anchor" href="#niemand-没有人"></a> niemand 没有人</h3><p>普遍 / 个别情况 Niemand isst Knoblauch. 没有人吃大蒜。</p><p>第一格：niemand</p><p>第四格：niemanden</p><p>第三格：niemandem</p><h2 id="泛指只指代事情"><a class="markdownIt-Anchor" href="#泛指只指代事情"></a> 泛指，只指代事情</h2><h3 id="etwas-一些东西一点"><a class="markdownIt-Anchor" href="#etwas-一些东西一点"></a> etwas 一些东西，一点</h3><p>作名词（独立使用） Brauchst du noch etwas? 你还需要点什么吗？</p><p>作形容词 + 单数名词 Brauchst du noch etwas Reis? 你还需要点米饭吗？</p><p>作副词 + 形容词 Ich komme etwas später. 我晚些时候来。</p><p>默认三单，没有变格。</p><h3 id="nichts-什么也没有"><a class="markdownIt-Anchor" href="#nichts-什么也没有"></a> nichts 什么也没有</h3><p>作名词 Nein, ich brauche nichts. 不，我什么也不需要。</p><p>默认三单，没有变格。</p><h2 id="可指代人默认复数"><a class="markdownIt-Anchor" href="#可指代人默认复数"></a> 可指代人，默认复数</h2><h3 id="alle-所有"><a class="markdownIt-Anchor" href="#alle-所有"></a> alle 所有</h3><p>Alle sind da. 所有人都到了。</p><p>第一格：alle</p><p>第四格：alle</p><p>第三格：allen</p><h3 id="viele-许多"><a class="markdownIt-Anchor" href="#viele-许多"></a> viele 许多</h3><p>Viele sind krank. 许多人病了。</p><p>第一个：viele</p><p>第四格：viele</p><p>第三格：vielen</p><h3 id="einige-一些"><a class="markdownIt-Anchor" href="#einige-一些"></a> einige 一些</h3><p>Einige kommen nach Hause. 一些人回家了。</p><p>第一格：einige</p><p>第四格：einige</p><p>第三格：einigen</p><h2 id="也可指代物默认三单"><a class="markdownIt-Anchor" href="#也可指代物默认三单"></a> 也可指代物，默认三单</h2><h3 id="alle-所有-2"><a class="markdownIt-Anchor" href="#alle-所有-2"></a> alle 所有</h3><p>Alles ist kaputt.</p><p>所有东西都坏了。</p><p>第一格：alle</p><p>第四格：alle</p><p>第三格：allen</p><h3 id="viele-许多-2"><a class="markdownIt-Anchor" href="#viele-许多-2"></a> viele 许多</h3><p>Vieles hat sich verändert. 很多事情都变了。</p><p>第一格：viele</p><p>第四格：viele</p><p>第三格：vielen</p><h3 id="einige-一些-2"><a class="markdownIt-Anchor" href="#einige-一些-2"></a> einige 一些</h3><p>Einiges ist schön. 有些事物是美好的。</p><p>第一格：einige</p><p>第四格：einige</p><p>第三格：einigen</p><h1 id="20-5-alle-jemand-不定代词-2"><a class="markdownIt-Anchor" href="#20-5-alle-jemand-不定代词-2"></a> 20-5 Alle, jemand 不定代词 (2)</h1><p>etwas anderes 一些其它事情</p><h2 id="thema-freizeit"><a class="markdownIt-Anchor" href="#thema-freizeit"></a> Thema Freizeit</h2><ol><li>Was ist Freizeit für dich?</li></ol><blockquote><p>Für mich ist die Freizeit, wenn ich nicht arbeiten muss.</p></blockquote><ol start="2"><li>Wie viel Freizeit hast du?</li></ol><blockquote><p>Eigentlich nicht so viel, nur am Wochenende.</p></blockquote><ol start="3"><li>Was machst du in deiner Freizeit im Sommer/Winter?</li></ol><blockquote><p>Im Sommer mache ich gern Picknick und im Winter gehe ich oft in die Bücherei.</p></blockquote><ol start="4"><li>Machst du Sport? Welche Sportart?</li></ol><blockquote><p>Ja, ich mache Sport, Tischtennis.</p></blockquote><ol start="5"><li>Hast du ein Hobby? Welches?</li></ol><blockquote><p>Ja, ich spiele sehr gern Klavier.</p></blockquote><ol start="6"><li>Bist du in einem Verein? Warst du früher in einem Verein?</li></ol><blockquote><p>Ja, ich bin in einem Klavierverein in Nankai-Universität.</p></blockquote><ol start="7"><li>Machst du in der Freizeit viel mit Freunden zusammen?</li></ol><blockquote><p>Nein, ich mache in der Freizeit viel mit der Familie.</p></blockquote><ol start="8"><li>Möchtest du gern mehr Leute kennenlernen?</li></ol><blockquote><p>Nicht wirklich. Ich bleibe lieber allein.</p></blockquote><ol start="9"><li>Brauchst du viel Geld für deine Freizeit?</li></ol><blockquote><p>Nein, so viel Geld will ich für die Freizeit auch nicht ausgeben.</p></blockquote><ol start="10"><li>Du hast viel Geld und das ganze Wochenende Zeit: Was machst du?</li></ol><blockquote><p>Ich fliege mit meiner Familie in den Urlaub um die ganze Welt.</p></blockquote><h1 id="20-6-nach-dem-spiel"><a class="markdownIt-Anchor" href="#20-6-nach-dem-spiel"></a> 20-6 Nach dem Spiel</h1><h2 id="物主代词"><a class="markdownIt-Anchor" href="#物主代词"></a> 物主代词</h2><p>物主冠词 mein + 名词 = 我的……</p><p>mein Kamm 我的梳子 m. = meiner</p><p>mein T-Shirt 我的衬衫 n. = meines/meins</p><p>meine Tasche 我的包 f. = meine</p><p><strong>冠词指代物 = 将名词的性数格体现在冠词词尾上</strong></p><h3 id="对于物主冠词"><a class="markdownIt-Anchor" href="#对于物主冠词"></a> 对于物主冠词</h3><table><thead><tr><th style="text-align:center">冠词做代词</th><th style="text-align:center">m.</th><th style="text-align:center">n.</th><th style="text-align:center">f.</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">-er</td><td style="text-align:center">-es/-s</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">-en</td><td style="text-align:center">-es/-s</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">-em</td><td style="text-align:center">-em</td><td style="text-align:center">-er</td><td style="text-align:center">-en</td></tr></tbody></table><h3 id="对于不定冠词"><a class="markdownIt-Anchor" href="#对于不定冠词"></a> 对于不定冠词</h3><table><thead><tr><th style="text-align:center">冠词做代词</th><th style="text-align:center">m.</th><th style="text-align:center">n.</th><th style="text-align:center">f.</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">einer</td><td style="text-align:center">eins</td><td style="text-align:center">eine</td><td style="text-align:center">/</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">einen</td><td style="text-align:center">eins</td><td style="text-align:center">eine</td><td style="text-align:center">/</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">einem</td><td style="text-align:center">einem</td><td style="text-align:center">einer</td><td style="text-align:center">/</td></tr></tbody></table><h3 id="对于否定冠词"><a class="markdownIt-Anchor" href="#对于否定冠词"></a> 对于否定冠词</h3><table><thead><tr><th style="text-align:center">冠词做代词</th><th style="text-align:center">m.</th><th style="text-align:center">n.</th><th style="text-align:center">f.</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">keiner</td><td style="text-align:center">keins</td><td style="text-align:center">keine</td><td style="text-align:center">keine</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">keinen</td><td style="text-align:center">keins</td><td style="text-align:center">keine</td><td style="text-align:center">keine</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">keinem</td><td style="text-align:center">keinem</td><td style="text-align:center">keiner</td><td style="text-align:center">keinen</td></tr></tbody></table><p>grauenhaft 恐怖的，糟糕透顶的 adj</p><p>immerhin 毕竟</p><p>unentschieden 不分胜负的，未决定的 adj</p><p>Null zu null! 0 比 0！</p><p>das Tor-e 球门，大门</p><p>scheißen 射击，打靶 haben geschossen 现在完成时 hätten geschossen 第二虚拟式</p><p>die Vorlage-n 传球</p><p>das Handtuch-&quot;er 毛巾，面巾</p><p>der Kamm-&quot;e 梳子</p><p>der Schuh-e 鞋子</p><p>die Sporttasche-n 运动包</p><p>nachher 一会儿，过会儿 adv</p><p>Basta 谈话结束（不想再说下去）</p><p>sich aufregen 发怒，发火</p><h1 id="20-7-reflexive-verb-反身动词"><a class="markdownIt-Anchor" href="#20-7-reflexive-verb-反身动词"></a> 20-7 Reflexive Verb 反身动词</h1><h2 id="什么是反身动词"><a class="markdownIt-Anchor" href="#什么是反身动词"></a> 什么是”反身动词“？</h2><p>行动涉及施加的对象就是主语本身。</p><p>基本含义：我自己、你自己、他自己、我们自己等。</p><p><strong>做宾语。</strong></p><table><thead><tr><th style="text-align:center">反身代词</th><th style="text-align:center">Akkusativ</th><th style="text-align:center">Dativ</th></tr></thead><tbody><tr><td style="text-align:center">ich</td><td style="text-align:center">mich</td><td style="text-align:center">mir</td></tr><tr><td style="text-align:center">du</td><td style="text-align:center">dich</td><td style="text-align:center">dir</td></tr><tr><td style="text-align:center">er/sie/es</td><td style="text-align:center"><strong>sich</strong></td><td style="text-align:center"><strong>sich</strong></td></tr><tr><td style="text-align:center">wir</td><td style="text-align:center">uns</td><td style="text-align:center">uns</td></tr><tr><td style="text-align:center">ihr</td><td style="text-align:center">euch</td><td style="text-align:center">euch</td></tr><tr><td style="text-align:center">sie/Sie</td><td style="text-align:center"><strong>sich</strong></td><td style="text-align:center"><strong>sich</strong></td></tr></tbody></table><p><em>反身代词可参照人称代词变化。除第三人称的三、四格和尊称都是 sich 之外。</em></p><h2 id="假反身动词"><a class="markdownIt-Anchor" href="#假反身动词"></a> 假反身动词</h2><p>aka 巧合反身。此类动词作用对象既可以是自己，也可以是别人。</p><p>z. B.</p><p>Sie wäscht sich. 她给自己洗澡。</p><p>Sie wäscht das Kind. 她给孩子洗澡。</p><h2 id="真反身动词"><a class="markdownIt-Anchor" href="#真反身动词"></a> 真反身动词</h2><p>必须反身。此类动词本身必须要有 sich 反身代词，否则词义不完整。</p><p>z. B.</p><p>sich treffen 遇见</p><p>Ich treffe mich mit Sabine. 我遇到了 Sabine。</p><p>sich freuen 期待</p><p>Er freut sich auf seine Freundin. 他期待女友的到来。</p><h2 id="相互反身动词"><a class="markdownIt-Anchor" href="#相互反身动词"></a> 相互反身动词</h2><p>相互反身。此类动词主语是两个或两个个体以上，动作”相互作用“的含义。</p><p>sich treffen 会面</p><p>Wir treffen uns im Café. 我们在咖啡馆碰面。</p><p>sich unterhalten 聊天</p><p>Die Mütter unterhalten sich im Park. 妈妈们在公园聊天。</p><p>sich kennen 相识</p><p>Wir kennen uns schon seit acht Jahren. 我们认识已经八年了。</p><p>sich nach … richten 跟随……</p><p>sich ärgern 生气</p><p>sich streiten 吵架，争吵</p><p>sich mögen 互相喜欢</p><p>wandern 徒步漫游 - sein gewandert</p><p>zum letzten Mal 最后一次</p><h1 id="20-8-kochkurs-1"><a class="markdownIt-Anchor" href="#20-8-kochkurs-1"></a> 20-8 Kochkurs (1)</h1><p>das Mitglied-er 会员，成员</p><p>Familienmitglied 家庭成员，家属</p><p>verwöhnen 宠爱，溺爱 v 假反身动词</p><p>sich verwöhnen 宠爱自己</p><p>andere verwöhnen 宠爱他人</p><p>die Kochschürze-n 围裙</p><p>langweilen 使……无聊 假反身动词</p><p>sich langweilen 感到无聊</p><p>jemanden langweilen 使某人无聊</p><p>anmelden 挂号，报到 假反身动词</p><p>sich anmelden 给自己报名</p><p>jemanden anmelden 给某人报名</p><p>sich duschen 给自己洗澡 假反身</p><p>sich rasieren 给自己剃须 假反身</p><p>aufgeregt 激动的，不安的 adj</p><p>vorstellen 介绍 假反身</p><p>sich vorstellen 自我介绍</p><p>jemanden vorstellen 介绍某人</p><p>sich unterhalten 聊天 相互反身</p><p>amüsieren 娱乐，消遣 假反身</p><p>sich amüsieren 感到愉快高兴</p><p>jemanden amüsieren 使某人高兴</p><p>sich mit jemandem verabreden 与某人约会</p><p>ärgern 生气 假反身</p><p>sich ärgern 感到生气</p><p>jemanden ärgern 使某人生气</p><h1 id="20-9-kochkurs-2"><a class="markdownIt-Anchor" href="#20-9-kochkurs-2"></a> 20-9 Kochkurs (2)</h1><p>sich treffen 会面 真反身</p><p>sich auf + Akkusativ + freuen 期待 真反身</p><p>anziehen 穿衣服 假反身</p><p>sich anziehen 给自己穿衣服</p><p>jemanden anziehen 给某人穿衣服</p><p>kamen 是 kommen 的过去式</p><p>sich begrüßen 相互问候 相互反身</p><p>die Neuen 形容词名词化</p><p>setzen 放置 假反身</p><p>sich setzen 坐下</p><p>etwas setzen 将……放置在</p><p>dauernd 持续地，不停地 adv</p><h2 id="können-第二虚拟式"><a class="markdownIt-Anchor" href="#können-第二虚拟式"></a> können 第二虚拟式</h2><p>könnten 能够</p><p>ich könnte - du könntest - er/sie/es könnte - wir könnten - ihr könntet - sie/Sie könnten</p><h1 id="20-10-kontakte-社交"><a class="markdownIt-Anchor" href="#20-10-kontakte-社交"></a> 20-10 Kontakte 社交</h1><p>Kontakt zu anderen Menschen</p><p>schon 小品词，表达事态超出预期</p><p>öfter 更频繁地，经常多次 adv oft 的比较级</p><p>der/die Fortgeschrittene-n 已经达到高级水平的人</p><p>das Mitglied-er 会员，成员</p><p>einige davon 其中一些</p><p>an der VHS</p><p>an der Nankai-Universität</p><p>außer + Dativ 第三格</p><p>niemand 没有人（第一格）</p><p>A. niemanden D. niemandem</p><p>der Kreis-e 圈子，界</p><p>Gott sei Dank. 谢天谢地</p><p>Ich treffe + Akkusativ 第四格</p><h1 id="20-11-fußball-1-拜仁慕尼黑"><a class="markdownIt-Anchor" href="#20-11-fußball-1-拜仁慕尼黑"></a> 20-11 Fußball (1) 拜仁慕尼黑</h1><p>die Nebensache-n 无关紧要的小事</p><p>offiziell 官方的 adj</p><p>e. V. = eingetragener Verein 已注册的协会</p><p>berühmt 著名的，闻名的 adj</p><p>national 国家的 adj</p><p>die Meisterschaft-en 冠军（国家级）</p><p>DFB = Deutscher Fußball Bund 德国足球联盟，足联</p><p>der Pokal-e 奖杯</p><p>der Sieg-e 获胜，冠军（俱乐部级）</p><p>der Pokalsieg-e 优胜杯</p><p>europäisch 欧洲的 adj</p><p>der Wettbewerb-e 比赛，竞赛</p><p>der europäische Pokalwettbewerb 欧洲杯</p><p>gewann = gewinnen 过去式</p><p>UEFA = United of Europe Football Association 欧洲联合会足球协会</p><p>der Weltpokal 洲际杯</p><p>die Weltmeisterschaft 世界杯</p><p>einer von 其中之一</p><h1 id="20-12-fußball-2-拜仁慕尼黑"><a class="markdownIt-Anchor" href="#20-12-fußball-2-拜仁慕尼黑"></a> 20-12 Fußball (2) 拜仁慕尼黑</h1><p>weltbekannt 全球闻名的 adj</p><p>der Kaiser- 皇帝</p><p>der Profifußballer- 专业足球运动员</p><p>Profi + 职业工种 = 专业/职业……</p><p>die Fußballnationalmannschaft-en 国家足球队</p><p>national 国家的，民族的 adj</p><p>das Länderspiel-e 国际比赛</p><p>Europas Fußballer des Jahres 欧洲年度最佳球员</p><p>der Teamchef-s 主教练</p><p>gewann 赢得，获胜 gewinnen 过去式</p><p>die Fußballweltmeisterschaft 足球世界杯</p><p>der Präsident-en 主席，总统</p><p>der Präsident des Vereins 第二格</p><p>die Abteilung-en 部门，科室</p><p>gehören zu + Dativ 属于……的一部分</p><p>das Turnen-/ 体操，体育</p><p>deutscher Meister 德国冠军</p><p>Europacup = der  Europapokal 欧洲杯</p><p>der Handball 手球</p><p>das Kegeln 保龄球</p><p>der Tischtennis 乒乓球</p><p>der Seniorenfußball 老年足球</p><h1 id="12-13-frauenfußball"><a class="markdownIt-Anchor" href="#12-13-frauenfußball"></a> 12-13 Frauenfußball</h1><p>der Bolzplatz-&quot;e 运动场，游戏场</p><p>kicken 踢，踢球 v</p><p>SV = Sportverein 体育协会</p><p>in 后静三动词</p><p>dreimal jede Woche 每周三次</p><p>ungewöhnlich 不同寻常的 adj</p><p>sich an Akkusativ gewöhnen 习惯于</p><p>entdecken 发现 不可分v</p><p>die Frauennationalmannschaft 女子足球国家队</p><p>der Grund-&quot;e 理由</p><p>so … wie … 同级比较</p><p>entwickelt 得到发展的，发达的 adj</p><blockquote><p>z. B. Österreich ist ein entwickeltes Land.</p></blockquote><p>offenstehen 敞开 可分v</p><p>finanziell 经济的，财力的 adj</p><p>das Niveau-s 层次，水平</p><h1 id="20-14-vereinsmitglied-1"><a class="markdownIt-Anchor" href="#20-14-vereinsmitglied-1"></a> 20-14 Vereinsmitglied (1)</h1><p>sich vorstellen 自我介绍</p><p>aktiv 活跃的积极的</p><p>sich engagieren 投身于，致力于</p><p>genauer gesagt 更准确的说</p><p>neben + Dativ 除了</p><p>das Vereinsleben 协会生活，协会活动</p><h1 id="20-15-vereinsmitglied-2"><a class="markdownIt-Anchor" href="#20-15-vereinsmitglied-2"></a> 20-15 Vereinsmitglied (2)</h1><p>der Tennisverein-e 网球协会</p><p>der Turnverein-e 体操协会</p><p>der Wanderverein-e 徒步协会</p><p>der Karnevalsverein-e 狂欢节协会</p><p>ausländisch 国外的，异国的 adj</p><p>der Mitbürger 公民，市民</p><p>die Jugendmannschaft-en 青少年队伍</p><p>der/die Jugendliche-n 青少年</p><p>überhaupt nicht 根本不，压根不</p><p>mitspielen 一起踢球 可分v</p><p>wobei 引导地点状语从句</p><p>der Nachwuchs-/ 新生力量，接班人</p><p>anbieten 提供 可分v</p><p>die Freizeitaktivität-en 休闲活动</p><p>sozial 社会的，社交的 adj</p><p>die Funktion-en 功能，作用</p><p>nicht nur… , sondern auch… 不仅……，而且……</p><p>der Vereinsabend-e 协会之夜</p><p>das Jubilaeum-läen 周年纪念</p><p>die Sitzung-en 会议，座谈会</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;20-1-aktivitäten-1-业余活动&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#20-1-aktivitäten-1-业余活动&quot;&gt;&lt;/a&gt; 20-1 Aktivitäten (1) 业余活动&lt;/h1&gt;
&lt;p&gt;das Sch</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="柏林广场A2" scheme="https://tinsir888.github.io/tags/%E6%9F%8F%E6%9E%97%E5%B9%BF%E5%9C%BAA2/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 A2 Kapitel 19 Das finde ich schön</title>
    <link href="https://tinsir888.github.io/posts/d654532d.html"/>
    <id>https://tinsir888.github.io/posts/d654532d.html</id>
    <published>2023-01-14T16:00:00.000Z</published>
    <updated>2023-02-10T00:48:35.274Z</updated>
    
    <content type="html"><![CDATA[<h1 id="19-1-das-finde-ich-我觉得"><a class="markdownIt-Anchor" href="#19-1-das-finde-ich-我觉得"></a> 19-1 Das finde ich… 我觉得</h1><p>Aussehen 外表</p><p>aussehen 看起来 可分v</p><p>Die Person ist …  这个人是……</p><p>Die Person sieht … aus 这个人看起来……</p><p>sportlich 爱运动的</p><p>schlank 苗条的，瘦的</p><p>intelligent 聪明的，智慧的</p><p>langweilig 无趣的，无聊的</p><p>interessant 有趣的</p><p>sympathisch 和蔼可亲的</p><p>die Frisur-en 发型</p><p>modisch 时髦的</p><p>schick 时尚的，前卫的</p><p>konservativ 保守的，古板的</p><p>Alter 年龄</p><p>über 超过</p><p>in einer Großstadt-&quot;e 大城市</p><p>auf dem Land 在郊区</p><p>alleinerziehend 单亲的</p><p>der Single-s 单身</p><p>Er arbeitet als … + 职业名称 他作为……工作</p><p>Er arbeitet bei … + 工作单位名称 他在……工作</p><p>Er macht eine Ausbildung als … 他正在进行……职业培训</p><p>lesen 阅读</p><p>Ich bin sicher, zu Katharina passt Foto 1, denn wer Katze hat, hält die Wohnung immer sauber.</p><p>我肯定，图片1 和 Katharina 匹配，因为拥有猫的人总会保持公寓整洁。</p><p>halten 保持 halte - hältst - hält - halten - haltet - halten</p><p>Ich denke, zu Emanuel passt Foto 2, weil junge Männer sich immer für Autos interessieren.</p><p>我认为，图片2 和 Emanuel 匹配，因为年轻男士都对汽车感兴趣。</p><p>sich für + Akkusativ + interessieren 对……感兴趣</p><p>Ich glaube, zu Birgit passt Foto 3, weil die Kleidung sehr konservativ aussieht.</p><p>我觉得，图片3 和 Birgit 匹配，因为这些衣服很保守。</p><p>Ich rate, zu Andreas passt Foto 4, weil er eine große Familie haben muss.</p><p>我推测，图片4 和 Andreas 匹配，因为他肯定有一个大家庭。（muss 在此处表推测）</p><h1 id="19-2-wer-ist-da-1"><a class="markdownIt-Anchor" href="#19-2-wer-ist-da-1"></a> 19-2 Wer ist da? (1)</h1><p>das Möbel- 家具（多复数）</p><p>ausziehen 搬出 可分v</p><p>bei meinen Eltern 在我父母那</p><p>rund 圆形的 adj</p><p>reinstellen 放进去 可分v</p><p>kombinieren 组合</p><p>stellen 将……放置到</p><p>der Kleiderschrank-&quot;e 衣橱</p><p>der Schreibtisch-e 书桌</p><p>ordentlich 井井有条的，整洁的 adj</p><p>die Kleider Pl 衣服，服装</p><p>die Farbberatung-en 颜色指导</p><p>der Farbtyp-en 颜色类型</p><p>etwas Schwarzes 一些黑色的东西 形容词名词化</p><p>damit 因此</p><p>hundertprozentig 百分之百地 adv</p><p>anziehen - sein angezogen</p><p>sich wohlfühlen 感到舒适 v</p><p>wohl 舒适的，愉快的 adj</p><p>einsam 寂寞的，孤独的 adj</p><h1 id="19-3-wer-ist-da-2"><a class="markdownIt-Anchor" href="#19-3-wer-ist-da-2"></a> 19-3 Wer ist da? (2)</h1><p>verbringen 度过，消磨 v</p><p>froh 开心的，愉快的 adj</p><p>sich verstehen 互相理解</p><p>selbstverständlich 不言而喻的，理所应当的 adj</p><p>der Enkel- 孙辈</p><p>名词复数在第三格的时词尾要加 n</p><p>zum Grillen 去烧烤 动词名词化，zum 表目的</p><p>gemeinsam 共同的</p><p>die Tradition-en 传统</p><p>besorgen 办理，搞定</p><p>der Nachtisch-e 甜品</p><p>bunt 鲜艳的，亮丽的 adj</p><p>der Blumenstrauß-&quot;e 花束</p><p>über das Internet kaufen 网购</p><p>fehlend 缺少的 adj</p><p>der Teil-e 零部件</p><p>die Werkstatt-&quot;en 车间，工作室</p><p>Porsche 保时捷</p><p>absolut 绝对的 adj</p><p>der Fan-s 粉丝，追随者</p><p>die Überraschung-en 惊喜</p><h1 id="19-4-adjektive-1"><a class="markdownIt-Anchor" href="#19-4-adjektive-1"></a> 19-4 Adjektive (1)</h1><p>形容词词尾变化</p><p>德语句子中的形容词可用作名词的定语放在该名词之前，并必须产生词尾变化。</p><p>形容词-（词尾变化）+ 名词，为了体现不同名词的性、数、格</p><h2 id="零冠词后的形容词词尾变化"><a class="markdownIt-Anchor" href="#零冠词后的形容词词尾变化"></a> 零冠词后的形容词词尾变化</h2><p>即在形容词之前没有任何冠词。</p><p><strong>零冠词，形容词词尾变化替代履行了定冠词的职责</strong></p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">N</td><td style="text-align:center"><strong>-er</strong></td><td style="text-align:center"><strong>-es</strong></td><td style="text-align:center"><strong>-e</strong></td><td style="text-align:center"><strong>-e</strong></td></tr><tr><td style="text-align:center">A</td><td style="text-align:center"><strong>-en</strong></td><td style="text-align:center"><strong>-es</strong></td><td style="text-align:center"><strong>-e</strong></td><td style="text-align:center"><strong>-e</strong></td></tr><tr><td style="text-align:center">D</td><td style="text-align:center"><strong>-em</strong></td><td style="text-align:center"><strong>-em</strong></td><td style="text-align:center"><strong>-er</strong></td><td style="text-align:center"><strong>-en</strong></td></tr></tbody></table><h2 id="冠词后的形容词词尾变化"><a class="markdownIt-Anchor" href="#冠词后的形容词词尾变化"></a> 冠词后的形容词词尾变化</h2><p>即在形容词之前是不定冠词 ein、否定冠词 kein、物主冠词 mein。</p><p>第三格和复数，统统 -en</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">N</td><td style="text-align:center"><strong>-er</strong></td><td style="text-align:center"><strong>-es</strong></td><td style="text-align:center"><strong>-e</strong></td><td style="text-align:center"><strong>-en</strong></td></tr><tr><td style="text-align:center">A</td><td style="text-align:center"><strong>-en</strong></td><td style="text-align:center"><strong>-es</strong></td><td style="text-align:center"><strong>-e</strong></td><td style="text-align:center"><strong>-en</strong></td></tr><tr><td style="text-align:center">D</td><td style="text-align:center"><strong>-en</strong></td><td style="text-align:center"><strong>-en</strong></td><td style="text-align:center"><strong>-en</strong></td><td style="text-align:center"><strong>-en</strong></td></tr></tbody></table><h1 id="19-5-adjektive-2"><a class="markdownIt-Anchor" href="#19-5-adjektive-2"></a> 19-5 Adjektive (2)</h1><p>描述人物</p><h2 id="die-haare-头发"><a class="markdownIt-Anchor" href="#die-haare-头发"></a> die Haare 头发</h2><p>schwarz 黑色的</p><p>blond 金色的</p><p>braun 棕色的，咖啡色</p><p>lang长的</p><p>kurz 短的</p><p>glatt 服帖的，柔顺的</p><p>lockig 卷曲的</p><p>gerade 笔直的</p><h2 id="die-augen-眼睛"><a class="markdownIt-Anchor" href="#die-augen-眼睛"></a> die Augen 眼睛</h2><p>blau 蓝色的</p><p>grün 绿色的</p><p>grau 灰色的</p><p>braun 咖啡色的</p><p>schwarz 黑色的</p><h2 id="die-brille-眼镜"><a class="markdownIt-Anchor" href="#die-brille-眼镜"></a> die Brille 眼镜</h2><p>modern 时髦的</p><p>rund 圆的</p><p>eckig 有棱角的</p><p>elegant 优雅的</p><p>sportlich 运动型的</p><h2 id="der-lippenstift-口红"><a class="markdownIt-Anchor" href="#der-lippenstift-口红"></a> der Lippenstift 口红</h2><p>rot 红色的</p><p>rotbraun 红棕色的</p><h1 id="19-6-schönheit-美丽"><a class="markdownIt-Anchor" href="#19-6-schönheit-美丽"></a> 19-6 Schönheit 美丽</h1><p>die Schönheit-en 美丽</p><p>gepunktet 点状的 adj</p><p>der Hosenanzug 长裤与衣相连的便服</p><p>die Mode-/ 流行服饰</p><p>die Körperpflege 身体护理</p><p>das Make-up 化妆</p><p>dafür 为此，对此 adv</p><p>der Werbefachmann-&quot;er 广告专业人士</p><p>das Geschäft-/ 生意，销售</p><p>die Modezeitschrift-en 时装杂志</p><p>die Boutique-n 小店</p><p>gepflegt 整洁的，经过修饰的 adj</p><p>der Friseur-e 理发师</p><p>der/die Auszubildende-n 正在接收职业培训的学生</p><p>die Schreinerin-nen 女木匠</p><p>zum Teil 部分的</p><p>die Persönlichkeit-/ 性格，个性</p><p>modisch 时髦的 adj</p><p>unter die Dusche gehen 去冲澡，去淋浴</p><p>vor der Arbeit 上班前</p><p>sich schminken 化妆 v</p><h1 id="19-7-mode-umfrage-支配第四格的介词"><a class="markdownIt-Anchor" href="#19-7-mode-umfrage-支配第四格的介词"></a> 19-7 Mode-Umfrage 支配第四格的介词</h1><h2 id="für-akkusativ"><a class="markdownIt-Anchor" href="#für-akkusativ"></a> für + Akkusativ</h2><ol><li><p>表目的，为了……</p><p>Wir lernen für das Studium in Deutschland Deutsch.</p><p>我们学德语是为了在德国上大学</p></li><li><p>表对象，对……而言，适合于……</p><p>Deutsch ist für ihn sehr schwer.</p><p>德语对他而言很难。</p></li><li><p>表报酬，等值交换，花……钱买下某物</p><p>Er hat das moderne Kleid für 600 Euro gekauft.</p><p>他花了600欧买下了这件时髦的连衣裙。</p></li></ol><h2 id="ohne-akkusativ"><a class="markdownIt-Anchor" href="#ohne-akkusativ"></a> ohne + Akkusativ</h2><p>不添加，不带有，没有</p><p>Ich möchte ein Eis ohne Schlagsahne, bitte.</p><p>我想要一份不放奶油的冰淇淋。</p><p>Deutsche können ohne Visum in Europa reisen.</p><p>德国人没有签证就可以在欧洲各国旅行。</p><p>die Gesichtspflege 护肤</p><p>gewinnen - haben gewonnen 赢得</p><p>das Outfit 外表</p><h2 id="其它只支配第四格的介词"><a class="markdownIt-Anchor" href="#其它只支配第四格的介词"></a> 其它只支配第四格的介词</h2><p>bis 直到……</p><p>durch 穿过，周游</p><p>um 转过拐角，在拐角处；围绕，环绕；与钟点连用，在……时刻</p><p>gegen 朝着，向着，对着</p><h2 id="komplimente"><a class="markdownIt-Anchor" href="#komplimente"></a> Komplimente</h2><p>wundervoll 绝妙的，美妙的</p><h1 id="19-8-frau-kienzle-1-相亲"><a class="markdownIt-Anchor" href="#19-8-frau-kienzle-1-相亲"></a> 19-8 Frau Kienzle (1) 相亲</h1><p>der Raum-&quot;e 空间，区域，房间</p><p>der Computerfachmann-&quot;er 电脑专业人士</p><p>der Nichtraucher- 非吸烟者</p><p>der Naturfreund-e 大自然爱好者</p><p>das Eigenheim-e 自有房屋，私人住宅</p><p>tierlieb 热爱动物的 adj</p><p>kinderlieb 热爱孩子的 adj</p><p>die Heirat-en 结婚 n</p><p>ausgeschlossen 排除的，不考虑的</p><p>die Zuschrift-en 书信，回复</p><p>信件 liebe + 女/lieber + 男，是零冠词的形容词词尾变化。</p><p>sich über + Akkusativ + freuen 对……感到高兴</p><p>neugierig 好奇的，急于知道的</p><p>sich mit + Dativ + treffen 与某人见面</p><p>erkennen 辨认出来，看清楚 v</p><p>in der Mitte 在中间，在中央</p><p>ausschauen = aussehen 看上去 可分v</p><p>der Typ-en 人，家伙（口语）</p><p>ernst 严肃的，一本正经的 adj</p><p>irgendwie 无论如何，以某种方式的 adv</p><h1 id="19-9-frau-kienzle-2-相亲"><a class="markdownIt-Anchor" href="#19-9-frau-kienzle-2-相亲"></a> 19-9 Frau Kienzle (2) 相亲</h1><p>genauso… wie… 同级比较</p><p>orangefarben 橙色的</p><p>das Jackett-e 外套</p><p>某些特殊形容词的词尾变化</p><ul><li><p>dunkel - dunkle</p></li><li><p>teuer - teure</p></li><li><p>hoch - hohe</p></li></ul><p>sich hinsetzen 坐下来</p><p>wirken 显得，好像，看上去 v</p><h1 id="19-10-traumpaare-1"><a class="markdownIt-Anchor" href="#19-10-traumpaare-1"></a> 19-10 Traumpaare (1)</h1><p>die Bekanntschaft-en 相识，交友</p><p>vermögend 有财力的，有能力的 adj</p><p>der Unternehmer- 企业家，生意人</p><p>romantisch 浪漫的 adj</p><p>feminin 女性的 adj</p><p>die Traumfrau-en 梦中情人</p><p>das Niveau-s 水准，水平</p><p>älter alt 的比较级</p><p>humorvoll 富有幽默感的 adj</p><p>weiblich 女性的 adj</p><p>das Wesen 本质，生命体</p><p>sich auf + Akkusativ + freuen 期待……</p><p>warmherzig 热心的，有同情心的 adj</p><p>der Mut-/ 勇气</p><p>gebildet 受过良好教育的 adj</p><p>in der Welt zu Hause sein 四海为家</p><p>startklar 整装待发的，随时准备出发的 adj</p><h1 id="19-11-traumpaare-2"><a class="markdownIt-Anchor" href="#19-11-traumpaare-2"></a> 19-11 Traumpaare (2)</h1><p>das Vermögen-/ 财富</p><p>zärtlich 善解人意的，体贴入微的 adj</p><p>kultiviert 有教养的，受过良好教育的 adj</p><p>finanziell 经济的，金融的 adj</p><p>unabhängig 独立的，不依赖的 adj</p><p>gemeinsam 共同的 adj</p><p>Unternehmung = Unternehmen 企业，事业</p><p>seriös 可靠的，可信的 adj</p><p>aktuell 最新的，当下的 adj</p><p>das Hindernis-se 障碍，阻碍</p><p>selbstbewusst 自信的 adj</p><p>charmant 迷人的，有魅力的 adj</p><p>gemeint 有意的，有想法的 adj</p><p>die Bildzuschrift-en 附有照片的信件</p><p>ehrgeizig 上进的，有野心的 adj</p><p>der Deutschlerner- 德语学习者</p><p>reich 有钱的 adj</p><p>erfolgreich 成功的 adj</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;19-1-das-finde-ich-我觉得&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#19-1-das-finde-ich-我觉得&quot;&gt;&lt;/a&gt; 19-1 Das finde ich… 我觉得&lt;/h1&gt;
&lt;p&gt;Aussehen 外表</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="柏林广场A2" scheme="https://tinsir888.github.io/tags/%E6%9F%8F%E6%9E%97%E5%B9%BF%E5%9C%BAA2/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 A2 Kapitel 18 Mobil in der Stadt</title>
    <link href="https://tinsir888.github.io/posts/a15363bb.html"/>
    <id>https://tinsir888.github.io/posts/a15363bb.html</id>
    <published>2023-01-09T16:00:00.000Z</published>
    <updated>2023-02-10T00:48:07.870Z</updated>
    
    <content type="html"><![CDATA[<p>本章学习语法：被动态</p><h1 id="18-1-verkehrsmittel"><a class="markdownIt-Anchor" href="#18-1-verkehrsmittel"></a> 18-1 Verkehrsmittel</h1><p>einen Platten haben 爆胎</p><p>der Helm-e 头盔</p><p>einen Helm tragen 戴头盔</p><p>eine Monatskarte haben 有月票</p><p>die Tankstelle-n 加油站</p><p>zur Tankstelle fahren 开车去加油站</p><p>die Fahrkarte-n 车票</p><p>eine Fahrkarte kaufen 买一张车票</p><p>der Führerschein-e 驾照</p><p>den Führerschein haben 有驾照</p><p>im Parkhaus parken 在车库停车</p><p>den Fahrplan lesen 看发车时间表</p><p>einen Parkschein ziehen 取一张停车票</p><p>an der Haltestelle warten 在车站等</p><p>der Bahnsteig-e 站台</p><p>zum Bahnsteig gehen 去站台</p><p>der Strafzettel- 罚单</p><p>einen Strafzettel bekommen 吃罚单</p><p>einen/keinen Parkplatz finden 有/没有停车位</p><p>bei der nächsten Station aussteigen 下一站下车</p><p>pünklich kommen 准时来</p><p>der Radweg-e 自行车道</p><p>den Radweg benutzen 使用自行车道</p><p>tanken 加油</p><p>bremsen 刹车</p><p>abbiegen 转弯</p><p>links abbiegen 向左转</p><p>rechts abbiegen 向右转</p><p>anhalten 停车 可分v</p><ul><li>halte - hältst - hält - halten - haltet - halten</li><li>haben angehalten</li></ul><p>falsch parken 违章停车</p><h1 id="18-2-mobil-in-der-stadt"><a class="markdownIt-Anchor" href="#18-2-mobil-in-der-stadt"></a> 18-2 Mobil in der Stadt</h1><p>unabhängig 独立的，不依赖的</p><blockquote><p>z. B. ich bin unabhängig von dir. 我不依赖于你。</p></blockquote><p>der Verkehr-/ 交通</p><p>das Benzin-/ 汽油</p><p>der Regen-/ 下雨</p><p>der Fahrradanhänger- 自行车拖车</p><p>sicher 安全</p><p>zum Glück 幸运的是</p><p>die Innenstadt-&quot;e</p><p>das Motorrad-&quot;er 摩托车</p><p>die Garage-n 车库</p><p>ziemlich 相当地</p><p>abmelden 注销 可分v</p><p>erledigen 完成</p><h1 id="18-3-mobilität-1"><a class="markdownIt-Anchor" href="#18-3-mobilität-1"></a> 18-3 Mobilität (1)</h1><p>das öffentliche Verkehrsmittel- 公共交通</p><p>der Strafzettel- 罚单</p><p>die Benzinkosten 汽油费用</p><p>vorsichtig 小心翼翼的，留心的 adj.</p><p>retten 拯救，抢救.v</p><p>jmdm[D] das Leben retten 救了……的命</p><p>seitdem 自那时起</p><p>sich an + Akkusativ + gewöhnen 习惯于……</p><p>dran 代副词 = an das Fahrradfahren</p><p>fit 身体健康，健硕的 adj.</p><p>damit 代副词 = mit dem Fahrrad</p><p>danach 代副词 = nach der Arbeit</p><h1 id="18-4-mobilität-2"><a class="markdownIt-Anchor" href="#18-4-mobilität-2"></a> 18-4 Mobilität (2)</h1><p>bis jetzt 至今为止</p><p>die Hauptsache-n 主要的事，要点</p><p>von … entfernt sein 远离……的</p><p>die Arztbesuche-/ 看医生</p><p>einfacher als 比……更简单</p><p>die Radtour-en 自行车环游</p><h1 id="18-5-frau-fritsche"><a class="markdownIt-Anchor" href="#18-5-frau-fritsche"></a> 18-5 Frau Fritsche</h1><p>der Ort-e 地方</p><p>umständlich  拖泥带水的，繁琐的 adj</p><p>ewig 永恒地 adv</p><p>umsteigen 转车，换乘 - sein umgestiegen</p><p>der Stau-s 堵车</p><p>der Fahrschein-e 车票，乘车凭证</p><p>im Ort 在当地</p><p>geparkte Autos 停着的车辆</p><p>vorbeikommen 经过，可分v</p><h2 id="übung-deshalb"><a class="markdownIt-Anchor" href="#übung-deshalb"></a> Übung: deshalb</h2><p>Es regnet heute, deshalb fährt sie mit der Straßenbahn.</p><p>Autofahren ist teuer, deshalb arbeitet seine Frau auch.</p><p>Sie will fit bleiben, deshalb fährt sie immer Fahrrad.</p><p>Sein Arbeitsplatz ist 20 km entfernt, deshalb braucht er ein Auto.</p><p>Die Benzinkosten sind hoch, deshalb steht das Auto in der Garage.</p><p>Sie sind alt, deshalb fahren sie nicht mehr Fahrrad.</p><p>Es ist zu kalt, deshalb fahre ich nicht mit dem Motorrad.</p><p>Ich wohne im Stadtzentrum, deshalb brauche ich kein Auto.</p><h1 id="18-6-passiv-1"><a class="markdownIt-Anchor" href="#18-6-passiv-1"></a> 18-6 Passiv (1)</h1><p>被动态：现在时</p><p>…（被动方） werden …（主动方：von+人；durch+物） 动词第二分词.</p><p>werden 变位：werde wirst wird werden werdet werden</p><p>Der Arzt untersucht den Patienten durch Röntgen.</p><p>被动态：Der Patient wird durch Röntgen vom Arzt untersucht.</p><p>强调被动者：用被动态，动作发出方可有可无。</p><p>der Reifen- 轮胎</p><p>wechseln 交换 v</p><p>der Ölwechsel- 换机油</p><p>das Frostschutzmittel- 防冻剂</p><p>auffüllen 灌满，补满 可分v</p><p>überprüfen 检查，审查 v</p><h1 id="18-7-passiv-2"><a class="markdownIt-Anchor" href="#18-7-passiv-2"></a> 18-7 Passiv (2)</h1><p>volltanken 加满油 v</p><p>Das Auto wird vollgetankt.</p><p>Die Luft wird geprüft. 轮胎气被检测</p><p>Das Auto innen wird gesaugt. 车辆内部被吸尘</p><p>saugen 吸尘</p><p>die Scheibe-n 车窗玻璃</p><p>Die Scheiben werden gereinigt. 车窗被清洁。</p><p>Das Öl wird kontrolliert. 机油被检测。</p><p>das Licht 车灯</p><p>Das Licht wird getestet. 车灯被测试。</p><p>Die Rechnung wird bezahlt.</p><p>der Scheibenwischer- 雨刮器</p><p>Die Scheibenwischer werden gewechselt. 雨刮器被更换。</p><p>被动态：过去时</p><p>…（被动方） wurden …（主动方） 动词第二分词.</p><p>werden 的过去时 wurden 的动词变位：wurde wurdest wurde wurden wurdet wurden</p><p>Der Ölwechsel wurde gemacht.</p><p>Die Bremsen wurden kontrolliert.</p><p>Das Auto wurde repariert.</p><p>Das Licht wurde geprüft.</p><p>Die Reifen wurden gewechselt</p><p>Das Frostschutzmittel wurde nachgefüllt.</p><p>Die Scheibenwischer wurden geputzt.</p><p>Die Scheiben wurden gewachsen.</p><p>lassen 让（别人）做某事，用主动态表达被动态</p><p>变位：lasse lässt lässt lassen lasst lassen</p><p>用法和情态动词相同</p><p>做实义动词：Ich lasse das Wasser in die Badewanne. 我让水流进浴缸。</p><p>做助动词：lassen + Akkusativ + 动词原形</p><p>Ich lasse ihn die Post abholen. 我让他去取快递。（让某人做某事）</p><p>Ich lasse das Fahrrad reparieren. 我让自行车被修。（让某物被……）</p><p>Die Oma lässt die Kinder im Garten spielen. 外婆让孩子们在花园玩耍。（允许）</p><h1 id="18-8-autowerkstatt"><a class="markdownIt-Anchor" href="#18-8-autowerkstatt"></a> 18-8 Autowerkstatt</h1><p>die Werkstatt-&quot;en 修车厂，车间</p><p>genauer gesagt 更准确地说</p><p>abschleppen 拖走 可分v</p><p>der Motor-en 马达，发动机</p><p>das Fahrzeug-e 机动车</p><p>volltanken 加满油 v</p><p>die Quittung-en 发票，账单</p><p>jedenfalls 无论如何 adv</p><p>die Elektronik-/ 电力</p><p>der Wintercheck 冬季检查</p><p>die Batterie-n 电池</p><p>stehen bleiben 停着不动了</p><p>wofür 为了什么</p><h1 id="18-9-führerschein"><a class="markdownIt-Anchor" href="#18-9-führerschein"></a> 18-9 Führerschein</h1><p>sich verhalten 表现 v</p><p>beobachten 观察 v</p><p>der Gehweg-e 人行道</p><p>sich auf … einstellen 为……做好思想准备</p><p>Rechts vor links 在无信号灯路口，右手边优先</p><h1 id="18-10-verkehrszeichen-1"><a class="markdownIt-Anchor" href="#18-10-verkehrszeichen-1"></a> 18-10 Verkehrszeichen (1)</h1><p>die Parkscheibe-n 停车盘</p><p>Pkw = Personenkraftwagen 小轿车</p><p>die Richtung-en 方向</p><p>die Umweltplakette-n 环保标志</p><h1 id="18-11-verkehrszeichen-2"><a class="markdownIt-Anchor" href="#18-11-verkehrszeichen-2"></a> 18-11 Verkehrszeichen (2)</h1><p>die Führerscheinprüfung-en 驾照考试</p><p>das Verkehrszeichen- 交通标识</p><p>rund 圆形的 adj</p><p>das Vorschriftszeichen- 规章标志</p><p>die Dreiecke-n 三角形</p><p>das Gefahrzeichen- 危险标识</p><p>bedeuten 意味着</p><p>vorbeifahren 开车经过 可分v</p><p>der Stundenkilometer- 公里每小时</p><p>der Schritt-e 步伐，步子</p><p>der Fußgänger- 行人</p><p>der Fußgängerüberweg-e 人行横道</p><p>spinnen 胡说八道</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本章学习语法：被动态&lt;/p&gt;
&lt;h1 id=&quot;18-1-verkehrsmittel&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#18-1-verkehrsmittel&quot;&gt;&lt;/a&gt; 18-1 Verkehrsmittel&lt;/h1&gt;
&lt;p&gt;ein</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="柏林广场A2" scheme="https://tinsir888.github.io/tags/%E6%9F%8F%E6%9E%97%E5%B9%BF%E5%9C%BAA2/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 A2 Kapitel 17 Die neue Wohnung</title>
    <link href="https://tinsir888.github.io/posts/31ec7e2a.html"/>
    <id>https://tinsir888.github.io/posts/31ec7e2a.html</id>
    <published>2023-01-03T16:00:00.000Z</published>
    <updated>2023-02-10T00:47:55.994Z</updated>
    
    <content type="html"><![CDATA[<p>复习 Kapitel 8，静三动四，虚拟式</p><h1 id="17-1-wohnung-suchen"><a class="markdownIt-Anchor" href="#17-1-wohnung-suchen"></a> 17-1 Wohnung suchen</h1><p>ZKB = Zimmer Küche Bad 房间厨房浴室</p><p>die Ofenheizung-en 锅炉供暖</p><p>NK = Nebenkosten 杂费，附加费</p><p>die Chiffre-n 编码</p><p>die Zentralheizung-en 中央供暖</p><p>der Neubau-ten 新造房屋</p><p>die Immobilien Pl 不动产，房产</p><p>hässlich 丑陋的 adj</p><p>sich + Dativ + etwas + Akkusativ + ansehen 仔细看</p><blockquote><p>z. B. Ich sehe mir die Armbanduhr an. 我仔细打量这块手表。</p></blockquote><p>eben 同样地 adv</p><p>dabei 包括的，在内的</p><p>renovieren 装修，装潢</p><h1 id="17-2-einrichtung"><a class="markdownIt-Anchor" href="#17-2-einrichtung"></a> 17-2 Einrichtung</h1><p>der Sessel- 单人扶手沙发</p><p>das Sofa-s 沙发</p><p>der Vorhang-&quot;e 窗帘</p><p>das Bett-en 床</p><p>der Schreibtisch-e 写字桌</p><p>das Bücherregal-e 书架（没有门）</p><p>der Bücherschrank-&quot;e 书橱（有门）</p><p>der Teppich-e 地毯</p><p>der Stuhl-&quot;e 椅子</p><p>die Waschmaschine-n 洗衣机</p><p>die Badewanne-n 浴缸</p><p>das Waschbecken- 洗面池</p><p>die Dusche-n 淋浴间</p><p>der Schrank-&quot;e 柜子</p><p>der Esstisch-e 饭桌</p><p>das Küchenregal-e 厨架</p><p>der Herd-e 炉灶</p><p>die Kaffeemaschine-n 咖啡机</p><p>die Mikrowelle-n 微波炉</p><p>die Spülmaschine-n 洗碗机</p><p>der Toaster- 面包机</p><p>das Geschirr-e 餐具</p><p>der Teller- 盘子</p><p>die Tasse-n 杯子</p><p>das Besteck-e 食具</p><p>das Messer- 刀</p><p>der Löffel- 勺子</p><p>die Gabel-n 叉子</p><p>die Stehlampe-n 落地灯</p><p>der Wohnzimmertisch-e 茶几</p><p>die Liste-n 清单，列表</p><p>Keine Ahnung. 不知道，没有头绪。</p><p>gebraucht 二手的，使用过的 adj</p><p>nachschauen 查询，查阅 可分v</p><p>ein paar = einige 一些</p><p>nämlich 表原因</p><p>kriegen 得到，搞到（口语）</p><p>sich um + Akkusativ + kümmern ……照顾……</p><blockquote><p>z. B. Ich kümmere mich um meine Familie.</p></blockquote><h1 id="17-3-ortsangaben-1"><a class="markdownIt-Anchor" href="#17-3-ortsangaben-1"></a> 17-3 Ortsangaben (1)</h1><p>静三动四</p><p>不及物动词：静止的状态，用三格，过去分词不规则变化</p><p>及物动词：运动的过程，用四格，过去分词规则变化</p><p>stehen 不及物动词 - gestanden 站立，直立，竖立</p><blockquote><p>Der Sessel steht an der Stehlampe. 静三</p></blockquote><p>stellen 及物动词 - gestellt 将……站立，直立，竖立</p><blockquote><p>Ich stelle den Sessel an die Stehlampe. 动四</p></blockquote><p>liegen 不及物动词 vi. - gelegen 平放，铺，躺</p><blockquote><p>Das Besteck liegt auf dem Tisch.</p></blockquote><p>legen 及物动词 vt. - gelegt 将…平放，铺，躺</p><blockquote><p>Ich lege das Besteck auf den Tisch.</p></blockquote><p>sitzen 不及物动词 vi. - gesessen 坐</p><blockquote><p>Der Teddybär sitzt auf dem Stuhl.</p></blockquote><p>setzen 及物动词 vt. - gesetzt 将…坐在，放置在</p><blockquote><p>Ich setze den Teddybär auf den Stuhl.</p></blockquote><p>hängen 不及物动词 vi. - gehangen 挂在</p><blockquote><p>Das Kleid hängt im Schrank.</p></blockquote><p>hängen 及物动词 vt. - gehängt 将…挂在</p><blockquote><p>Ich hänge das Kleid in den Schrank.</p></blockquote><p>stellen 将……竖放、搁置</p><ul><li>Lampe、Fahrrad、Fernseher、Möbel等立体的物品</li></ul><p>legen 将……平铺、平躺、平放</p><ul><li>Tuch、Teppich、Besteck、Brille、Kleidung等扁平物品</li></ul><p>setzen 将……坐在、架在、置于 + auf （Menschen、Kopfhörer、Hut）</p><p>hängen 将……挂上，勾上</p><ul><li>Bild、Kleidung、Schlüssel等可悬挂物品</li></ul><p>der Boden-&quot; 地板</p><p>der Poster- 海报</p><h1 id="17-4-ortsangaben-2"><a class="markdownIt-Anchor" href="#17-4-ortsangaben-2"></a> 17-4 Ortsangaben (2)</h1><p>Maus 1 sitzt vor dem Kühlschrank. 静三</p><p>Maus 2 steht zwischen dem Tisch und dem Kühlschrank. 静三</p><p>Maus 3 sitzt unter dem Tisch. 静三</p><p>Maus 4 springt auf den Tisch. 动四</p><p>Maus 5 sitzt im Kühlschrank. 静三</p><p>Maus 6 liegt im Glas. 静三</p><p>Maus 7 läuft hinter den Kühlschrank. 动四</p><p>Maus 8 sitzt auf dem Kühlschrank. 静三</p><p>Maus 9 läuft neben dem Kühlschrank. 静三</p><h1 id="17-5-peters-email"><a class="markdownIt-Anchor" href="#17-5-peters-email"></a> 17-5 Peters Email</h1><p>Lieber + 男</p><p>Liebe + 女</p><p>einziehen - sein eingezogen 搬入</p><p>davor 在那之前（地点或时间）</p><p>der Schritt-e 脚步，步骤</p><p>tapezieren 糊墙纸</p><h1 id="17-6-wohnzimmer"><a class="markdownIt-Anchor" href="#17-6-wohnzimmer"></a> 17-6 Wohnzimmer</h1><p>gemütlich 舒适的，舒服的 adj = bequem</p><p>in der Ecke 在角落里</p><p>wirken 显得 v</p><p>altmodisch 过时的，老土的 adj</p><p>berühmt 著名的 adj</p><p>der Designer-&quot; 设计师</p><p>insgesamt 总计，总体</p><p>das Kissen- 枕头</p><p>im Freien 在室外</p><p>der Glastisch-e 玻璃桌</p><p>das Parkett-e 实木地板</p><p>der Ofen-&quot; 锅炉，壁炉</p><p>der Geschmack 口味，品味</p><p>die Form-en 外形，形状</p><p>warm - kalt</p><p>groß - klein</p><p>eng - breit 宽松的</p><p>schön - hässlich</p><p>günstig - teuer</p><p>gemütlich - ungemütlich</p><p>dunkel - hell</p><p>modern - altmodisch</p><p>praktisch - unpraktisch</p><p>ordentlich 井井有条的 - unordentlich 乱七八糟的</p><h1 id="17-7-würden-hätten-第二虚拟式"><a class="markdownIt-Anchor" href="#17-7-würden-hätten-第二虚拟式"></a> 17-7 würden, hätten 第二虚拟式</h1><p>第二虚拟式</p><p><strong>核心：不存在的事物</strong></p><ol><li>虚拟假设</li><li>尚未实现的愿望 + gern</li><li>表达客气、委婉的语气</li></ol><p>助动词：würden, hätten</p><p>z. B.</p><ul><li>Ich hätte gern ein Haus.</li><li>Ich würde gern ein Haus haben.</li><li>Ich würde gern in der Stadt wohnen.</li></ul><p>虚拟式助动词放第二位，根据主语进行动词变位</p><p>实义动词置尾 würden + 实义动词原型，句子的意思由实义动词决定</p><p>hätten 也可以做实义动词</p><p>würden haben = hätten</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">hatten</th><th style="text-align:center">hätten</th><th style="text-align:center">werden</th><th style="text-align:center">würden</th></tr></thead><tbody><tr><td style="text-align:center">ich</td><td style="text-align:center">hatte</td><td style="text-align:center">hätte</td><td style="text-align:center">werde</td><td style="text-align:center">würde</td></tr><tr><td style="text-align:center">du</td><td style="text-align:center">hattest</td><td style="text-align:center">hättest</td><td style="text-align:center">wirst</td><td style="text-align:center">würdest</td></tr><tr><td style="text-align:center">er/sie/es</td><td style="text-align:center">hatte</td><td style="text-align:center">hätte</td><td style="text-align:center">wird</td><td style="text-align:center">würde</td></tr><tr><td style="text-align:center">wir</td><td style="text-align:center">hatten</td><td style="text-align:center">hätten</td><td style="text-align:center">werden</td><td style="text-align:center">würden</td></tr><tr><td style="text-align:center">ihr</td><td style="text-align:center">hattet</td><td style="text-align:center">hättet</td><td style="text-align:center">werdet</td><td style="text-align:center">würdet</td></tr><tr><td style="text-align:center">sie/Sie</td><td style="text-align:center">hatten</td><td style="text-align:center">hätten</td><td style="text-align:center">werden</td><td style="text-align:center">würden</td></tr></tbody></table><p>die Traumwohnung-en 梦想中的公寓</p><p>auf dem Land 在郊区，在乡下</p><p>das Swimmingpool-s 游泳池</p><p>das Lotto-s 彩票，六合彩</p><p>gewinnen 赢得，获胜 - haben gewonnen</p><h1 id="17-8-tapezieren"><a class="markdownIt-Anchor" href="#17-8-tapezieren"></a> 17-8 Tapezieren</h1><p>die Tapete-n 墙纸</p><p>tapezieren 糊墙纸 v</p><p>Stück für Stück 一块一块地</p><p>abkratzen 刮掉，撕开 可分v</p><p>gerade 正在 adv</p><p>der Eimer- 桶</p><p>das Geschirrspülmittel 洗涤剂</p><p>schütten 灌注，倾倒 v</p><p>die Mischung-en 混合物</p><p>streichen 涂抹，刷漆 v - haben gestrichen</p><p>ablösen 揭下，分离 可分v</p><h1 id="17-9-tipps-für-julia"><a class="markdownIt-Anchor" href="#17-9-tipps-für-julia"></a> 17-9 Tipps für Julia</h1><p>das Loch-&quot;er 洞</p><p>bohren 钻孔，打眼 v</p><p>in die Wand 动四</p><p>der Schmutz-/ 脏东西，污渍</p><p>der Teppichboden 铺地毯的室内地面</p><p>aufhängen 挂上去，悬挂</p><p>todmüde 累死了 adj</p><p>der Pinsel- 画笔，刷子</p><p>befestigen 固定 v</p><p>die Taschenlampe-n 手电筒</p><p>einschalten 打开，接通 可分v</p><p>der Lichtstrahl-en 光束，光线</p><p>der Kreuz-e 十字，叉</p><p>die Walze-n 滚筒</p><p>das Eintrocknen 变干，晾干  n</p><p>schützen … vor + Dativ 保护某物以防止……</p><blockquote><p>Die Soldaten schützen das Land vor den Feinden. 士兵们保护国家不受敌人进攻。</p></blockquote><p>wickeln 卷，缠绕，包裹 v</p><p>die Alufolie-n 铝箔</p><p>eintrocknen 变干，晾干</p><p>aufbewahren 保存，保管 可分v</p><p>lästig 讨厌的，烦人的 adj</p><p>der Dreck-/ 脏污，污秽</p><p>die Kaffeefiltertüte-n 咖啡滤袋</p><p>der Tesafilm 透明胶带</p><p>die Bohrstelle-n 钻孔处</p><p>kleben 黏贴 v</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;复习 Kapitel 8，静三动四，虚拟式&lt;/p&gt;
&lt;h1 id=&quot;17-1-wohnung-suchen&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#17-1-wohnung-suchen&quot;&gt;&lt;/a&gt; 17-1 Wohnung suchen&lt;</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="柏林广场A2" scheme="https://tinsir888.github.io/tags/%E6%9F%8F%E6%9E%97%E5%B9%BF%E5%9C%BAA2/"/>
    
  </entry>
  
</feed>
