<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>TINSIR888&#39;s ZION</title>
  
  <subtitle>Some notes/articles and so on...</subtitle>
  <link href="https://tinsir888.github.io/atom.xml" rel="self"/>
  
  <link href="https://tinsir888.github.io/"/>
  <updated>2023-08-31T18:45:12.912Z</updated>
  <id>https://tinsir888.github.io/</id>
  
  <author>
    <name>tinsir888</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>计算几何 W35 Introduction to Algorithm Engineering</title>
    <link href="https://tinsir888.github.io/posts/d326008c.html"/>
    <id>https://tinsir888.github.io/posts/d326008c.html</id>
    <published>2023-08-28T22:00:00.000Z</published>
    <updated>2023-08-31T18:45:12.912Z</updated>
    
    <content type="html"><![CDATA[<h1 id="课程简介"><a class="markdownIt-Anchor" href="#课程简介"></a> 课程简介</h1><p>计算几何：理论和实验，aka Computational Geometry: Theory and Experimentation</p><p>Week 35 - Week 49，共 14 周（除去秋假一周）</p><p>每周都有阅读材料，简单记录一下课前阅读笔记。</p><p>第一周（Week 35）内容：Introduction to Algorithm Engineering</p><h1 id="阅读材料"><a class="markdownIt-Anchor" href="#阅读材料"></a> 阅读材料</h1><h2 id="sanders"><a class="markdownIt-Anchor" href="#sanders"></a> Sanders</h2><p>title: Algorithm Engineering – An Attempt at a Definition</p><p>by Peter Sanders (Universität Karlsruhe)</p><p>Algorithm engineering: cycle of design, analysis, implementation, experimental evaluation.</p><p>algorithm engineering = experimental algorithmics??? too limited</p><p>design: not just care about asymptotic worst efficiency, but also have to look at the constant factors.</p><p>analysis: gap between theory and practice.</p><p>algorithm libraries: portable, easy to use</p><h2 id="nottodo"><a class="markdownIt-Anchor" href="#nottodo"></a> NotToDo</h2><p>title: How Not To Do It</p><p>by Ian P. Gent (University of Edinburgh), Toby Walsh (INRIA-Lorraine)</p><p>Getting Started</p><ul><li><p><em>Don’t trust yourself</em>: bugged code may give better performance than the correct one</p></li><li><p><em>Do make it fast enough</em>: as fast as possible</p></li></ul><p>Experimental Design</p><ul><li><em>Do collect all data possible</em>: every branches, every procedures should be taken into consider</li><li><em>Do it all again</em>: reproducibility</li><li><em>Do it often and do it big</em>: perform lots of experiments on large problems</li><li><em>Do be stupid</em>: stupid experiments give fascinating results.</li></ul><p>Analysis of Data</p><ul><li><em>Do loot at the raw data</em></li><li><em>Do look for good views</em>: finding a good view of data</li><li><em>Don’t reject the obvious</em></li></ul><p>Presentation of Results</p><ul><li><em>Do present statistics</em>: give min, mean, max, median, standard deviation</li><li><em>Do report negative results</em>: as valuable as reporting positive results</li><li><em>Don’t push deadlines</em>:</li></ul><h2 id="hooker"><a class="markdownIt-Anchor" href="#hooker"></a> Hooker</h2><p>title: Testing Heuristics: We Have It All Wrong</p><p>by J. N. Hooker (Carnegie Mellon University)</p><p>The evils of competitive testing</p><ul><li>makeing the competition fair: machines’ differences, coding skills</li><li>choice of test problems: benchmark problem</li></ul><p>A more scientific alternative</p><ul><li>branching rule</li></ul><p>what to measure: things predicted by the model</p><h2 id="how-branch-mispredictions-affect-quicksort"><a class="markdownIt-Anchor" href="#how-branch-mispredictions-affect-quicksort"></a> How Branch Mispredictions Affect Quicksort</h2><p>by Kanela Kaligosi (Max Planck Institut für Informatik) and Peter Sanders (Universität Karlsruhe)</p><p>Quicksort</p><ul><li>random pivot, median-of-three, α-skewed pivot</li></ul><p>Branch Prediction Schemes</p><ul><li><p>static branch prediction</p><p>α-skewed pivot selection, not take dynamic behavior of program</p></li><li><p>dynamic branch prediction</p><ul><li>1-bit predictor: look the last time</li><li>2-bit predictor: look back twice</li><li>k-bit predictor: look back k times</li></ul></li></ul><p>conclusion</p><ul><li>median-of-3 pivot selection bring no significant benefits in practice: increase of branch mispreddictions</li></ul><h2 id="tradeoffs-between-branch-mispredictions-and-comparisons-for-sorting-algorithms"><a class="markdownIt-Anchor" href="#tradeoffs-between-branch-mispredictions-and-comparisons-for-sorting-algorithms"></a> Tradeoffs Between Branch Mispredictions and Comparisons for Sorting Algorithms</h2><p>Gerth Stølting Brodal and Gabriel Moruz (Aarhus Universitet Datalogi)</p><p>optimal comparison based sorting algorithm: Θ(n log n)</p><p>一大堆公式看着都烦，不想看了</p><h2 id="skewed-binary-search-trees"><a class="markdownIt-Anchor" href="#skewed-binary-search-trees"></a> Skewed Binary Search Trees</h2><p>Gerth Stølting Brodal and Gabriel Moruz (Aarhus Universitet Datalogi)</p><p>skewed BST: a constant <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\alpha\in(0,\frac{1}{2}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span></span></span></span>, s. t. for each node v there is a fixed ratio between the num of nodes in the subtree rooted in the left child and the subtrees rooted at v.</p><p>又是一大段公式证明，看不懂</p><p>hardware discussion</p><p>又在讨论体系结构的东西</p><p>branch misprediction</p><p>memory layouts</p><h1 id="课堂笔记"><a class="markdownIt-Anchor" href="#课堂笔记"></a> 课堂笔记</h1><h2 id="intro-to-ae"><a class="markdownIt-Anchor" href="#intro-to-ae"></a> Intro to AE</h2><p>算法工程简介</p><p>20世纪四五十年代发明的几种排序算法</p><p>复习一下渐进时间复杂度 O Θ Ω</p><p>快速排序时间复杂度最差情况下是 O(n^2)</p><p>实际操作中又是还需要关注常数是否过于离谱</p><h2 id="quick-histroy-bg"><a class="markdownIt-Anchor" href="#quick-histroy-bg"></a> Quick Histroy &amp; BG</h2><p>硬件的发展：缓存和存储层次、分支预测、多核、GPU、分布式云计算等等</p><p>暴力算法耗时，但是好实现</p><p>the gap between theory and practice!</p><h2 id="overview-of-ae"><a class="markdownIt-Anchor" href="#overview-of-ae"></a> Overview of AE</h2><ul><li>对算法进行详细研究</li><li>测试&amp;执行</li><li>分离并控制有影响的参数</li><li>建模</li><li>统计分析</li><li>bridge the gap between theory and practice</li></ul><p>涉及的层次</p><ul><li>系统结构</li><li>算法和数据结构</li><li>高级语言的微调 tuning</li><li>低级语言的微调</li><li>系统软件</li><li>平台和硬件</li></ul><h2 id="whats-not-ae"><a class="markdownIt-Anchor" href="#whats-not-ae"></a> What’s not AE</h2><ul><li><p>algorithmic horse race（田忌赛马式的对比）</p></li><li><p>建立最快的算法</p></li><li><p>实现一些算法并看谁最快</p></li></ul><p>而是要关注</p><ul><li>best practices</li><li>理解模型、假设、评估、解释结果、形成理论</li></ul><h2 id="models-of-computation"><a class="markdownIt-Anchor" href="#models-of-computation"></a> Models of computation</h2><p>理论假设的 RAM</p><ul><li>所有的内存都是寄存器</li><li>基础的 CPU 操作被认为是 O(1) 的</li><li>寄存器简单的读写被认为是 O(1) 的</li></ul><p>计算几何中的 RAM</p><ul><li>理论上认为存储器存的实数</li><li>所有的简单运算（加减乘除开 k  次方根）被认为是 O(1) 的</li><li>好处：理论简单化，易于设计分析算法</li><li>坏处：不显示，disparity between theory and practice</li></ul><p>In reality</p><ul><li><p>寄存器、一级缓存、二级缓存、RAM、固态硬盘、机械硬盘</p><p>越往后需要的时钟周期越多，相邻两级存储相差数十到数千倍不等</p></li><li><p>机械硬盘非常慢，访存延迟特别高（盘片旋转+寻道时间）</p></li></ul><h2 id="io-model"><a class="markdownIt-Anchor" href="#io-model"></a> IO Model</h2><p>假设 B 大小存储块中有 N 个数字</p><p>问题一：找最大值</p><p>Max 设为负无穷，从左到右挨着扫一遍，更新 Max 即可。<strong>I/O Compexity: O(n)</strong></p><p>问题二：快速排序中找到一个枢纽值 P 进行左右 交换 （Partition） 操作</p><p>如果存储大小 ≥ 2*B，也是 n 次块内读，n 次块内写 <strong>I/O Compexity: O(n)</strong></p><p>问题三：快速排序</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n)=O(n\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><p>快排的 IO 复杂度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mfrac><mi>N</mi><mi>B</mi></mfrac><mi>log</mi><mo>⁡</mo><mfrac><mi>N</mi><mi>B</mi></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\frac{N}{B}\log\frac{N}{B})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></p><p>堆排的 IO 复杂度: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N \log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></p><h2 id="on-experiments"><a class="markdownIt-Anchor" href="#on-experiments"></a> On Experiments</h2><p>what to measure?</p><ul><li><p>CPU time <strong>sometimes could be misleading: machine dependent, OS and other factors</strong></p></li><li><p>Cycles, clock time</p></li><li><p>cache misses, I/O, etc.</p></li><li><p>counters</p></li></ul><h2 id="modeling-performance-and-other-metrics"><a class="markdownIt-Anchor" href="#modeling-performance-and-other-metrics"></a> Modeling performance and other metrics</h2><p>检查 running time</p><ul><li>O(log n) 当 n 加倍时，运行时间增加一个常数</li><li>O(n) 当 n 加倍时，运行时间加倍</li><li>O(n^2) 当 n 加倍时，运行时间加四倍</li><li>O(n log n) 除去 n，当成 log n 检查</li><li>O(sqrt(n)) 当 n 加四倍时，运行时间加倍</li></ul><p><strong>注意在数据规模较小时，常数的影响 dominates！</strong></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;课程简介&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#课程简介&quot;&gt;&lt;/a&gt; 课程简介&lt;/h1&gt;
&lt;p&gt;计算几何：理论和实验，aka Computational Geometry: Theory and Experimentation&lt;</summary>
      
    
    
    
    <category term="计算几何" scheme="https://tinsir888.github.io/categories/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="计算几何" scheme="https://tinsir888.github.io/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>算法博弈论 W35 Introduction to Algorithm Engineering</title>
    <link href="https://tinsir888.github.io/posts/1b22e8c2.html"/>
    <id>https://tinsir888.github.io/posts/1b22e8c2.html</id>
    <published>2023-08-27T22:00:00.000Z</published>
    <updated>2023-08-31T18:55:58.602Z</updated>
    
    <content type="html"><![CDATA[<h1 id="课程简介"><a class="markdownIt-Anchor" href="#课程简介"></a> 课程简介</h1><p>算法、激励和数据 aka Algorithms, Incentives, and Data</p><p>Prof. Ioannis Caragiannis (Ιωάννης Καραγιάννης)</p><p>课程内容实际上就是算法博弈论（algorithmic game theory）</p><p>Week 35 - Week 49，共 14 周（除去秋假一周）</p><p>第一周（Week 35）内容：Introduction and examples</p><h1 id="a-example-badminton-scandal-in-london-2012-olympic-games"><a class="markdownIt-Anchor" href="#a-example-badminton-scandal-in-london-2012-olympic-games"></a> A example: badminton scandal in London 2012 Olympic Games</h1><p>女子双打，16 强进 8 强时</p><p>8 强的分组是 16 强的某两个小组 A 和 B</p><p>A 组胜者和 B 组负者比赛，A 组负者和 B 组胜者比赛</p><p>头号种子 田&amp;赵 意外爆冷成为 A 组负者</p><p>此时 B 组是由 王&amp;于 对阵 Jung&amp;Kim</p><p>Incentives?</p><ul><li>for teams: to get as <strong>prestigious a medal</strong> as possible</li><li>for Olympic Committee: to have all teams do their best to win</li></ul><p>但是由于 田&amp;赵 太强了，如何遇到了极有可能被淘汰。因此王&amp;于、Jung&amp;Kim 两个小组都不想赢，故意消极比赛。两组最终被处罚，disqualified。</p><p>问题出在哪？</p><ul><li>不是不道德、违反体育精神的行为</li><li>而是<em>糟糕的比赛机制</em></li></ul><h2 id="如何解决糟糕的比赛机制课后讨论题"><a class="markdownIt-Anchor" href="#如何解决糟糕的比赛机制课后讨论题"></a> 如何解决糟糕的比赛机制？（课后讨论题）</h2><ol><li>首先尝试保留循环赛和锦标赛阶段，但更改锦标赛树叶子上的团队交叉点</li><li>每一组的不管是胜者和负者匹配随机化</li></ol><h1 id="an-ml-ish-example"><a class="markdownIt-Anchor" href="#an-ml-ish-example"></a> An ML-ish example</h1><p>deciding the room temperature</p><p>有一个空调，可以设置 16 到 30 度。</p><p>有一群学生和老师 Ιωάννη，每个人都有一个最舒服的温度。当温度越接近某人的温度，某人就会越舒服。</p><p>问题是，如何决定这个房间的温度？</p><ul><li><p>问所有人的最舒服温度，然和计算平均值。空调温度设定为平均值。（看起来最公平）</p></li><li><p>Ιωάννης 想设多少，就设多少（独裁哈哈哈）</p></li><li><p>平均值的变体：中位数</p></li></ul><p>思考：</p><blockquote><p>**平均值是会被操纵的。**对某人来说，如果平均值比他最舒服的温度最高，那么下次他就会倾向于把自己“最舒适温度值”往小了报，因为这样可以整体将温度平均值拉低。而多次演化博弈的均衡结果，则是所有一开始最适宜温度就比平均值高的人，通通报 30 度，而一开始适宜温度比平均值低的人，通通报 16 度。</p><p>**独裁不会被其他人操纵。**因为 Ιωάννης 谎报自己“最适宜温度”不会使自己的收益增加。</p><p>**中位数也不会被其他人操纵。**因为比中位数低的人随便怎么报，都不会影响中位数的大小。比中位数高的人同理。而比中位数低的人不可能报比中位数高的值，因为这样反而使得自己的收益减小。</p></blockquote><h1 id="inefficiency-of-equilibrium"><a class="markdownIt-Anchor" href="#inefficiency-of-equilibrium"></a> Inefficiency of equilibrium</h1><h2 id="the-braess-paradox"><a class="markdownIt-Anchor" href="#the-braess-paradox"></a> The Braess Paradox</h2><p>布雷斯悖论</p><p>从 S 地到 T 地有两条路（上路 SAT 和下路 SBT）</p><p>SA 是窄短路（耗时 x），AT 是宽长路（耗时 1）</p><p>SB 是宽长路（耗时 1），BT 是窄短路（耗时 y）</p><p>x 是走上路的流量，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">x\in[0,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p><p>y 是走下路的流量，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">y\in[0,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p><p><em>所有人的激励：从 A 到 B 耗时越短越好</em></p><p>此时，均衡值对应 SAT 和 SBT 分配相等（x = y = 0.5）的流量，用时 1.5</p><p>但是，如果从 A 到 B 建立一个传送点，耗时 0 的话……</p><ul><li>原本走 SAT 的人，会走 SABT。因为 BT 耗时 ≤ AT 耗时</li><li>原本走 SBT 的人，也会走 SABT。因为 SA 耗时 ≤ SB 耗时</li></ul><p>这样，最终均衡的结果是：所有人都走 SABT。 此时 x = 1，y = 1，因此所有人的耗时为 2</p><p>Price of anarchy (PoA):</p><blockquote><p>刻画个体追求最佳利益时引发的系统性效率的损失</p><p>= 个体都最优时，系统的成本÷集中协调规划，整体系统达到最优状态的成本</p><p>= <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>2</mn><mn>1.5</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2}{1.5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">.</span><span class="mord mtight">5</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></blockquote><h1 id="a-view-of-algorithm-design"><a class="markdownIt-Anchor" href="#a-view-of-algorithm-design"></a> A view of algorithm design</h1><p>已知输入 x，得到输出 y=f(x)</p><p>f(x) 未知</p><p>通常 f 非常难以计算得到</p><p>因此将问题转化为：设计一个算法来近似 f</p><p>有限若干个 x 和对应的函数输出</p><p>解决办法通常有：分布式、并行多核、流式算法……</p><h2 id="博弈的视角"><a class="markdownIt-Anchor" href="#博弈的视角"></a> 博弈的视角</h2><p>在一个博弈环境下，input is provided by different parties that have their own interests in the outcome of the algorithm</p><p>比如：投票、拍卖、网络路由问题……</p><p>当一个输入 input 的实体发现，改变 input 会使得函数的 output 有利于自己的时候，incentive 就会激励该实体改变输入。然后该实体就改变 input， deviate 了。</p><p>因此问题继续转化：设计一个算法，考虑到所有输入的 agent 都会采取某种有利于自己的策略，输出就是 game solution</p><h1 id="course-overview"><a class="markdownIt-Anchor" href="#course-overview"></a> Course Overview</h1><ul><li>决策中的战略方面（算法）</li><li>通过理论分析我们可以保证什么样的性能？</li><li>数据有何帮助？</li></ul><p>算法博弈论的两个部分</p><ul><li>机制设计 algorithms that incentivize truthful behavior 设计鼓励诚实行为的算法</li><li>非诚实行为激励算法导致的均衡 equilibrium of games induced by non-truthful algorithms (PoA, dynamics, learning)</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;课程简介&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#课程简介&quot;&gt;&lt;/a&gt; 课程简介&lt;/h1&gt;
&lt;p&gt;算法、激励和数据 aka Algorithms, Incentives, and Data&lt;/p&gt;
&lt;p&gt;Prof. Ioannis</summary>
      
    
    
    
    <category term="算法博弈论" scheme="https://tinsir888.github.io/categories/%E7%AE%97%E6%B3%95%E5%8D%9A%E5%BC%88%E8%AE%BA/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="算法博弈论" scheme="https://tinsir888.github.io/tags/%E7%AE%97%E6%B3%95%E5%8D%9A%E5%BC%88%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>计算机视觉 W35 Introduction</title>
    <link href="https://tinsir888.github.io/posts/d7a12b7a.html"/>
    <id>https://tinsir888.github.io/posts/d7a12b7a.html</id>
    <published>2023-08-27T22:00:00.000Z</published>
    <updated>2023-08-31T18:47:01.300Z</updated>
    
    <content type="html"><![CDATA[<h1 id="课程简介"><a class="markdownIt-Anchor" href="#课程简介"></a> 课程简介</h1><p>用于视觉识别的深度学习 aka Deep Learning for Visual Recognition</p><p>Week 35 - Week 49，共 14 周（除去秋假一周）</p><p>第一周（Week 35）内容：Introduction</p><h1 id="practical-information"><a class="markdownIt-Anchor" href="#practical-information"></a> Practical information</h1><p>理论课：自底向上（理论优先）</p><p>实验课：编程联系，自顶向下（实践优先）</p><p>考试：15 min，5 topics，8 min pre + 4 min Q&amp;A，占成绩的 50%。Project 占成绩的 50%。</p><h1 id="introduction-to-traditional-computer-vision"><a class="markdownIt-Anchor" href="#introduction-to-traditional-computer-vision"></a> Introduction to traditional computer vision</h1><p>a interdisciplinary field</p><p>从高级到低级：图像理解（物体检测、识别、形状分析）、图像分析（分割、匹配）、图像处理（增强、去噪、特征识别、压缩……）</p><p>image classification</p><p>semantic gap, what computer sees is a big grid of numbers</p><p>从猫的视觉神经中获得启发：特定的神经细胞对横线敏感</p><p>早期的计算机视觉模型</p><ul><li><p>原始图像 - 差分 - 特征点选择</p></li><li><p>all steps are hard-coded</p></li><li><p>早期方法的挑战</p><ul><li>Illumination conditions（光照）</li><li>viewpoint variation（观察点从不同的方向看有变化）</li><li>scale variation（根据透视原理“近大远小”可能会造成错觉）</li><li>deformation（对象可能会出现奇怪的姿势）</li><li>occlusion（遮挡）</li><li>backgroud clutter（背景杂乱，对象和背景融为一体）</li><li>intra-class variation（某种类的物品的样式太多）</li></ul></li></ul><p>data-driven approach</p><ul><li><p>training dataset</p></li><li><p>using traditional machine learning</p><ul><li><strong>输入 - 特征提取 - 分类器 - 输出</strong></li><li>特征提取：extract simple features like edges and blobs from input</li><li>将特征输入机器学习的分类模型中</li><li>训练模型并完成任务</li></ul></li><li><p>image features</p><ul><li>edges 图像上强度、颜色、质地明显变化的分界线</li><li>more advanced structures 如 edge feature, line feature, four-rectangle feature 通过滤波器实现</li><li>interest points and decriptors (SIFT) 平移尺度不变特征</li><li>Histograms of oriented gradients (HoG) 定向梯度</li><li>super pixels 超级像素，将颜色近似的像素点替换成同一种像素点</li></ul></li><li><p>object detection and recognition</p><ul><li>bag of words</li><li>part-based model</li></ul></li></ul><h1 id="introduction-to-deep-learning"><a class="markdownIt-Anchor" href="#introduction-to-deep-learning"></a> Introduction to deep learning</h1><p>deep learning ∈ machine learning ∈ artificial intelligence</p><p>机器学习</p><ul><li><p>有一组输入 x 和输出 y，求输入输出对应的函数</p></li><li><p>作为“万能函数”，神经网络可以近似任何一种函数</p></li></ul><p>深度学习</p><p>一种机器学习算法，inspired by the structure and function of the brain</p><p>big data + GPU</p><p>CNN 卷积神经网络</p><p>AlexNet 引领了深度学习</p><ul><li><p>conv1 提取 edge + blob</p><p>用 96 种卷积核卷积得到 96 个二维特征图片</p></li><li><p>conv3 提取 texture</p></li><li><p>conv 5 object parts</p></li><li><p>fc8 object classes</p></li></ul><p>为什么深度学习如此强大？</p><blockquote><p>传统机器学习的 feature extraction 需要的 expert-written computer program：</p><ul><li>需要专家</li><li>编写耗时</li><li>容易出错</li><li>不容易泛化到新问题</li></ul><p>而深度学习不需要专门的 feature extraction，这一步直接交给网络模型做</p></blockquote><p>learning principle</p><p>每一张图片算一个输入 x，对应的输出 y</p><p>目标是：</p><ul><li>learn a model that is good at predicting y from x</li><li>good generalizes to unseen data</li></ul><p>计算 error，通过 gradient descent 求最小 error 值</p><p>评估模型：欠拟合、拟合、过拟合</p><p>CNN 的卷积层</p><p>卷积→激活函数（非线性）→池化（减小特征图尺寸同时保留重要特征。减少计算负担、特征不变性、降低过拟合）</p><p>CNN 也可以从 encoder/decoder 的视角看待：</p><blockquote><p>原始输入图片经过多层的卷积层得到特征图（encode）</p><p>特征图经过全连接层得到输出（decode）</p></blockquote><p>CV 的任务</p><ul><li>图像分类</li><li>图像分类+位置识别</li><li>物品识别</li><li>图像分割 segmentation</li></ul><p>CV 的一些应用</p><ul><li>灰度图上色</li><li>fake face</li><li>图像风格迁移</li><li>根据图像生成文字</li><li>检测人体动作</li></ul><p>目前的 SOTA 模型</p><ul><li>DALL-E 2</li><li>Stable Diffusion 稳定扩散</li></ul><h1 id="lecture-plan-for-the-rest"><a class="markdownIt-Anchor" href="#lecture-plan-for-the-rest"></a> Lecture plan for the rest</h1><p>W2 基础机器学习（训练、验证和测试）</p><p>W3+4 传统神经网络（反向传播）</p><p>W5 CNN&amp;如何写好报告</p><p>W6+7 训练 CNN</p><p>W8 CNN 架构</p><p>W9 目标检测和分割</p><p>W10 生成式模型</p><p>W11 可视化、理解 CNN</p><p>W12 Trending topics</p><p>W13 NLP 自然语言处理</p><p>W14 info about exam</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;课程简介&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#课程简介&quot;&gt;&lt;/a&gt; 课程简介&lt;/h1&gt;
&lt;p&gt;用于视觉识别的深度学习 aka Deep Learning for Visual Recognition&lt;/p&gt;
&lt;p&gt;Week 3</summary>
      
    
    
    
    <category term="计算机视觉" scheme="https://tinsir888.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="计算机视觉" scheme="https://tinsir888.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 10 Reise und Mobilität</title>
    <link href="https://tinsir888.github.io/posts/75261e42.html"/>
    <id>https://tinsir888.github.io/posts/75261e42.html</id>
    <published>2023-08-07T22:00:00.000Z</published>
    <updated>2023-08-12T08:42:02.821Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ul><li><p>Reise und Mobilität</p></li><li><p>Verkehrsmittel</p><p>sich beschweren</p></li><li><p>Beschwichtigen</p><p>Gründe nennen</p></li><li><p>Futur I: Vermutungen über die Zukunft</p><p>Gründe: weil, da, wegen, um … zu …</p></li></ul><h1 id="10-1-reise-und-mobilität"><a class="markdownIt-Anchor" href="#10-1-reise-und-mobilität"></a> 10-1 Reise und Mobilität</h1><p>der Straßenverkehr-/ 道路交通</p><p>das Cabrio-s 敞篷车</p><p>der Schienenverkehr-/ 轨道交通 = der Bahnverkehr-/</p><p>die Schiene-n 铁轨，滑轨</p><p>der IC = Intercityzug 城际列车</p><p>die Schifffahrt-en 航海，航运</p><p>der See-n 湖</p><p>die See-n 海</p><p>das Meer-e 海洋</p><p>das Boot-e 小船</p><p>das Schiff-e 大船</p><p>das Kreuzfahrtschiff-e 游轮</p><p>der Luftverkehr-/ 空运，空中交通</p><p>die Concorde-s 协和飞机</p><p>der Zeppelin-e 齐柏林飞艇</p><p>die Seilbahn-en 缆车</p><p>der Tunnel- 隧道，地道</p><p>der Hubschrauber- 直升飞机</p><p>die Kutsche-n 马车</p><p>die Fähre-n 轮渡</p><p>die Eisenbahn-en 铁路</p><p>das Moped-s 轻型摩托车</p><p>das Mofa = das Motorfahrrad 助力自行车</p><p>das Motorrad-&quot;er 摩托车</p><p>das Raumschiff-e 宇宙飞船</p><p>die Tram = die Trambahn 有轨电车</p><h1 id="10-2-时态辨析"><a class="markdownIt-Anchor" href="#10-2-时态辨析"></a> 10-2 时态辨析</h1><p>复习形容词最高级：</p><p>am 形容词原形sten 作表语，作状语</p><p>定冠词 形容词原形st（形容词词尾变化） 作定语</p><p>复习现在完成时：haben/sein + 句子成分 + 过去分词 （框架结构）</p><p>复习过去时 = 动词过去式</p><p>过去时和现在完成时意思上没有严格的区别。</p><p>过去式偏书面语，现在完成时偏口语。</p><p>一般将来时 = werden + 句子成分 + 动词原形 （框架结构）</p><p>= 动词现在时变位 + 表将来的时间副词</p><h1 id="10-3-das-jahrhundert-1"><a class="markdownIt-Anchor" href="#10-3-das-jahrhundert-1"></a> 10-3 Das Jahrhundert (1)</h1><p>das Fließband-&quot;er 传送带，流水线</p><p>der Atlantik-/ 大西洋</p><p>der Pazifik-/ 太平洋</p><p>der Indischer Ozean 印度洋</p><p>der Arktischer Ozean 北冰洋</p><p>riesig 巨大的</p><p>der Fortschritt-e 进步</p><p>der Sieger- 冠军，优胜者</p><p>das Automobilrennen 汽车赛，赛车</p><p>PS = Pferdestärke 马力</p><p>der Rennwagen- 赛车</p><p>der Motorflug-&quot;e 动力飞行</p><p>etwas gelingen jmdm 某人做到某事（物作主语）</p><p>gelingen - sein gelungen - gelang</p><blockquote><p>Es gelingt ihm nicht. 他失败了。</p><p>Das Experiment ist gelungen. 实验成功了。</p></blockquote><p>Detroit 底特律（美国城市）</p><p>die Autoherstellung 汽车生产制造</p><p>monoton 单调的，乏味的</p><p>die Postkutsche-n 邮政马车</p><h1 id="10-4-das-jahrhundert-2"><a class="markdownIt-Anchor" href="#10-4-das-jahrhundert-2"></a> 10-4 Das Jahrhundert (2)</h1><p>überqueren 横渡，横跨（不可分v）</p><blockquote><p>Bitte nicht überqueren die Straße. 请不要横穿马路。</p></blockquote><p>der Alleinflug 个人飞行，独自飞行</p><p>abheben 取钱，捡起；飞机升起</p><blockquote><p>Wir müssen dringend etwas Geld abheben. 我们得赶紧取钱。</p></blockquote><p>die Hündin-nen 母狗</p><p>das Lebewesen- 生物</p><p>im All = im Weltraum 在外太空</p><p>das Luftkissen- 气垫，气囊</p><p>das Hovercraft-s 气垫船</p><p>die Fähre-n 轮渡</p><p>der Ärmelkanal 英吉利海峡</p><p>gewaltig 巨大的，强大的</p><p>der Astronaut-en 宇航员</p><p>der Himmelskörper- 天体</p><p>die Mission-en 使命，任务</p><p>der Eisenbahnzug-&quot;e 火车</p><p>die Spitzengeschwindigkeit-en 最高速度</p><p>einen Rekord aufstellen 创纪录</p><p>der ICE = Intercity-Expresszug 城际特快列车</p><h1 id="10-5-das-jahrhundert-3"><a class="markdownIt-Anchor" href="#10-5-das-jahrhundert-3"></a> 10-5 Das Jahrhundert (3)</h1><p>die Alpenautobahn-en 阿尔卑斯山高速公路</p><p>das Serienauto 系列车型</p><p>das Luftschiff-e 飞艇</p><p>die Zahnradbahn 齿轮火车</p><p>die Zugspitze 楚格峰</p><p>die Raumfähre-n 宇宙飞船 = Raumschiff</p><p>der Weltraum 宇宙</p><p>die Weltraumstation 宇宙空间站</p><p>heftig 强烈的，猛烈的</p><p>der Wintereinbruch 冬季来袭</p><p>die Bauzeit 施工时间</p><p>der Jahreswechsel 新年，年关</p><p>von nun an 从现在开始</p><p>schweben 滑行，滑翔，轻轻划过</p><p>das Hoverboard-s 滑翔板</p><p>anstatt + 第二格/带 zu 不定式 替代，而不是</p><blockquote><p>Anstatt zu arbeiten, treibt er sich draußen herum. 他不工作，而是在外面瞎逛。</p></blockquote><p>die Besiedlung 殖民化，殖民地的开拓</p><p>besteigen 登上，登顶</p><p>die Vision-en 幻想，理想，景象</p><p>der Demonstrationsflug 演示飞行</p><p>die Lichtgeschwindigkeit 光速</p><h1 id="10-6-ärger-im-hotelzimmer"><a class="markdownIt-Anchor" href="#10-6-ärger-im-hotelzimmer"></a> 10-6 Ärger im Hotelzimmer</h1><p>Hotelgast: Guten Abend.</p><p>晚上好。</p><p>Rezeptionist: Guten Abend. Kann ich Ihnen helfen?</p><p>晚上好，我能为您效劳吗？</p><p>Hotelgast: Ja, es gibt da ein Problem. Aus dem Zimmer neben meinem kommen seit Stunden laute Fernsehgeräusche. Ich kann kein Auge zumachen.</p><p>是的，有个问题。从我隔壁房间传来大声的电视机嘈杂声已经好几个小时了，我没法睡觉。</p><p>**Hotelgast: **</p><p>• Ich finde, das geht nicht.</p><p>我觉得这样不对。</p><p>• Bitte tun Sie etwas dagegen.</p><p>请您制止。</p><p>• Ich werde mich schriftlich beschweren.</p><p>我会写信投诉的。</p><p>• Ich verlange mein Geld zurück.</p><p>我要求退回我的钱。</p><p>**Rezeptionist: **</p><p>• Das tut mir schrecklich Leid.</p><p>真的很抱歉。</p><p>• Wir werden sofort etwas unternehmen.</p><p>我们会马上着手处理。</p><p>• Ich verstehe, dass Sie verärgert sind.</p><p>我理解您很生气。</p><p>Hotelgast: Ich habe schon versucht zu klopfen, aber der Gast reagiert nicht.</p><p>我已经尝试敲过门了，但没人应答。</p><p>**Hotelgast: **</p><p>• Darf ich Sie bitten, mir zu helfen?</p><p>您能帮帮我吗？</p><p>• Unternehmen Sie sofort etwas!</p><p>请您立刻处理！</p><p>• Könnten Sie den Gast nicht mal anrufen?</p><p>您就不能给那位客人打个电话吗？</p><p>**Rezeptionist: **</p><p>• Wir werden sofort für Ruhe sorgen.</p><p>我们会马上恢复安静的。</p><p>• Wir tun, was wir können.</p><p>我们会尽力解决。</p><p>• Leider kann ich da gar nichts machen.</p><p>对不起，我无能为力。</p><p>**Hotelgast: **</p><p>• Gut, in Ordnung.</p><p>那好吧。</p><p>• Können Sie denn nicht wenigstens…?</p><p>您就不能至少…吗？</p><p>Rezeptionist:  Darf ich Ihnen inzwischen etwas anbieten?</p><p>还有什么我能够为您效劳的吗？</p><p>Hotelgast:  Ja…/Nein… Vielen Dank. Gute Nacht.</p><p>有…/没有了… 谢谢，晚安。</p><p>Rezeptionist:  Gute Nacht. Ich hoffe, Sie werden nicht mehr gestört.</p><p>晚安，希望您不再受到打扰。</p><p><strong>Dialog 1</strong></p><p>Ihr Hotelzimmer ist eiskalt.</p><p>您的酒店房间冰冰冷。</p><p>Hotelgast: Guten Abend.</p><p>晚上好。</p><p>Rezeptionist: Guten Abend. Kann ich Ihnen helfen?</p><p>晚上好，我能为您效劳吗？</p><p>Hotelgast: Ja. Das Hotelzimmer ist eiskalt. Es ist mitte Dezember. Das Zimmer hat  weder Heizung noch Fensterscheiben. Ich kann kein Auge zumachen. Ich  werde mich schriftlich beschweren.</p><p>是的。酒店房间冰冰冷，现在正值十二月份，房间既没有暖气又没有窗户片，我没法睡觉。我会写信投诉的。</p><p>Rezeptionist: Das tut mir schrecklich Leid.</p><p>真的很抱歉。</p><p>Hotelgast: Ich habe schon versucht, zwei Decken auf mich zu legen, aber das hilft überhaupt nicht. Unternehmen Sie sofort etwas!</p><p>我已经尝试盖两条被子了，但压根没用。请您立刻处理！</p><p>Rezeptionist: Leider kann ich da gar nichts machen. Unser Hotel ist umweltfreundlich,  deswegen bietet das Zimmer keine Heizung. Und mit offenen Fenster können Sie die Natur besser genießen.</p><p>对不起，我无能为力。我们酒店是环保酒店，所以房间不提供暖气，打开窗户也是为了让您更好地体验大自然。</p><p>Hotelgast: Können Sie mir denn nicht wenigstens eine Wärmeflasche bringen?</p><p>您就不能至少给我一个热水袋吗？</p><p>Rezeptionist: Das können wir tun. Darf ich Ihnen inzwischen etwas anbieten?</p><p>这个可以提供。还有什么我能够为您效劳的吗？</p><p>Hotelgast: Nein…</p><p>没有了…</p><p>Rezeptionist: Gute Nacht. Ich hoffe, Sie werden gut schlafen.</p><p>晚安，希望您睡个好觉。</p><p><strong>Dialog 2</strong></p><p>Das Essen im Bordrestaurant schmeckt Ihnen nicht.</p><p>餐车的食物不合您的胃口。</p><p>Zuggast: Entschuldigen Sie, Frau Kellnerin.</p><p>服务员，不好意思。</p><p>Kellnerin: Guten Tag. Wie kann ich Ihnen helfen?</p><p>您好，我能为您效劳吗？</p><p>Zuggast: Ich muss sagen, ich habe noch nie so ekelhaftes Essen gegessen. Hat der  Kocher eigentlich Ahnung wie man kocht? Ich verlange mein Geld zurück!</p><p>不得不说，我从没吃过这么难吃的东西。厨师究竟懂不懂烹饪？我要求退款!</p><p>Kellnerin: Ich verstehe, dass Sie verärgert sind.</p><p>我理解您很生气。</p><p>Zuggast: Das Fleisch ist hart. Die Soße ist salzig. Der Reis ist kalt. Es lohnt sich nicht für 30 Euro! Unternehmen Sie sofort etwas!</p><p>肉是硬的，酱汁太咸，饭是冷的，不值30欧元。请您立刻处理！</p><p>Kellnerin: Mit einer Rückstattung kann ich leider nichts machen. Ich bringe Ihnen gerne sofort eine neue Portion.</p><p>对不起，我没法退款。我马上给您换一份新的。</p><p>Zuggast: Gut, in Ordnung.</p><p>那好吧。</p><p><strong>Dialog 3</strong></p><p>Ihr Koffer ist nicht mit demselben Flugzeug gekommen wie Sie.</p><p>您的行李箱没有随您的航班一起运过来。</p><p>Fluggast: Guten Tag.</p><p>晚上好。</p><p>Mitarbeiterin: Guten Tag. Kann ich Ihnen helfen?</p><p>晚上好，我能为您效劳吗？</p><p>Fluggast: Ja, es gibt da ein Problem. Ich finde meinen Koffer nicht. Darf ich Sie bitten, mir zu helfen?</p><p>是的，有个问题。我找不到我的行李箱了，您能帮帮我吗？</p><p>Mitarbeiterin: Einen Moment bitte.</p><p>稍等片刻。</p><p>Fluggast: Ich habe schon lange am Kofferband gewartet. Aber mein Koffer kommt immer noch nicht. Ich finde, das geht nicht.</p><p>我在行李传送带旁已经等了好久，但我的箱子就是不出来，我觉得，这不对劲啊。</p><p>Mitarbeiterin: Ihr Koffer ist nicht mit demselben Flugzeug gekommen wie Sie. Es tut mir echt Leid.</p><p>您的行李箱没有随您的航班一起运过来，真的很抱歉。</p><p>Fluggast: Können Sie mir denn nicht wenigstens sagen, wo mein Koffer ist？</p><p>您至少得告诉我，我的行李箱在哪里吧？</p><p>Mitarbeiterin: Wir tun, was wir können, um Ihren Koffer zu finden… Ah, ich sehe gerade, dass Ihr Koffer im nächsten Flugzeug ankommen wird. Wir werden Ihnen  diesen dann nach Hause bringen.</p><p>我们会尽力找到您的行李箱。啊，我刚看到，您的箱子会随下一班飞机过来，我们将会寄到您家。</p><p>Fluggast: Na gut. Danke für Ihre Auskunft.</p><p>那好吧，谢谢您的答复。</p><h1 id="10-7-jugendzeitschrift-ticket-1"><a class="markdownIt-Anchor" href="#10-7-jugendzeitschrift-ticket-1"></a> 10-7 Jugendzeitschrift TICKET (1)</h1><p>die Freiheit-/ 自由</p><p>die Freizeit-/ 业余时间</p><p>das Velo-s 自行车【瑞士】</p><p>darunter 在下面；其中 = davon</p><p>spüren 感受 = fühlen</p><p>die Ausdünstung-en 水蒸气</p><p>einatmen 吸入 可分v</p><p>ansprechen 搭讪，攀谈 可分v</p><blockquote><p>Er hat sie einfach auf der Straße angesprochen. 他在街上就和她攀谈起来了。</p></blockquote><p>ungebunden 自由自在的，无拘无束的</p><p>sich nach Akkusativ richten （人做主语）追随；（物做主语）取决于</p><blockquote><p>Ich richte mich nach dir. 我听你的。</p></blockquote><p>spontan 心血来潮的，自发的，冲动的</p><p>das Spontane 那些心血来潮的东西</p><p>hageln 下冰雹 v</p><p>erschüttern 使动摇，震撼 不可分v</p><h1 id="10-8-jugendzeitschrift-ticket-2"><a class="markdownIt-Anchor" href="#10-8-jugendzeitschrift-ticket-2"></a> 10-8 Jugendzeitschrift TICKET (2)</h1><ul><li><p>Freiheit und Reise - Was fällt Ihnen dazu ein?</p><p>In meinem Urlaub liebe ich Reisen. Speziell sind Städtereise meine Leidenschaft.</p><p>die Städtereise-n 城市旅行</p></li><li><p>Was ist Ihnen beim Reisen besonders wichtig?</p><p>Dabei spielen für mich vor allem die Punkte Freiheit, Komfort und Umweltfreundlichkeit eine ganz besondere Rolle. Man braucht ein richtiges Verkehrsmittel.</p></li><li><p>Mit welchem Verkehrsmittel reisen Sie am liebsten?</p><p>Daher liebe ich es, mit der Eisenbahn das eigene, aber auch fremde Länder zu entdecken.</p><p>Der Komfort eines Abteils in einem Zug ist einfach kaum zu überbieten.</p><p>das Abteil-e 车厢，小包间</p><p>überbieten 超越，赶超 = überholen</p></li><li><p>Warum benutzen Sie gerade dieses Verkehrsmittel?</p><p>Zugreisen sind vom Pries her sehr attraktiv, auch wenn es nicht das schnellste Verkehrsmittel ist.</p><p>vom Preis her 从价格角度出发</p><p>Der Zug fährt meistens durch Abschnitte, wo kein Auto fahren könnte.</p><p>der Abschnitt-e 一部分；路段；章节，段落</p><p>Dabei kann man jede Minute aus dem Fenster neue Dinge entdecken.</p><p>Ich mag besonders die langsamen Züge, denn hier habe ich noch mehr Zeit die Landschaft und die besondere Atmosphäre einer Zugfahrt zu genießen.</p><p>genießen 享受，享有</p><p>Ein weiterer großer Vorteil mit dem Zug zu reisen ist es, dass man immer im Stadtzentrum startet und auch ankommt.</p><p>Dafür fühle ich mich frei und kann sofort die Stadt besuchen.</p><p>Ich empfehle jedem, zumindest einmal im Leben eine Städtereise mit dem Zug zu machen.</p></li></ul><p>标题：Mit dem Zug die Welt erkunden 乘坐火车探索世界</p><h1 id="10-9-warum-wollen-sie-auswandern"><a class="markdownIt-Anchor" href="#10-9-warum-wollen-sie-auswandern"></a> 10-9 Warum wollen Sie auswandern?</h1><p>das Abenteuer- 冒险，历险</p><p>auf sich allein gestellt sein 独自一人</p><p>der Freundeskreis-e 朋友圈，社交圈</p><p>hautnah 紧挨着的，生动的</p><p>der Horizont-e 地平线；眼界，见识</p><p>erweitern 扩大，扩展</p><p>das Risiko-en 风险</p><p>ein Risiko tragen 承担风险</p><p>das Klima 气候</p><h2 id="罗列原因"><a class="markdownIt-Anchor" href="#罗列原因"></a> 罗列原因</h2><p>wegen + 第二格名词/第三格人称代词</p><blockquote><p>wegen der Lust auf Abenteuer</p><p>wegen der Beziehung zu Partner und Freunden</p><p>wegen der bequemen Wohnung</p><p>wegen der besseren Berufschancen</p><p>wegen des festen Freundeskreises</p><p>wegen der Muttersprache</p></blockquote><p>um… zu… 表目的的带 zu 不定式</p><p>weil…/da… 原因从句</p><p>由连词 da 引导的从句一般都置于主句前，引导双方已知的原因。</p><h1 id="10-10-由疑问词引导的从句"><a class="markdownIt-Anchor" href="#10-10-由疑问词引导的从句"></a> 10-10 由疑问词引导的从句</h1><p>从句结构：从句连词 + 从句</p><p>特殊疑问词可以作为从句连词</p><p>der Schläger 球拍，球；搅拌器</p><h1 id="10-11-zwei-berichte-1"><a class="markdownIt-Anchor" href="#10-11-zwei-berichte-1"></a> 10-11 Zwei Berichte (1)</h1><p>kreuz und quer 横纵交错地</p><p>dennoch 尽管，还是，然而</p><p>das Mädel-s 小女孩</p><p>sich anschauen 仔细看，参观，检查</p><p>mittendrin in 在……中间，在……当中</p><p>etwas auf jmdn/etwas ausüben 施加，给予，产生</p><p>die Faszination-en 魅力，吸引力</p><p>bewusst 有意识的，故意的，有意的</p><p>lediglich 仅仅，只不过 = nur</p><h1 id="10-12-zwei-berichte-2"><a class="markdownIt-Anchor" href="#10-12-zwei-berichte-2"></a> 10-12 Zwei Berichte (2)</h1><p>funktionieren 正常运转，起作用</p><p>funktionierend 正在运转的 adj</p><p>versäumen 疏忽，错过，耽误</p><p>die Sehnsucht 爱慕，渴望</p><p>das Clubreiseunternehmen-s 俱乐部旅行公司</p><p>der Organisator-en 组织者，筹备着</p><h1 id="10-13-zwei-berichte-3"><a class="markdownIt-Anchor" href="#10-13-zwei-berichte-3"></a> 10-13 Zwei Berichte (3)</h1><p>einerseits … andererseits … 一方面……另一方面……</p><p>die Gegend-en 地区，地带</p><p>etwas in den Griff kriegen 掌控，掌握，把握</p><p>geregelt 规定的，标准的 adj</p><p>auskundschaften 打听出，侦察出</p><p>an Akkusativ hängen 依恋。留恋</p><p>auf eigene Faust 靠自己</p><p>nationalistisch 民族主义的，国家主义的</p><p>der Sinn-e 含义，意义</p><p>durchaus 完全，绝对</p><p>nirgends = nirgendwo 哪个地方都没有，没有一处</p><h1 id="10-14-带第二格关系代词的关系从句-1"><a class="markdownIt-Anchor" href="#10-14-带第二格关系代词的关系从句-1"></a> 10-14 带第二格关系代词的关系从句 (1)</h1><h2 id="复习第二格"><a class="markdownIt-Anchor" href="#复习第二格"></a> 复习第二格</h2><ul><li><p>名词第二格表示所属关系</p></li><li><p>第二格名词除了冠词要变化外，阳性及中性单数名词词尾须加 -s 或 -es</p><p>das Büro des Lehrers</p><p>die Schule des Kindes</p><p>die Uhr der Frau</p><p>die Taschen der Frauen</p></li><li><p>零冠词时，阴性以及复数的名词前形容词词尾为 -er，其他情况统统 -en</p></li><li><p>定冠词以及其他冠词，第二格形容词词尾全部都是 -en</p></li></ul><p>关系从句：主句，关系代词 + 从句（动词置尾）</p><p>关系代词是从句中指代主句中某一需要被进一步说明的成分。</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl</th></tr></thead><tbody><tr><td style="text-align:center">N</td><td style="text-align:center">der</td><td style="text-align:center">das</td><td style="text-align:center">die</td><td style="text-align:center">die</td></tr><tr><td style="text-align:center">A</td><td style="text-align:center">den</td><td style="text-align:center">das</td><td style="text-align:center">die</td><td style="text-align:center">die</td></tr><tr><td style="text-align:center">D</td><td style="text-align:center">dem</td><td style="text-align:center">dem</td><td style="text-align:center">der</td><td style="text-align:center"><strong>denen</strong></td></tr><tr><td style="text-align:center">G</td><td style="text-align:center">dessen</td><td style="text-align:center">dessen</td><td style="text-align:center">deren</td><td style="text-align:center">deren</td></tr></tbody></table><p>关系代词第二格在从句代替主句中被修饰名词的第二格</p><p>Der Sohn fährt täglich mit dem Auto zur Schule.</p><p>Seine Mutter ist sehr reich.</p><p>Nebensatz mit Genitiv: Der Sohn, dessen Mutter sehr reich ist, fährt täglich mit dem Auto zur Schule.</p><p>Die Schülerin bekommt immer gute Noten.</p><p>Ihr Vater ist Schulleiter.</p><p>Nebensatz mit Genitiv: Die Schülerin, deren Vater Schulleiter ist, bekommt immer gute Noten.</p><p>Ich besuche die Eltern.</p><p>Ich habe dem Kind der Eltern geholfen.</p><p>Nebensatz mit Genitiv: Ich besuche die Eltern, deren Kind ich geholfen habe.</p><ul><li>dessen 和 deren 后直接加名词</li><li>dessen 和 deren 所限定的名词不能再加定冠词，但可以有形容词</li><li>dessen 和 deren 本身没有性数格的变化</li></ul><h1 id="10-15-带第二格关系代词的关系从句-2"><a class="markdownIt-Anchor" href="#10-15-带第二格关系代词的关系从句-2"></a> 10-15 带第二格关系代词的关系从句 (2)</h1><p>Herr Wang ist mein Chef.</p><p>Ich bin mit seiner Tochter befreundet.</p><p>Nebensatz mit Genitiv: Herr Wang, mit dessen Tochter ich befreundet bin, ist mein Chef.</p><p>Herr Wang hat mich entlassen.</p><p>Ich habe mich in seine Tochter verliebt.</p><p>Nebensatz mit Genitiv: Herr Wang, in dessen Tochter ich mich verliebt habe, hat mich entlassen.</p><p><strong>如果第二格关系代词前有介词，第二格关系代词不变化。</strong></p><h1 id="10-16-interview-mit-psychologen-1"><a class="markdownIt-Anchor" href="#10-16-interview-mit-psychologen-1"></a> 10-16 Interview mit Psychologen (1)</h1><p>das Phänomen-e （不寻常的）现象，奇迹</p><p>das Massenphänomene 大众现象，普遍现象</p><p>erstaunlich 令人惊讶的</p><p>erstaunt 感到惊讶的</p><p>kämen = würden kommen 第二虚拟式</p><p>irgendein 随便一个，任意一个</p><p>was auch immer 无论什么</p><p>auf einmal 突然有一次</p><p>das Kanus- 独木舟</p><p>benachbart 相邻的，毗邻的</p><h1 id="10-17-interview-mit-psychologen-2"><a class="markdownIt-Anchor" href="#10-17-interview-mit-psychologen-2"></a> 10-17 Interview mit Psychologen (2)</h1><p>vorübergehend 短暂地，转瞬即逝地，暂时地</p><p>das Mittelalter-/ 中世纪</p><p>der Akzent-e 口音，腔调，音调</p><p>das Urlaubsglück-/ 假期的快乐</p><p>bestehen in Dativ 在于……</p><p>beispielsweise 比如说，例如 = zum Beispiel</p><p>normalerweise 正常情况下</p><p>teilweise 部分地，局部地</p><p>verplanen 把……列入计划</p><p>der Lebensrhythmus 生活节奏</p><h1 id="10-18-traumstraßen-deutschlands-1"><a class="markdownIt-Anchor" href="#10-18-traumstraßen-deutschlands-1"></a> 10-18 Traumstraßen Deutschlands (1)</h1><p>das Volk-/ 平民，老百姓</p><p>der Stadtmusikant-en 城市音乐家</p><p>das Rotkäppchen- 小红帽</p><p>das Dornröschen 睡美人</p><p>ließen = lassen 过去式</p><p>der Autor-en 作者，作家，诗人</p><p>der Herrgott-/ 上帝</p><p>das Musterstück-e 样品，样板，典范</p><p>gelten als… 被视作</p><p>musterhaft 模范的，典范的，优秀的</p><p>sauber, fleißig, sparsam, pünktlich 干净，勤奋，节俭，准时</p><p>der Poet-en 诗人</p><p>zahlreich 无数的，众多的</p><p>der Schauplatz-&quot;e 发生地点，活动现场</p><p>die Literaturgeschichte 文学史</p><h1 id="10-19-traumstraßen-deutschlands-2"><a class="markdownIt-Anchor" href="#10-19-traumstraßen-deutschlands-2"></a> 10-19 Traumstraßen Deutschlands (2)</h1><p>als wäre es… 仿佛它是……</p><p>der Gipfel- 山峰，山顶</p><p>die Wolke-n 云，云雾，烟雾</p><p>umhüllen 把……裹上，把……包上</p><p>die Kurve-n 转弯处，弧线</p><p>die Illusion-en 错觉，幻觉，想象</p><p>jenseits + Genitiv 在……对面，在……另一边</p><p>herrlich 宏伟的</p><p>das Geschirr-/ 餐具</p><p>sich lohnen 值得</p><p>Es lohnt sich… ……是值得的</p><p>das Porzellan-e 瓷器，瓷</p><p>die Erfindung-en 发明，创造</p><p>kunstvoll 具有艺术价值的</p><p>sich ändern = sich verändern 改变</p><p>das Steingut 陶土，陶器</p><p>der Gebrauchsartikel- 日用品</p><h1 id="10-20-traumstraßen-deutschlands-3"><a class="markdownIt-Anchor" href="#10-20-traumstraßen-deutschlands-3"></a> 10-20 Traumstraßen Deutschlands (3)</h1><p>bestehen aus… 由……组成</p><p>bestehen in… 存在于……</p><p>die Burg-en （骑士的）城堡，堡垒</p><p>das Schloss-&quot;er （国王的）宫殿，城堡</p><p>lebendig 生动的，栩栩如生的</p><p>die Heerstraße-n 军用公路</p><p>die Handelsstraße-n 贸易路线</p><p>malerisch 绘画的，风景如画的</p><p>die Perle-n 珍珠</p><p>gereiht 一个挨着一个地</p><blockquote><p>Die Stühle standen gereiht um den Tisch. 椅子一把挨一把地摆在桌子四周。</p></blockquote><h1 id="10-21-mündliche-prüfung-1"><a class="markdownIt-Anchor" href="#10-21-mündliche-prüfung-1"></a> 10-21 Mündliche Prüfung (1)</h1><p>口语考试</p><p>口语考试会单独考试，或者组队考试</p><p>单独考试时考生与两位考官进行对话，组队考试是两位考生间进行对话。考试中心决定考试是否独自或组队考试</p><p>口语考试由三部分组成。</p><ul><li><p>„Kontaktaufnahme“ 建立联系</p><ul><li>问候</li><li>自我介绍</li><li>一些有关个人问题</li></ul><p>⚠️提问不要回答的太简单，多说点，和雅思一样。</p></li><li><p>„Gespräch über ein Thema“ 就某一主题进行讨论</p><ul><li>Informationen formulieren</li><li>Auf Partner reagieren</li><li>Fragen Sie nach/Argumenten</li><li>Gespräch weiterführen</li></ul><p>⚠️对话很怕冷场，冷场会影响分数。</p><p>⚠️自己主导对话， 尽量多说。</p></li><li><p>„Lösen einer Aufgabe“ 解决问题</p></li></ul><h1 id="10-22-mündliche-prüfung-2"><a class="markdownIt-Anchor" href="#10-22-mündliche-prüfung-2"></a> 10-22 Mündliche Prüfung (2)</h1><p><strong>Teil 2：„Gespräch über ein Thema“</strong></p><p>Informationen formulieren</p><p>Nehmen Sie sich genügend Zeit</p><p>花足够多的时间</p><p>- festzustellen, welche Informationen Ihnen die Tabelle oder das Bild gibt;</p><p>确定图表或图片中为您提供了哪些信息。</p><p>- zu überlegen, wie Sie diese Informationen am besten zusammenfassen können.</p><p>思考您如何最优化地总结这些信息。</p><p><em>Auf dem Bild sieht man ein ungewöhnliches Hochzeitsangebot deutscher Reisebüros.</em></p><p><em>在图片上人们看到一场由德国旅行社提供的不同寻常的婚礼项目。</em></p><p><em>Es sind zwei Personen in festlicher Kleidung, die Taucherbrillen und Pressluftgeräte zum Atmen tragen.</em></p><p><em>有两个人穿着礼服，戴着潜水眼镜和用来呼吸的氧气泵。</em></p><p><em>Die Frau hält einen Blumenstrauß in der Hand, der Mann steckt ihr einen Ring an den Finger.</em></p><p><em>女士手持一束花，男士为她戴上戒指。</em></p><p><em>Es handelt sich um eine Hochzeit unter Wasser beim Tauchen.</em></p><p><em>这幅图有关于一场水下潜水婚礼。</em></p><p>Auf Partner reagieren</p><p>Wenn Ihr Partner bzw. Ihr Prüfer über seine Tabelle oder sein Bild  informiert, dann zeigen Sie, dass Sie verstehen, was er sagt.</p><p>当您的搭档或者您的考官介绍他的图表或者图片时，您要展现出您理解了他说的话。</p><p>Fragen Sie nach, wenn Sie etwas nicht verstanden haben.</p><p>如果您有不懂的地方，请提出问题。</p><p><em>Wieso werden solche ungewöhnlichen Hochzeitsangebote überhaupt angeboten?</em></p><p><em>究竟为什么这样不同寻常的婚礼会被推出？</em></p><p><em>Der Wunsch nach außergewöhnlichen Hochzeiten steigt immer mehr, deswegen  gibt es auch Hochzeiten auf Berggipfeln, in einem Heißluftballon oder  bei den Flußpferden in Afrika.</em></p><p><em>对于非凡的婚礼的愿望越来越多，所以也有在山顶上、在热气球中或者在非洲与河马相伴的婚礼。</em></p><p><em>Würden Sie auch gern mal solch eine Hochzeit haben?</em></p><p><em>您也乐意举办一场这样的婚礼吗？</em></p><p><em>Lieber nicht. Ich bin eher der traditionelle Typ. Bei meiner Traumhochzeit  soll es Wiesen, Blumen, Wärme, Sonne und Buffet geben.</em></p><p><em>算了吧，我还算是一个比较传统的人。我理想中的婚礼应该有草坪、鲜花、温暖的天气、太阳和自助餐。</em></p><p>Gespräch weiterführen</p><p>Ergreifen Sie bei der weiteren Unterhaltung möglichst die Initiative.</p><p>尽可能地在拓展对话中掌握主动权。</p><p>So bestimmen Sie das Gespräch.</p><p>这样您就可以主导对话了。</p><p>Sprechen Sie auch hier möglichst ausführlich.</p><p>在这部分请您也尽可能地详细表达。</p><p><strong>Teil 3：„Lösen einer Aufgabe“</strong></p><p>In diesem etwa sechs Minuten langen Gespräch sollen Sie mit Ihrem Partner bzw. Prüfer eine Aufgabe lösen.</p><p>在约6分钟时长的对话中，您应与您的搭档或者考官完成一个任务。</p><p>Sie planen für Ihre Klasse eine einwöchige Deutschlandreise.</p><p>您正在为您的班级筹划为期一周的德国境内游。</p><p>Mit einer Mitschülerin/einem Mitschüler besprechen Sie, wie Sie diese Reise organisieren könnten.</p><p>您正在与一位同学商量，如果组织这场旅行。</p><p>Überlegen Sie sich alle Einzelheiten.</p><p>考虑到所有细节。</p><p>Vorschläge machen</p><p>提出建议</p><p>Ich schlage vor, wir…</p><p>Wir könnten vielleicht…</p><p>Wie finden Sie die Idee, …?</p><p>Was halten Sie davon, wenn wir…?</p><p>Am besten wäre es, wenn wir …</p><p>Auf Vorschläge positiv reagieren</p><p>同意建议</p><p>Das ist ein guter Vorschlag.</p><p>Die Idee gefällt mir.</p><p>Auf Vorschläge negativ reagieren</p><p>反对建议</p><p>Ich würde gern einen anderen Vorschlag machen.</p><p>Ich hätte vielleicht eine bessere Idee.</p><p>Da bin ich anderer Meinung.</p><p>Sich einigen</p><p>达成一致</p><p>Ja, so machen wir es.</p><p>Anrede</p><p>称谓</p><p>Achten Sie darauf, was für eine Rolle die Aufgabe vorgibt (z.B. ein Mitarbeiter oder ein Schüler an einer Schule ).</p><p>注意任务的角色（比如学校的工作人员，或者学生）</p><p>Wählen Sie die dazu passende Anredeform.</p><p>选择合适的称谓。</p><p>Meistens ist es die Sie-Form.</p><p>大多数情况下是尊称。</p><p>Kompensation</p><p>制衡，抵消</p><p>Fehlt Ihnen im Moment ein passendes Wort, z. B. blühende Wiese oder alkoholfreie Getränke, dann helfen Sie sich.</p><p>如果当下您想不到一个合适的词语，比如：盛开的草坪或者无酒精</p><p>饮料，则您要自己圆过去。</p><p>a) mit einer <strong>Umschreibung,</strong> z. B. Wiese, die bald ganz bunt sein</p><p>wird</p><p>换种说法，比如：马上将要变得鲜艳的草坪</p><p>b) mit einem Internationalismus, z. B. Softdrinks</p><p>使用国际词语，比如：软饮料</p><p>c) Wechseln Sie zu einem anderen Aspekt.</p><p>转移话题</p><p><strong>Dialog</strong></p><p>Schorsche: Ich schlage vor, dass wir unsere Reise nach Deutschland im November machen.</p><p>我提议，我们11月份去德国旅行。</p><p>Erika: Ich finde eine Deutschlandreise super, aber im November ist das Wetter schlecht. Ich würde lieber im Mai fahren, da ist der Frühling und es ist die schönste Zeit.</p><p>我觉得去德国旅行的点子棒极了，但是11月份天气很糟糕。我更喜欢在五月出游，那时候春天来了，是最美的季节。</p><p>Schorsche: Guter Vorschlag, akzeptiert. Wohin wollen wir denn fahren?</p><p>好提议，赞同。我们去哪里旅行呢？</p><p>Erika: Ich möchte nach Kassel reisen.</p><p>我想去卡塞尔旅行。</p><p>Schorsche: Kassel ist nur eine kleine Stadt und nicht so schön. Lass uns eine Rundreise machen: Berlin, Hamburg, Köln, Frankfurt und München.</p><p>卡塞尔只不过是一个小城市，也不漂亮。我们来个周游德国吧：柏林，汉堡，科隆，法兰克福和慕尼黑。</p><p>Erika: Du hast recht, hört sich prima an. Wie lange und mit welchem Transportmittel wollen wir reisen?</p><p>你说得对，听上去真不错。我们打算旅行多久？坐哪个交通工具呢？</p><p>Schorsche: Ich denke 10 Tage sollten genug Zeit sein. Ich habe doch einen  internationalen Führerschein. Wir mieten uns einfach ein Auto.</p><p>我觉得10天足够了。我不是有国际驾照嘛，我们干脆租辆车。</p><p>Erkia: Klasse! Aber bist du dann nicht zu müde vom fahren?</p><p>棒极了！但是开车你不会太累吗？</p><p>Schorsche: Du hast recht, lass uns den Zug nehmen, der ist auch billiger.</p><p>有道理，我们坐火车吧，也便宜。</p><p>Erika: Wir können ja in Air BnB günstige Zimmer buchen und dann sollte die Reise nicht mehr als 4.000 Euro kosten.</p><p>我们可以在Air BnB民宿网上租到便宜的房间，这样旅行花费就不会超过4000欧元了。</p><p>Schorsche: Das ist genau mein Budget. So machen wir das!</p><p>正好在我的预算中，就这么办吧！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Reise und Mobilität&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Verkehrsm</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 9 Neue Medien</title>
    <link href="https://tinsir888.github.io/posts/99e09448.html"/>
    <id>https://tinsir888.github.io/posts/99e09448.html</id>
    <published>2023-08-03T22:00:00.000Z</published>
    <updated>2023-08-12T08:29:36.882Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ul><li><p>Neue Medien</p></li><li><p>Auf Anrufbeantworter sprechen</p><p>Ein Erlebnis erzählen</p></li><li><p>Zustimmen und widersprechen</p><p>Informationen zusammenfassen</p></li><li><p>Gründe angeben: weil, denn, deshalb</p><p>Nebensatz: dass, ob</p></li></ul><h1 id="9-1-neue-medien"><a class="markdownIt-Anchor" href="#9-1-neue-medien"></a> 9-1 Neue Medien</h1><p>Briefe schreiben 写信</p><p>Faxe verschicken 发传真</p><p>E-Mails schreiben 写邮件</p><p>Papiere ordnen 整理文件（分类存档）</p><p>Papiere aufräumen 整理文件（归整）</p><p>Geld abheben 取钱</p><p>rechnen 计算</p><p>abrechnen 算账，清账</p><p>das Telegramm-e 电报</p><p>einen Termin ausmachen 敲定一个约会</p><p>das Einschreiben- 挂号信</p><p>Geld überweisen 转账</p><p>das Auslandsgespräch-e 国际长途电话</p><p>das Ferngespräch-e 长途电话</p><p>der Kopierer- 复印机</p><p>sich mit jmdm verabreden 与某人约见</p><p>sich nach Dativ erkundigen 打探，询问……消息</p><p>die Tastatur-en 键盘</p><p>das Modem-s 调制解调器</p><p>der Lautsprecher- 音响</p><p>der Bildschirm-e 屏幕</p><p>das Faxgerät-e 传真机</p><p>der Ordner- 文件夹</p><h1 id="9-2-kommunikationspannen-1"><a class="markdownIt-Anchor" href="#9-2-kommunikationspannen-1"></a> 9-2 Kommunikationspannen (1)</h1><p>fürchterlich 可怕的</p><p>sich streiten 争吵，吵架</p><p>sich zerstreiten 因吵架而关系破裂</p><p>bitter 苦的，极其不愉快的</p><p>sich über Akkusativ beklagen 诉苦，抱怨。与 beschweren 用法相同</p><p>kindisch 幼稚的</p><p>sich auf Akkusativ einlassen 参与，从事某事</p><p>habe = haben 在第三人称下的第一虚拟式，拉开与事实的距离，表中立</p><blockquote><p>Meine Kollegin sagte, dass sie krank war. 表示我也认同</p><p>Meine Kollegin sagte, dass sie krank gewesen sei. 表示我中立</p><p>Meine Kollegin sagte, dass sie krank gewesen wäre. 表示我不认同</p></blockquote><p>versehentlich 一不小心地，疏忽地，无意地</p><p>seither = seitdem</p><p>ungerecht 不公平的</p><p>jmdn behandeln 对待某人</p><p>der Affe-n 猴子，猿</p><p>sich beruhigen 冷静下来， 平静下来</p><p>schief laufen 出错，出故障</p><p>zugeben 招供，承认</p><h1 id="9-3-kommunikationspannen-2"><a class="markdownIt-Anchor" href="#9-3-kommunikationspannen-2"></a> 9-3 Kommunikationspannen (2)</h1><p>rangehen （立即）行动起来【口】</p><p>fieberhaft 发烧的，急切的，狂热的</p><p>zwischendrin 在……之间，期间</p><p>dies und das = 相当于英语的 this and that</p><p>sich für interessieren 对……感兴趣</p><p>jmdm einfallen 突然想起，回想起来</p><p>auf des Rätsels Lösung = auf die Lösung des Rätsels</p><p>der Mitbewohner- 室友</p><p>sich verlieben 坠入爱河</p><blockquote><p>Er verliebt sich frisch in sie.</p><p>Er ist frisch in sie verliebt.</p></blockquote><p>kurzfristig 短期的，仓促的</p><p>krank schreiben 写病假条</p><p>sich krank schreiben lassen 请病假</p><p>das Attest-e 医疗证明</p><p>faxen 发传真</p><p>die Unterlagen 材料，资料（复数）</p><p>die Taste-n 键盘上的按键</p><p>die Wahlwiederholung 重新拨号</p><h1 id="9-4-computerfieber"><a class="markdownIt-Anchor" href="#9-4-computerfieber"></a> 9-4 Computerfieber</h1><p>der Comic-s 漫画 = Manga</p><p>nach … süchtig sein 对……上瘾</p><p>Ich nehme an, … = Ich glaube, … = Ich meine, …</p><p><strong>Mit welchen Medien beschäftigen sich junge Deutsche in ihrer Freizeit?</strong></p><ul><li>Berichten Sie kurz, welche Informationen Ihnen die Statistik gibt.</li><li>Welche Ergebnisse finden Sie erstaunlich oder interessant? Welche nicht?</li></ul><p>Die meisten Mädchen und Jungen schauen sehr gerne Fernsehen. Es wundert mich gar nicht.</p><p>大多数的男女生都喜欢看电视，这一点我一点也不感到奇怪。</p><p>Fast genauso viel Mädchen hören sehr gerne CDs oder Musikkassetten wie Jungen.</p><p>喜欢听CD和音乐带的男女生几乎一样多。</p><p>Mehr Mädchen als Jungen hören gerne Radio.</p><p>女生比男生更喜欢听收音机。</p><p>Deutlich mehr Jungen als Mädchen benutzen den Computer gerne.</p><p>明显男生比女生更喜欢打电脑。</p><p>Aber viele Jungen lesen nicht so gerne Bücher. Ich habe mir schon gedacht, dass Mädchen mehr Bücher lesen als Jungen.</p><p>但是许多男生不太喜欢读书，这点我已经想到了，女生比男生读书更多。</p><p>Es ist doch klar, dass mehr Jungen Comics mögen als Mädchen.</p><p>男生比女生更喜欢看漫画，这点是一定的啦。</p><p>Das hätte ich nicht erwartet, dass kaum Jugendliche gerne ins Kino gehen.</p><p>我倒没有想到，青少年几乎不喜欢去电影院看电影。</p><h1 id="9-5-zur-welt-oder-sackgasse-1"><a class="markdownIt-Anchor" href="#9-5-zur-welt-oder-sackgasse-1"></a> 9-5 Zur Welt oder Sackgasse (1)</h1><p>die Sackgasse-n 死胡同</p><p>sich befinden 处于，在</p><p>die Fachmesse-n 专业博览会</p><p>Meinungen vertreten 维护观点，持有……观点</p><p>mit … umgehen 与……打交道</p><p>stattdessen 取而代之</p><p>sich herumtreiben 无所事事的闲逛</p><p>die Nichte-n 侄女，外甥女</p><p>der Neffe-n 侄子，外甥</p><p>der Waldspaziergang-&quot;e 森林散步</p><p>kein(e) einzige®(s) + 名词 没有一个……</p><p>die Baumart-en 树的种类</p><p>der Singvogel-&quot; 知更鸟</p><p>die Wiesenblume-n 草甸花</p><p>vielseitig 多种多样的，多才多艺的</p><h1 id="9-6-zur-welt-oder-sackgasse-2"><a class="markdownIt-Anchor" href="#9-6-zur-welt-oder-sackgasse-2"></a> 9-6 Zur Welt oder Sackgasse (2)</h1><p>die Sucht-/ 瘾</p><p>erleben 亲眼见到，亲身经历</p><p>betreffen 涉及，有关 v</p><p>betroffen 受波及的 过去分词作 adj</p><p>die Tendenz-en 趋势，倾向</p><p>die Vereinsamung-/ 孤单，孤寂</p><p>einschränken 限制 可分v</p><blockquote><p>das Tätigkeitsfeld stark einschränken 严格限制活动领域</p></blockquote><p>eingeschränkt 受限制的，约束的 adj</p><p>sich artikulieren 清楚的发音，明确的表达</p><blockquote><p>Kannst du dich nicht ein bisschen klarer artikulieren? 你就不能更清楚地表达自己吗？</p></blockquote><p>erschweren 使……变的困难</p><p>zwischenmenschlich 人际间的</p><p>wie so oft 像往常一样</p><p>halten … für … 认为……是……</p><p>für den besten = für den besten Weg</p><p>verteufeln 攻击，诋毁，谩骂</p><p>der Teufel- 鬼怪，魔鬼</p><p>überschätzen 高估</p><p>erleichtern 减轻，简化</p><p>bereichern 使……充实，使……富裕</p><p>ablenken 使……分心，分散注意力</p><p>die Dosis-sen 剂量，药量</p><p>Es kommt darauf an, dass… 这取决于……</p><h1 id="9-7-形容词词尾变化-3"><a class="markdownIt-Anchor" href="#9-7-形容词词尾变化-3"></a> 9-7 形容词词尾变化 (3)</h1><p>修饰复数名词的不定代词</p><p><strong>当作定冠词对待，后面形容词词尾都加 -en</strong></p><p>alle 所有</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center">Pl</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">alle</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">alle</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">allen</td><td style="text-align:center">-en</td></tr></tbody></table><p>mache 有些</p><p>solche 这些</p><p>beide 两者都</p><p>welche 哪些</p><p><strong>当作零冠词看待的不定代词：</strong></p><p>viel 许多</p><p>einige 一些</p><p>wenig 少许</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center"></th><th style="text-align:center">Pl</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">einige</td><td style="text-align:center">-e</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">einige</td><td style="text-align:center">-e</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">einigen</td><td style="text-align:center">-en</td></tr></tbody></table><blockquote><p>Ich habe alle warmen Kleidungsstücke mitgebracht, aber nur einige leichte Kleidungsstücke.</p></blockquote><p>viel/viele</p><p>viel/wenig + 不可数名词</p><blockquote><p>Er trinkt viel schwarzen Kaffee. Zu viel schwarzer Kaffee ist nicht gesund.</p></blockquote><p>viele/wenige + 可数名词</p><blockquote><p>Er isst viele frische Äpfel. Viele frische Äpfel sind gesund.</p></blockquote><h1 id="9-8-fünf-erfindungen-1"><a class="markdownIt-Anchor" href="#9-8-fünf-erfindungen-1"></a> 9-8 Fünf Erfindungen (1)</h1><p>故事六要素：人物、时间、地点、起因、经过、结果</p><p>tabu 禁忌的，忌讳的 adj</p><p>das Tabu-s 禁忌，忌讳</p><p>dadurch = damit</p><p>die Bord-Elektronik 机载电子</p><p>die Gefahr 危险</p><p>möglicherweise 有可能 adv</p><p>fatal 灾难性的</p><p>die Folge-n 结果，后果</p><p>der Vorfall-&quot;e 突发事件</p><p>beweisen 证明</p><p>der Inlandsflug=&quot;e 国内航班</p><p>der Luftpirat-en 空中海盗，劫机者</p><p>der Linienjet-s 喷气式固定航线飞机</p><p>etwas in seine Gewalt bringen 将……占为己有</p><p>erschießen 枪杀，射杀 - haben erschossen - erschoss</p><p>sowohl … als auch … 不仅……而且……</p><p>der Pilot-en 机长</p><p>der Copilot-en 副机长</p><p>überwältigen 制服，击退，战胜 不可分v</p><p>der Passagier-e 乘客</p><p>alarmieren 向……报警</p><p>nächstgelegen 最近的</p><p>Bombay 孟买</p><h2 id="handy-rettet-dutzende-von-menschenleben"><a class="markdownIt-Anchor" href="#handy-rettet-dutzende-von-menschenleben"></a> Handy rettet Dutzende von Menschenleben</h2><p>Wann passiert es?</p><blockquote><p>In der vergangenen Woche</p></blockquote><p>Wo passiert es?</p><blockquote><p>In einem Linienjet.</p></blockquote><p>Um wen geht es?</p><blockquote><p>Um einen Reisender.</p></blockquote><p>Warum passiert es?</p><blockquote><p>Ein Luftpirat brachte den Linienjet in seine Gewalt.</p></blockquote><p>Was passiert?</p><blockquote><p>Der Pilot und Copilot wurden erschossen. Danach wurde der Luftpirat überwältigt.</p></blockquote><p>Was ist das Ergebnis?</p><blockquote><p>Das Flugzeug konnte auf dem Flughafen von Bombay landen.</p></blockquote><h1 id="9-9-fünf-erfindungen-2"><a class="markdownIt-Anchor" href="#9-9-fünf-erfindungen-2"></a> 9-9 Fünf Erfindungen (2)</h1><p>der Papst-&quot;e 罗马天主教教皇</p><p>zahlreich 数量众多的 adj</p><p>der Vatikan 梵蒂冈</p><p>sperren 停用，冻结，封锁</p><p>sich an Akkusativ wenden 向……寻求帮助</p><p>örtlich 地方的，局部的</p><p>der Pfarrer- 牧师，教士</p><h2 id="heilige-e-mails"><a class="markdownIt-Anchor" href="#heilige-e-mails"></a> Heilige E-Mails</h2><p>Wann passiert es?</p><blockquote><p>Keine Angabe.</p></blockquote><p>Wo passiert es?</p><blockquote><p>In Vatikan.</p></blockquote><p>Um wen geht es?</p><blockquote><p>Um Papst Johannes Paul II.</p></blockquote><p>Warum passiert es?</p><blockquote><p>Die Menschen möchten sich an den Papst wenden.</p></blockquote><p>Was passiert?</p><blockquote><p>Er erhielt zahlreiche E-Mails.</p></blockquote><p>Was ist das Ergebnis?</p><blockquote><p>Der Zugang auf seine Internetseite wird gesperrt.</p></blockquote><p>Mauritius 毛里求斯</p><p>der Bummel- 溜达，闲逛</p><p>der Einkaufsbummel 逛街</p><p>verfügbar 可用的，可支配的</p><p>die Bergkette-n 山脉</p><p>versteckt 隐蔽的，隐藏的，潜伏的</p><p>der Kurort-e 疗养地</p><p>mit ruhigem Gewissen 安心的，问心无愧的</p><p>im Voraus 提前</p><p>ausbuchen 全部预定完，全部售完</p><p>Wann passiert es?</p><blockquote><p>Keine Angabe.</p></blockquote><p>Wo passiert es ?</p><blockquote><p>In Horntal. Die kleine Gemeinde in den bayerischen Alpen.</p></blockquote><p>Um wen geht es?</p><blockquote><p>Um die Horntaler.</p></blockquote><p>Warum passiert es?</p><blockquote><p>Kein Handy funktioniert in Horntal.</p></blockquote><p>Was passiert?</p><blockquote><p>Die Horntaler machen jetzt daraus ein Geschäft.</p></blockquote><p>Was ist das Ergebnis?</p><blockquote><p>Horntal ist für zwei Jahre im Voraus ausgebucht.</p></blockquote><h1 id="9-10-fünf-erfindungen-3"><a class="markdownIt-Anchor" href="#9-10-fünf-erfindungen-3"></a> 9-10 Fünf Erfindungen (3)</h1><p>das Boulevardblatt （以轰动性报道为特点的）马路小报</p><p>der Halsband-&quot;e 项圈</p><p>verschwinden 消失 - sein verschwunden - verschwand</p><p>allerdings 固然，诚然</p><p>genügend 充足的，足够的</p><p>sich zeigen 表现出，显露出</p><p>optimistisch - pessimistisch</p><p>Wann passiert es?</p><blockquote><p>Keine Angabe.</p></blockquote><p>Wo passiert es ?</p><blockquote><p>In Japan.</p></blockquote><p>Um wen geht es?</p><blockquote><p>Um Haustiere.</p></blockquote><p>Warum passiert es?</p><blockquote><p>Auch Haustiere sollen in Zukunft immer erreichbar sein.</p></blockquote><p>Was passiert?</p><blockquote><p>Das Gerät soll am Halsband befestigt werden.</p></blockquote><p>Was ist das Ergebnis?</p><blockquote><p>Das Gerät erleichtert die Suche nach verschwundenen Haustieren.Ju</p></blockquote><p>die Justiz-/ 司法</p><p>der Vollzug-/ 执行</p><p>die Anstalt-en 机构，机关</p><p>die Justizvollzuganstalt 监狱</p><p>das Gefängnis-se 监狱</p><p>der Anker- 支持，依靠</p><p>anlaufen 开始运行 可分v</p><p>der/die Strafgefangene 囚犯</p><p>… in die Lage versetzen 将……置于一种状态</p><p>pflegen 维护，照顾</p><p>Wann passiert es?</p><blockquote><p>Seit vergangenem Donnerstag.</p></blockquote><p>Wo passiert es ?</p><blockquote><p>In der Justizvollzugsanstalt Creppesheim.</p></blockquote><p>Um wen geht es?</p><blockquote><p>Um 100 Strafgefangene.</p></blockquote><p>Warum passiert es?</p><blockquote><p>Die Strafgefangenen sollen soziale Kontakte pflegen.</p></blockquote><p>Was passiert?</p><blockquote><p>Ein Projekt „Online-Anker“ ist angelaufen.</p></blockquote><p>Was ist das Ergebnis?</p><blockquote><p>Die Strafgefangenen sind per Internet mit ihren Familien, Freunden oder sonstigen Partnern verbunden.</p></blockquote><h1 id="9-11-denn-weil-deshalb-dass-ob"><a class="markdownIt-Anchor" href="#9-11-denn-weil-deshalb-dass-ob"></a> 9-11 denn, weil, deshalb, dass, ob</h1><h2 id="连词-deshalb-denn-weil"><a class="markdownIt-Anchor" href="#连词-deshalb-denn-weil"></a> 连词 deshalb denn weil</h2><p>deshalb 因此 占位连词</p><blockquote><p>Computer erleichtern das Leben. Deshalb sind sie nützlich.</p><p>Computer erleichtern das Leben. Sie sind deshalb nützlich.</p></blockquote><p>denn 因为 不占位连词</p><blockquote><p>Computer sind nützlich, denn sie erleichtern das Leben.</p></blockquote><p>weil 因为</p><blockquote><p>Computer sind nützlich, weil sie das Leben erleichtern.</p><p>Weil sie das Leben erleichtern, sind Computer nützlich.</p></blockquote><h2 id="dass-和-ob"><a class="markdownIt-Anchor" href="#dass-和-ob"></a> dass 和 ob</h2><p>dass 从句</p><blockquote><p>Ich glaube nicht, dass der Papst eine E-Mail-Adresse hat.</p></blockquote><p>ob 从句</p><blockquote><p>Ich bin nicht sicher, ob der Papst eine E-Mail-Adresse hat.</p></blockquote><h1 id="9-12-anrufbeantworter"><a class="markdownIt-Anchor" href="#9-12-anrufbeantworter"></a> 9-12 Anrufbeantworter</h1><p>außerhalb + Genitiv 在……之外【介词】</p><p>die Sprechzeit-en 接待时间</p><p>dringend 急切的，迫切的</p><p>sich an jmdn wenden 向……寻求帮助</p><p>der Notdienst-e 急救服务，抢险工作，救灾服务</p><p>der Verlag-e 出版社</p><p>belegt 被占用的，被占据的</p><p>der Signalton-&quot;e 信号声</p><p>die Gelegenheit-en 机会，机遇</p><p>der Baustein-e 砖头，模块</p><p>der Elektronikbaustein-e 电子模块</p><p>automatisch 全自动的</p><p>automatische Tür 自动门</p><p>der Geldautomat 自动取款机</p><h1 id="9-13-susannes-anrufbeantworter"><a class="markdownIt-Anchor" href="#9-13-susannes-anrufbeantworter"></a> 9-13 Susannes Anrufbeantworter</h1><p>der Krimi-s 侦探小说</p><p>Jochen - Verehrer</p><p>Buch zurück</p><p>ruft um 19 Uhr noch mal an</p><p>Zahnarztpraxis Dr. Krümmel - Zahnproblem</p><p>Termin verschieben</p><p>zurückrufen: 95 40 48</p><p>Steffen - Verehrer</p><p>ihn anrufen</p><p>im Auftrag von… 受某人的委托</p><p>„Monstermaus“ Firma - Bewerbung</p><p>Lersch zurückrufen</p><p>95 40 48</p><p>Alfred - Verehrer</p><p>heute noch anrufen</p><p>August - Verehrer</p><p>im Büro anrufen</p><p>die Sehnsucht 思恋，思慕，眷恋</p><p>Louis - Verehrer</p><p>übers Handy anrufen</p><p>0171 - 5 456 222</p><h1 id="9-14-零冠词"><a class="markdownIt-Anchor" href="#9-14-零冠词"></a> 9-14 零冠词</h1><ol><li><p>泛指的复数名词</p><p>Sie kaufen eine Tasche. (Sg.)</p><p>Sie kaufen Taschen. (Pl.)</p><p>Sie braucht einen Koffer. (Sg.)</p><p>Sie braucht Koffer. (Pl.)</p></li><li><p>表示职业、身份</p><p>Herr Tim ist Arzt.</p><p>Ich bin Student.</p><p><strong>但是如果这些名词前有形容词做定语，则必须加上冠词</strong></p><p>ein guter Arzt</p><p>ein fleißige Student</p></li><li><p>表示国籍</p><p>Herr Lin ist Chinese.</p><p>Frau Ono ist Japanerin.</p><p><strong>但是如果这些名词前有形容词做定语，则必须加上冠词</strong></p><p>ein Großer Chinese</p><p>eine schöne Japanerin</p></li><li><p>一些中性的城市名、国家名和联邦州名</p><p>in Europa</p><p>in Asien</p><p>Berlin hat 3,4 Mio. Einwohner.</p><p>Paris ist die Hauptstadt.</p><p>Deutschland</p><p><strong>这些名词前有形容词做定语，则必须加上冠词</strong></p><p>das große China</p><p>das schöne Berlin</p><p><strong>有几个国家必须使用定冠词：</strong></p><ul><li>die Schweiz (f.)</li><li>die USA (Pl.)</li></ul><p><strong>有些国家的全程有定冠词：</strong></p><ul><li>Die Bundesrepublik Deutschland (die BRD)</li><li>Die Volksrepublik China (die VR China)</li></ul></li><li><p>泛指物质名词</p><p>Wir kaufen Bier, Milch, Zucker, Wasser, Tee, Kaffee.</p><p><strong>这些名词前可以加上相应的量词：</strong></p><p>Wir kaufen eine Flasche Bier, eine Dose Cola.</p></li><li><p>泛指的抽象名词</p><p>Ich habe Zeit/Geld/Geduld/Hunger/Durst.</p><p>die Geduld-/ 耐心</p><p>der Durst-/ 口渴</p></li><li><p>表示学科的名词</p><p>Er studiert Chemie.</p><p>Ich studiere Informatik.</p></li></ol><p>der Engländer- 英国人</p><h1 id="9-15-kraftwerk-1"><a class="markdownIt-Anchor" href="#9-15-kraftwerk-1"></a> 9-15 Kraftwerk (1)</h1><p>der Pionier-e 先驱，开拓者</p><p>die elektronische Musik 电子音乐</p><p>der Titel- 头衔，作品</p><p>ausschließlich 专有的，独有的，仅仅 adv</p><p>（物做主语） handeln von = Es handelt sich um… 涉及，关于</p><p>sich als … darstellen 装扮，表演成</p><p>der Beitrag-&quot;e 贡献；会费，所交的费用；稿件，文章</p><p>der Studiogast-&quot;e 演播室嘉宾</p><p>der Takt-e 韵律，节奏，节拍</p><h1 id="9-16-kraftwerk-2"><a class="markdownIt-Anchor" href="#9-16-kraftwerk-2"></a> 9-16 Kraftwerk (2)</h1><p>die Kostprobe-n 品尝</p><p>seit langem 很久以前</p><p>das Geräusch-e 嘈杂声，声响</p><p>der Klang-&quot;e 声调，音调，音色</p><p>die Stimme-n 声音，噪音</p><p>dekorativ 装饰的，装修的</p><p>die Hintergrundmusik 背景音乐</p><p>maschinell 机械的</p><p>etwas als … bezeichnen 称作，作为</p><p>durchaus 完全，绝对</p><p>melodisch 旋律性的，调子优美的</p><p>der Reiz-e 刺激</p><p>das Publikum 公众，大众</p><p>hörbar 听得到的，听得见的</p><h1 id="9-17-kraftwerk-3"><a class="markdownIt-Anchor" href="#9-17-kraftwerk-3"></a> 9-17 Kraftwerk (3)</h1><p>halt 干脆 adv</p><p>die Computergrafik-en 计算机图像</p><p>die Gestaltung-en 艺术的造型</p><p>die Platte-n 光盘</p><p>sich anhören 听起来</p><p>musikalisch 音乐的</p><p>die Aussage-n 作品的思想内容</p><p>der Kern-e 核心，中心</p><p>etwas auf Akkusativ reduzieren 归结，压缩</p><blockquote><p>Er reduzierte seinen Vortrag auf die wichtigsten Punke.</p></blockquote><p>der Kult 宗教礼拜，狂热崇拜</p><p>der Status 状况，身份，地位</p><p>der Kultstatus 受到狂热崇拜的地位</p><p>etwas geht auf jmdn/etwas zurück （物作主语）起源于，追溯到，归根为……</p><h1 id="9-18-kraftwerk-4"><a class="markdownIt-Anchor" href="#9-18-kraftwerk-4"></a> 9-18 Kraftwerk (4)</h1><p>auftreten 登台，出场</p><p>die Bühne-n 舞台</p><p>kommerziell 商业的</p><p>nicht allzu 不太</p><p>scherzhaft 调侃地，打趣地</p><p>monoton 单声调的，无抑扬顿挫的</p><p>komplex 错综复杂的，多层次的</p><h1 id="9-19-schriftlicher-ausdruck-1"><a class="markdownIt-Anchor" href="#9-19-schriftlicher-ausdruck-1"></a> 9-19 Schriftlicher Ausdruck (1)</h1><p>书面表达：回复一封信</p><p>时间：30 分钟</p><ol><li>通读这封信和关键点</li><li>思考关键点有意义并符合逻辑的顺序</li><li>记下每个关键点可以说的两句话</li><li>借助笔记写信</li><li>仔细阅读自己写的，检查语法和拼写错误。</li></ol><p>我写的作文：</p><blockquote><p>Liebe Tanja,                                                                Wien, 18. 3. 2023</p><p>Vielen Dank für deinen Brief. Ich habe der Besuch von dir auch sehr gut gefallen.</p><p>Nachdem ich deine Brief erhielt hatte, habe ich lange nach dem Handy gesucht. Eventuell habe ich das Handy am den Tisch in Wohnzimmer gefunden. Heute schicke ich das Handy per Post HDL.</p><p>Hoffentlich kannst du ein paar Tage ohne Handy überlegen.</p><p>Liebe Grüße</p><p>Friedrich</p></blockquote><h1 id="9-20-schriftlicher-ausdruck-2"><a class="markdownIt-Anchor" href="#9-20-schriftlicher-ausdruck-2"></a> 9-20 Schriftlicher Ausdruck (2)</h1><ol><li><p>Ihnen hat der Besuch von Tanja auch sehr gut gefallen.</p><blockquote><p>Ich freue mich, dass es dir in Wien gefallen hat. Die Tage mit dir fand ich auch sehr schön.</p></blockquote></li><li><p>Sie haben lange nach Handy gesucht.</p><blockquote><p>Dein Handy habe ich sicherlich drei Stunden lang gesucht. Dabei habe ich alles Mögliche gefunden, nur nicht dein Handy.</p></blockquote></li><li><p>Sie haben das Handy an welchem Ort gefunden.</p><blockquote><p>Ganz zum Schluss habe ich noch im Badezimmer nachgesehen. Und siehe da: Es lag unter dem Waschbecken! Telefonierst du oft im Bad?</p></blockquote></li><li><p>Sie schicken das Handy per Post</p><blockquote><p>Ich gehe heute noch zur Post und schicke es dir.</p></blockquote></li></ol><p>德语考试书面表达需要关注：</p><ul><li>针对所有关键点都写了东西</li><li>使用正确的日期、称呼和问候</li><li>没有语法错误</li><li>用适当的词语</li><li>句子衔接好</li></ul><h1 id="9-21-folge-9-kwiddel"><a class="markdownIt-Anchor" href="#9-21-folge-9-kwiddel"></a> 9-21 Folge 9 - Kwiddel</h1><p>“Stadt - Land - Fluss” ist ein Brettspiel, bei dem man möglichst schnell eine Stadt, ein Land, einen Fluss, die alle mit dem selben Buchstaben beginnen.</p><h1 id="9-22-第二格形容词词尾变化"><a class="markdownIt-Anchor" href="#9-22-第二格形容词词尾变化"></a> 9-22 第二格形容词词尾变化</h1><p>形容词词尾变化已经学了第一格、第四格和第三格的情况</p><h2 id="零冠词"><a class="markdownIt-Anchor" href="#零冠词"></a> 零冠词</h2><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">-er</td><td style="text-align:center">-es</td><td style="text-align:center">-e</td><td style="text-align:center">e</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">-en</td><td style="text-align:center">-es</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">-em</td><td style="text-align:center">-em</td><td style="text-align:center">-er</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Genitiv</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-er</td><td style="text-align:center">-er</td></tr></tbody></table><p>零冠词时，阴性 复数 -er，其他情况 -en</p><blockquote><p>z. B.</p><p>der Preis schwarzen Tees</p><p>der Preis frischen Wassers</p><p>der Preis frischer Milch</p><p>die Meinungen berufstätiger Frauen</p></blockquote><h2 id="定冠词"><a class="markdownIt-Anchor" href="#定冠词"></a> 定冠词</h2><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">-en</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Genitiv</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td></tr></tbody></table><p>定冠词，二三格和复数+四格阳性 统统 -en</p><p>其他的情况统统 -e</p><blockquote><p>z. B.</p><p>das Spiel des neuen Spielers</p><p>die Übungen des alten Buches</p><p>der Sieg der bekannten Mannschaft</p><p>die Meinungen der berufstätigen Frauen</p></blockquote><h2 id="不定冠词-否定冠词和物主冠词"><a class="markdownIt-Anchor" href="#不定冠词-否定冠词和物主冠词"></a> 不定冠词、否定冠词和物主冠词</h2><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl</th></tr></thead><tbody><tr><td style="text-align:center">Nominativ</td><td style="text-align:center">-er</td><td style="text-align:center">-es</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Akkusativ</td><td style="text-align:center">-en</td><td style="text-align:center">-es</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Dativ</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">Genitiv</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td></tr></tbody></table><p>二三格和复数 统统-en</p><p>其他的相当于零冠词变化</p><blockquote><p>z. B.</p><p>das Spiel meines neuen Spielers</p><p>die Übungen unseres alten Buches</p><p>der Sieg unserer bekannten Mannschaft</p><p>die Meinungen unserer berufstätigen Frauen</p></blockquote><p>des Deutschen Fußball-Bundes</p><p>der ganzen Welt</p><p>des letzten Jahres</p><p>der ganzen Welt</p><p>des chinesischen Kung-Fus</p><p>die Beliebtheit- 受欢迎</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Neue Medien&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Auf Anrufbeantwor</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 8 Konsum</title>
    <link href="https://tinsir888.github.io/posts/57c0ae1e.html"/>
    <id>https://tinsir888.github.io/posts/57c0ae1e.html</id>
    <published>2023-07-28T22:00:00.000Z</published>
    <updated>2023-08-04T09:09:08.958Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ul><li><p>Konsum</p></li><li><p>Einkaufsgewohnheiten</p><p>Kleiderkauf</p></li><li><p>Begriffe definieren</p><p>Relativsätze</p></li><li><p>“werden” bei Passiv und Futur</p><p>Untrennbare Verben mit Vorsilbe “be-”</p></li></ul><h1 id="8-1-konsum"><a class="markdownIt-Anchor" href="#8-1-konsum"></a> 8-1 Konsum</h1><p>der Markt 市场（综合性购物，与生活相关）</p><blockquote><p>Drogeriemarkt 药妆市场</p><ul><li>das Shampoo-s 洗发水</li><li>das Toilettenpapier-/ 厕纸</li></ul><p>Flohmarkt 二手市场</p><ul><li>gebrauchte Sachen 二手物品</li></ul><p>Getränkemarkt 饮料市场</p><p>Heimwerkermarkt 家装市场</p><ul><li>das Werkzeug-e 工具</li></ul><p>Supermarkt 超市</p><ul><li>die Lebensmittel</li><li>das Brötchen-</li><li>das Waschpulver- 洗衣粉</li></ul><p>Wochenmarkt 一周市场</p><ul><li>die Blume-n 花</li></ul></blockquote><p>der Laden 商店，铺子（小型，出售某一特定商品）</p><blockquote><p>Buchladen 书店</p><ul><li>der Reiseführer- 旅游指南，导游</li></ul><p>Computerladen 电脑商店</p><ul><li>der Computer- 电脑</li></ul><p>Fahrradladen 自行车店</p><ul><li>das Fahrrad-&quot;er 自行车</li></ul><p>Gemüseladen 蔬菜铺</p><ul><li>das Gemüse-/ 蔬菜</li></ul><p>Schreibwarenladen 文具店</p><ul><li>die Videokassette-n 录像带</li></ul><p>Spielwarenladen 玩具店</p><ul><li>der Teddybär-en 泰迪熊</li></ul><p>Tabakladen 烟草铺</p><ul><li>die Zigarette-n 香烟</li></ul><p>Teeladen 茶叶铺</p><ul><li>der Tee-/ 茶叶</li></ul></blockquote><p>das Haus 大型商场（多层，占地面积大）</p><blockquote><p>Kaufhaus 百货公司</p><ul><li>der Anzug-&quot;e 西装</li><li>die Sonnenbrille-n 太阳镜</li><li>der Koffer- 行李箱</li></ul><p>Möbelbaus 家具商城</p><p>Reformhaus 专门出售改良食品的商店</p><ul><li>das Müsli-/ 麦片</li></ul><p>Versandhaus 邮购商店</p><ul><li>die Unterwäsche-n 内衣</li></ul></blockquote><p>der Händler 经销商（出售某一类特定商品，并提供专业咨询和服务）</p><blockquote><p>Buchhändler 图书经销商</p><p>Fachhändler 专业经销商</p><p>Gemüsehändler 蔬菜商</p></blockquote><p>der Bäcker- 面包师</p><p>der Metzger- 屠夫，卖肉的人</p><p>der Apotheker- 药剂师</p><p>der Optiker- 销售光学仪器的人</p><p>der Buchhändler- 书商</p><p>学科名均为阴性，学科人均为阳性。</p><h1 id="8-2-verkaufsgespräch"><a class="markdownIt-Anchor" href="#8-2-verkaufsgespräch"></a> 8-2 Verkaufsgespräch</h1><p>das Haushaltswarengeschäft-e 家居用品商店</p><p>die Konditorei-en 蛋糕店，糕点甜食店</p><p>das Schaufenster- 橱窗</p><p>die Lederhose-n 皮裤</p><p>die Stoffhose-n 西裤</p><p>die Strumpfhose-n 连裤袜</p><p>sich(Dativ) etwas merken 某人记住某物</p><p>Gestatten Sie, dass…? 可以吗？劳驾……行吗？</p><p>das Modell-e 款式，型号</p><p>die Art-/ 风格，特性</p><p>sich anfühlen 摸上去……</p><blockquote><p>Das Sofa fühlt sich sehr hart an.</p></blockquote><p>das Hirschleder 鹿皮</p><p>empfindlich 敏感的，易坏的，脆弱的</p><p>das Muster- 样式，图案，花样</p><p>feminin 女性的</p><p>die Trachtenhose-n 吊带皮短裤</p><p>die Stickerei-en 刺绣，镶边</p><p>auffällig 突出的，引人注目的</p><p>zur Not 必要时，紧急情况时</p><p>der Kassenzettel- 收银小票</p><p>bar zahlen 现金支付</p><h1 id="8-3-werbeanzeigen-1"><a class="markdownIt-Anchor" href="#8-3-werbeanzeigen-1"></a> 8-3 Werbeanzeigen (1)</h1><p>关系从句：主句，关系代词（性数看前，格看后） + 从句（动词置尾）</p><h2 id="词语解释"><a class="markdownIt-Anchor" href="#词语解释"></a> 词语解释</h2><p>Orangenhaut 橘皮</p><p>Haut an Beinen oder Po, die überall kleine tiefe Stellen hat wie eine Orange.</p><p>腿部和臀部周边的皮肤，到处有像橙子一样小的坑坑洼洼。</p><p>das Internet 网络</p><p>Das Computernetz, in dem man weltweit kommunizieren kann.</p><p>人们可以用它来联系全球各地的电脑网络。</p><p>der Wissenschaftler 科学家</p><p>Eine Person mit wissenschaftlicher Ausbildung, die sich mit Wissenschaft beschäftigt.</p><p>一个接受过科学领域教育，从事与科学相关工作的人。</p><p>die Boutique 精品店</p><p>Ein kleines Geschäft, das vor allem modische Bekleidung verkauft.</p><p>一家主要出售流行服饰的小店。</p><p>die E-Mail-Adresse 邮箱地址</p><p>Eine virtuelle Anschrift, mit der man Briefe online schreiben kann.</p><p>一个虚构地址，人们用它来在网上写信。</p><p>aufgedruckt 印刷的</p><p>bekämpfen 与……斗争，克服</p><p>der Name-n 名字</p><p>aussuchen 挑选</p><p>die Boutique-s 精品店</p><p>das Kleidungsstück-e 单件衣服</p><p>der Stern-e 星星</p><p>neue Mode 新时尚</p><p>sich ärgern über… 对……生气</p><h1 id="8-4-werbeanzeigen-2"><a class="markdownIt-Anchor" href="#8-4-werbeanzeigen-2"></a> 8-4 Werbeanzeigen (2)</h1><p>die Studie-n 科研，论文</p><p>das Marktforschungsinstitut-e 市场研究机构</p><p>die Macht-/ 权力，权势</p><p>der Forscher- 研究人员</p><p>der Artikel- 商品，文章</p><p>betragen 总数为</p><p>der Anteil-e 份额，比重，比例</p><p>der Wille-n 意愿，意向</p><p>der Schoko-Snack-s 巧克力零食，小吃</p><p>der Schönheitsfehler- 美中不足，瑕疵</p><p>neuerdings 最近，不久前</p><p>die Cellulitis 皮下脂肪团</p><p>besteht in 存在于</p><p>die Substanz-en 物质，材料（化学）</p><p>bewirken 导致……结果，引起</p><p>entstehen 形成，产生，出现</p><p>die Reibung 摩擦</p><p>der Oberschenkel- 大腿</p><p>der Unterschenkel- 小腿</p><p>dünn 瘦的，薄的</p><h1 id="8-5-werbeanzeigen-3"><a class="markdownIt-Anchor" href="#8-5-werbeanzeigen-3"></a> 8-5 Werbeanzeigen (3)</h1><p>entlaufen 在逃的，正在逃跑的</p><p>der Häftling-e 囚犯</p><p>die Haft-/ 拘留，监禁</p><p>der Trendsetter- 引领潮流的人</p><p>mit etwas zu tun haben 与……有关</p><p>es gibt etwas zu kaufen/sehen 有一些……可购买/观看</p><p>besteht aus 由……组成</p><p>der Zusatz-&quot;e 补充，附加物</p><p>neulich 不久前，最近 adv</p><p>fortlaufend 连续的，完整的，不间断的 adj</p><p>nummerieren 给……编号</p><p>anhängen 挂上</p><p>etwas hängt einer Sache an 与……相联系</p><p>taufen 为……洗礼，为……命名</p><p>die Astronomie-/ 天文学</p><h1 id="8-6-不可分前缀-be-"><a class="markdownIt-Anchor" href="#8-6-不可分前缀-be-"></a> 8-6 不可分前缀 be-</h1><p>带有 be- 的不可分动词，词意有相关延伸，但有更高的相关度，动词完成度更全面完整。</p><p>auf die Frage antworten（解答≠解决问题）</p><p>die Fragen beantworten（问题得到解答并理解）</p><p>Malst du?（强调动作）</p><p>die ganze Wand bemalen（强调结果）</p><p>带有 be- 的不可分动词，是<strong>及物动词</strong>，一般支配<strong>四格</strong>宾语</p><p>bestehen - stehen 存在</p><blockquote><p>Das Geschäft besteht/steht noch nicht lange. 这家商店开的还不久</p><p>Wasser besteht aus Wasserstoff und Sauerstoff. 水是由氢和氧组成的。</p></blockquote><p>befragen - fragen 询问（befragen 问的比较深入）</p><blockquote><p><strong>nach</strong> dem Weg fragen</p><p><strong>über</strong> die Gesundheit <strong>be</strong>fragen</p></blockquote><p>beraten - raten 给……出主意，向……提出意见</p><blockquote><p>beraten + Akkusativ</p><p>raten + Dativ</p></blockquote><p>bekämpfen - kämpfen 斗争</p><blockquote><p>Die Strumpfhose bekämpf die Orangenhaut.</p><p>kämpfen für… 为……斗争</p><p>kämpfen gegen… 抗争……</p></blockquote><p>benennen - nennen 取名</p><p>还有一些带有 be- 的不可分动词，词意与原动词完全不同</p><p>wirken 显得，起作用 - bewirken 导致……的结果</p><p>tragen 穿，提着 - betragen 总数为</p><p>sitzen 坐 - besitzen 占有</p><p>streiken 罢工</p><h1 id="8-7-zahlungsmittel"><a class="markdownIt-Anchor" href="#8-7-zahlungsmittel"></a> 8-7 Zahlungsmittel</h1><p>die Geldbörse-n 钱包</p><p>daraufhin 紧接着，接下来</p><p>piepsen 滴滴叫</p><p>spucken 吐</p><p>peinlich 尴尬的，难堪的</p><p>rasch 迅速地，急忙地</p><p>以 wer 引导的主语从句，放第一位，整体作为主句的主语。“谁要是……，就……”</p><h1 id="8-8-弱变化名词"><a class="markdownIt-Anchor" href="#8-8-弱变化名词"></a> 8-8 弱变化名词</h1><h2 id="弱变化名词的特点"><a class="markdownIt-Anchor" href="#弱变化名词的特点"></a> 弱变化名词的特点</h2><ol><li><p>弱变化名词只出现在阳性名词中（das Herz 除外）</p></li><li><p>其复数形式以 -n/-en 结尾</p></li><li><p>区别于普通阳性名词，弱变化名词除了第一格保持原形</p><p><strong>其余变格都产生弱变化形式，词尾加上 -n/-en，即变成复数形式</strong></p><p>z. B. Student</p><blockquote><p>第一格：Er ist Student.</p><p>第四格：Ich hole einen Studenten ab.（弱变化）</p><p>第三格：Ich gebe dem Studenten ein Buch.（弱变化）</p><p><strong>Student 依旧是单数，但是产生了弱变化</strong></p></blockquote></li></ol><h2 id="哪些是阳性弱变化名词"><a class="markdownIt-Anchor" href="#哪些是阳性弱变化名词"></a> 哪些是阳性弱变化名词</h2><ol><li><p>以 -e 结尾的阳性名词</p><table><thead><tr><th style="text-align:center">第一格</th><th style="text-align:center">第四铬</th><th style="text-align:center">第三格</th></tr></thead><tbody><tr><td style="text-align:center">der Junge</td><td style="text-align:center">den Jungen</td><td style="text-align:center">dem Jungen</td></tr><tr><td style="text-align:center">der Kollege</td><td style="text-align:center">den Kollegen</td><td style="text-align:center">dem Kollegen</td></tr><tr><td style="text-align:center">der Chinese</td><td style="text-align:center">den Chinesen</td><td style="text-align:center">dem Chinesen</td></tr></tbody></table></li><li><p>以 -and -ant -ent 结尾的阳性名词</p><table><thead><tr><th style="text-align:center">第一格</th><th style="text-align:center">第四铬</th><th style="text-align:center">第三格</th></tr></thead><tbody><tr><td style="text-align:center">der Student</td><td style="text-align:center">den Studenten</td><td style="text-align:center">dem Studenten</td></tr><tr><td style="text-align:center">der Assistent</td><td style="text-align:center">den Assistenten</td><td style="text-align:center">dem Assistenten</td></tr><tr><td style="text-align:center">der Dozent 大学讲师</td><td style="text-align:center">den Dozenten</td><td style="text-align:center">dem Dozenten</td></tr></tbody></table></li><li><p>以 -ist 结尾的阳性名词</p><table><thead><tr><th style="text-align:center">第一格</th><th style="text-align:center">第四格</th><th style="text-align:center">第三格</th></tr></thead><tbody><tr><td style="text-align:center">der Polizist</td><td style="text-align:center">den Polizisten</td><td style="text-align:center">dem Polizisten</td></tr><tr><td style="text-align:center">der Pessimist</td><td style="text-align:center">den Pessimisten</td><td style="text-align:center">dem Pessimisten</td></tr><tr><td style="text-align:center">der Optimist</td><td style="text-align:center">den Optimisten</td><td style="text-align:center">dem Optimisten</td></tr></tbody></table></li><li><p>特殊阳性名词</p><table><thead><tr><th style="text-align:center">第一格</th><th style="text-align:center">第四格</th><th style="text-align:center">第三格</th></tr></thead><tbody><tr><td style="text-align:center">der Nachbar</td><td style="text-align:center">den Nachbarn</td><td style="text-align:center">dem Nachbarn</td></tr><tr><td style="text-align:center">der Mensch</td><td style="text-align:center">den Menschen</td><td style="text-align:center">dem Menschen</td></tr><tr><td style="text-align:center">der Herr</td><td style="text-align:center">den Herrn</td><td style="text-align:center">dem Herrn</td></tr></tbody></table><p><strong>⚠️Herr 的弱变化和复数不一样！</strong></p></li><li><p>唯一一个中性名词</p><p>das Herz - das Herz（第四格不变） - dem Herz<strong>en</strong></p></li></ol><h1 id="8-9-gruß-aus-dem-internetcafé"><a class="markdownIt-Anchor" href="#8-9-gruß-aus-dem-internetcafé"></a> 8-9 Gruß aus dem Internetcafé</h1><p>德语邮件</p><p>An: Email Adresse</p><p>Kopie: CC 抄送 BCC 加密抄送</p><p>Betreff: Thema der Nachricht</p><p>strahlend 发光的，光芒四射的</p><p>der Höhepunkt-e 亮点，顶点，高潮</p><p>restlos 毫无保留的，完全彻底的</p><p>jmdm/etwas(Dativ) zu verdanken 归功于……</p><h1 id="8-10-spiel-auktion"><a class="markdownIt-Anchor" href="#8-10-spiel-auktion"></a> 8-10 Spiel: Auktion</h1><p>der Rollstuhl-&quot;e 轮椅</p><p>der Handkoffer- 手提箱</p><p>die Tastatur-en 键盘</p><p>die Skiausrüstung-en 滑雪装备</p><p>das Souvenir-s 纪念品</p><p>das Reisegepäck 旅行袋</p><p>der Kamm-&quot;e 梳子</p><p>die Fischdose-n 鱼罐头</p><p>die Spritze-n 针头，注射器</p><p>der Hammer-&quot; 榔头</p><p>der Kassettenspieler- 磁带播放机</p><p>versteigern 拍卖</p><p>der Anbieter 卖家</p><p>die Gelegenheit-en 机会，良机，机遇</p><h1 id="8-11-der-hammer-in-netz-1"><a class="markdownIt-Anchor" href="#8-11-der-hammer-in-netz-1"></a> 8-11 Der Hammer in Netz (1)</h1><p>als sei = als ob + 从句 似乎是……，搞得……一样</p><p>vorbeischauen 随便看看</p><p>das Auktionshaus 拍卖行</p><p>auf der Suche nach… 表目的</p><p>das Gebot-e 报价，出价</p><p>das Dreifache 三倍</p><p>das Mehrfache 数倍</p><p>registriert 注册了的，登记了的</p><p>gegen 反对；凭借</p><p>Ruhe bewahren 保持冷静</p><p>bot = bieten 的过去式</p><p>der Mausklick 鼠标单击</p><p>versteigern 拍卖（实义动词）</p><p>在德语实际用语习惯中，当从句出现两个助动词时，情态助动词优先置于最后一位。</p><p>aus allen Wolken fallen 震惊不已</p><p>sich nicht träumen lassen, dass… 做梦都没有想到……</p><p>angeben 告知，说明，陈述</p><p>verärgert 愤怒的（强调被外界激怒）</p><p>verbindlich 有约束力的，有义务的</p><h1 id="8-12-der-hammer-in-netz-2"><a class="markdownIt-Anchor" href="#8-12-der-hammer-in-netz-2"></a> 8-12 Der Hammer in Netz (2)</h1><p>der Rechtsanwalt-&quot;e 律师</p><p>Entscheidend ist… 决定性的是…… = Was entscheidend ist…</p><p>Wichtig ist… 重要的是……</p><p>der Auktionspreis-e 拍卖价格</p><p>behaupten 断言，主张，硬说</p><p>zurücktreten 撤回，往后退，收回（可分v）</p><p>der Richter- 法官，审判员</p><p>der Mittelweg 中间的路，折中的办法</p><p>verpflichtet 有义务的，有责任的</p><p>der/die Meistbietende-n 最高出价者</p><p>weit unter 远低于</p><p>liefern 提供，交付，销售</p><p>die Verwirrung 困惑，迷惑，混乱</p><h1 id="8-13-eine-andere-art-des-einkaufens-1"><a class="markdownIt-Anchor" href="#8-13-eine-andere-art-des-einkaufens-1"></a> 8-13 Eine andere Art des Einkaufens (1)</h1><p>der Aufschlag 涨价，加价</p><p>der Lieferschein-e 发货单，交货单</p><p>die Identifikation-en 识别，鉴定，验证</p><p>aufkleben 贴上，黏上</p><p>draufkleben 贴到那上面去</p><p>der Adressaufkleber- 地址贴纸</p><h1 id="8-14-eine-andere-art-des-einkaufens-2"><a class="markdownIt-Anchor" href="#8-14-eine-andere-art-des-einkaufens-2"></a> 8-14 Eine andere Art des Einkaufens (2)</h1><p>hinterlassen 留下（可分v）</p><p>der Abholer- 取件人</p><p>inklusive + 第二格 包括</p><p>die Ersatzlieferung 补偿交货</p><h2 id="复习-werden-作助动词"><a class="markdownIt-Anchor" href="#复习-werden-作助动词"></a> 复习 werden 作助动词</h2><h3 id="一般将来时"><a class="markdownIt-Anchor" href="#一般将来时"></a> 一般将来时</h3><p>Morgen werde ich meinen Pullover mit dem richtigen Waschmittel waschen.</p><p>werden + 动词原形</p><h3 id="被动态"><a class="markdownIt-Anchor" href="#被动态"></a> 被动态</h3><p>Ein Pullover wird mit dem richtigen Waschmittel gewaschen.</p><p>werden + 过去分词</p><h1 id="8-15-hörverstehen-teil-3"><a class="markdownIt-Anchor" href="#8-15-hörverstehen-teil-3"></a> 8-15 Hörverstehen Teil 3</h1><p>在这部分考试中，将听到5篇短文（广播通知，天气预报或者同类型题材）</p><p>听前准备：划关键词，推测听力场景和目的。</p><p>听力中：往往不会出现和题干一模一样的关键词，但会出现近义词，表达相同的意思，比如：</p><ul><li>Supermarkt - Laden, Geschäft</li><li>verlassen - ausgehen, an der Kasse bezahlen</li></ul><p>不要纠结听不懂的单词，要学会掌握全局意思</p><h1 id="8-16-folge-8-großeinkauf"><a class="markdownIt-Anchor" href="#8-16-folge-8-großeinkauf"></a> 8-16 Folge 8 - Großeinkauf</h1><p>Räucherstäbchen 熏香</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Konsum&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Einkaufsgewohnheiten&lt;/</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 7 Zwischenmenschliche Beziehungen</title>
    <link href="https://tinsir888.github.io/posts/fa672077.html"/>
    <id>https://tinsir888.github.io/posts/fa672077.html</id>
    <published>2023-07-04T22:00:00.000Z</published>
    <updated>2023-07-28T08:04:49.247Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ul><li><p>Zwischenmenschliche Beziehungen</p></li><li><p>Auffordern</p><p>Ratschläge geben</p></li><li><p>Um einen Gefallen bitten</p><p>Streiten und beschwichtigen</p></li><li><p>Imperativ und andere Aufforderungsformen</p><p>Finalsätze: um zu…, damit…</p></li></ul><h1 id="7-1-zwischenmenschliche-beziehungen"><a class="markdownIt-Anchor" href="#7-1-zwischenmenschliche-beziehungen"></a> 7-1 Zwischenmenschliche Beziehungen</h1><p>wütend 气愤的，生气的</p><p>frohgestimmt 很开心</p><p>egoistisch 自私的</p><p>erschrocken 惊吓的</p><p>schockiert 受惊吓的</p><p>neugierig 好奇的</p><p>ahnungslos 一无所知的</p><p>herzlos 无所谓的</p><p>unschuldig 冤枉的，无辜的</p><p>hilflos 无助的</p><p>die Menschenkenntnis-/ 人性知识</p><p>einordnen 分类，排列 可分v</p><p>beurteilen 判断，评价</p><p>das Gegenüber- 面对面的人</p><p>bewegen 挪动，移动；打动</p><p>anhand + 第二格 根据……</p><p>der Psychotest-e 心理测试</p><p>ermitteln 弄清，查明</p><p>die Urteilsfähigkeit-/ 判断力，洞察力</p><p>anpassen Akkusativ Dativ 调整 Akkusativ 使其与 Dativ 相配</p><p>die Körperhaltung 身体姿势，体态</p><p>spiegelbildlich 镜像的，对称的</p><p>verwirren 使混乱，使糊涂</p><p>betrachten 注视，观察，打量</p><p>das Pärchen- 年轻的一对男女</p><p>das Liebespaar-e 情侣</p><p>lächelnd 正在笑的，微笑的</p><p>das Frauengesicht-er 女人的脸</p><p>temperamentvoll 充满热情的，热烈的</p><p>das Temperament-/ 热烈，活泼的性格</p><p>sich etwas mit jmdm teilen 与某人分享某物</p><p>die Armlehne-n 扶手</p><p>lehnen 倚，靠</p><p>mitdenken 共同思考</p><p>nach … suchen 搜寻，挨个寻找</p><p>der Gegenstand-&quot;e 物品，物件</p><h1 id="7-2-der-psychotest-1"><a class="markdownIt-Anchor" href="#7-2-der-psychotest-1"></a> 7-2 der Psychotest (1)</h1><p>der Händedruck-/ 握手</p><p>genügen 足够，足以 v</p><p>das Urteil-e 评价，判断 动词：beurteilen</p><p>die Charaktereigenschaft-en 性格特质</p><p>der Charakter-e 性格</p><p>die Eigenschaft-en 品质，特性</p><p>das Studium-dien 大学学习；研究</p><p>Es entscheidet sich （某事被）决定</p><p>die Körpersprache 身体语言</p><p>der Tonfall-/ 语调，声调</p><p>die Stimmlage-/ 声区，音区</p><p>der Sprachinhalt-e 讲话内容</p><p>die Auswertung-en 评分，评定</p><p>körpersprachlich 身体语言的</p><p>das Signal-e 信号</p><p>einschätzen = beurteilen 评价，评估</p><p>zufällig 偶然的，意外的 名词：der Zufall-&quot;e</p><p>wirken 显得，看上去……，起作用</p><p>auf jmdn … wirken 给某人……的印象</p><p>die Beurteilung-en 评价</p><p>der Mitmenschen-en 周围的人，身边人</p><p>Akkusativ für Nomen/Adjektiv halten 把……视为，把……看作</p><p>entweder … oder … 要么……，要么……（连词不占位）</p><p>interpretieren 解说，解读，阐明</p><p>vergleichen A mit B 将 A 和 B 作比较</p><p>der Gesichtsausdruck-&quot;e 面部表情</p><h1 id="7-3-der-psychotest-2"><a class="markdownIt-Anchor" href="#7-3-der-psychotest-2"></a> 7-3 der Psychotest (2)</h1><p>unbewegt 静止的，不动的</p><p>anders bei … 在……情况下则不同</p><p>anders von … 与……不同</p><p>herabhängen 下垂，悬挂</p><p>unbeteiligt 未参与的，心不在焉的</p><p>die Desinteresse-/ 不感兴趣，无动于衷</p><p>die Mauer-n 围墙，城墙</p><p>der Tenor 要旨，基本观点</p><p>die Kontaktaufnahme-n 建立联系</p><p>sowohl… als auch… = nicht nur… sondern auch…</p><p>das Temperament-/ 热烈、活泼的性格</p><p>temperamentvoll 充满热情的</p><p>das Echo-s 回声</p><p>unbewusst 无意识的，潜意识的</p><p>die Last-en 负担，负重</p><p>auf den Schultern lasten 压在肩上</p><p>etwas wirkt sich auf Akkusativ aus 某事对……产生影响</p><h1 id="7-4-wiederholung-imperativ"><a class="markdownIt-Anchor" href="#7-4-wiederholung-imperativ"></a> 7-4 Wiederholung: Imperativ</h1><p>Vergessen Sie aber nicht.</p><p>ihr-Form: Vergesst aber nicht.</p><p>du-Form: Vergiss aber nicht.</p><p>Achten Sie darauf.</p><p>ihr-Form: Achtet darauf.</p><p>du-Form: Achte darauf.</p><p>Denken Sie darüber nach.</p><p>ihr-Form: Denkt darüber nach.</p><p>du-Form: Denk darüber nach.</p><p>Halten Sie Ihre …</p><p>ihr-Form: Haltet eure …</p><p>du-Form: Halte deine Mitmenschen nicht für ahnungslos!</p><p>Machen Sie sich mehr Gedanken über andere!</p><p>ihr-Form: Macht euch mehr Gedanken über andere!</p><p>du-Form: Mach dir mehr Gedanken über andere!</p><p>Vergleichen Sie den Eindruck.</p><p>ihr-Form: Vergleicht den Eindruck.</p><p>du-Form: Vergleiche den Eindruck.</p><p>Testen Sie vor dem Spiegel verschiedene Gesichtsausdrücke und achten Sie darauf, …</p><p>ihr-Form: Testet vor dem Spiegel verschiedene Gesichtsausdrücke und achtet darauf, …</p><p>du-Form: Teste vor dem Spiegel verschiedene Gesichtsausdrücke und achte darauf, …</p><h2 id="复习命令式"><a class="markdownIt-Anchor" href="#复习命令式"></a> 复习命令式</h2><p>表示愿望、请求、命令，没有时态。只出现在 Sie、wir、du、ihr 的人称中。</p><p>尊称命令式 Sie 最简单：动词原形 + Sie + … (bitte) !</p><p>命令式 wir：动词原形 wir + … (bitte) !</p><p>非尊称命令式 ihr：动词在 ihr 的变位 + … (bitte) !</p><p>非尊称命令式 du：动词在 du 变位后的词干 + … (bitte) !</p><p>动词词干以 -t -d -ffn -chn 等结尾，du 命令式则需在词干后加上 -e</p><blockquote><p>Arbeitest - arbeite</p><p>Öffnest - Öffne</p></blockquote><p>变元音动词必须去掉变音，比如 Fährst 变 Fahr</p><p>三个特殊动词的命令式：</p><p>sein</p><p>尊称 Sie: seien</p><p>非尊称 ihr: seid</p><p>非尊称 du: sei</p><p>haben</p><p>尊称 Sie: haben</p><p>非尊称 ihr: habt</p><p>非尊称 du: hab</p><p>werden</p><p>尊称 Sie: werden</p><p>非尊称 ihr: werdet</p><p>非尊称 du: werde</p><h1 id="7-5-bitten-um-einen-gefallen-1"><a class="markdownIt-Anchor" href="#7-5-bitten-um-einen-gefallen-1"></a> 7-5 bitten um einen Gefallen (1)</h1><p>vordrängeln 插队</p><p>der Kinobesucher- 电影观众</p><p>der Monitor-e/-en 显示器</p><p>der Sieger- 冠军</p><p>der Testsieger- 测试冠军</p><p>vorführen 展示并说明其性能</p><p>der Discounter- 折扣店</p><p>prinzipiell 原则上 adv</p><p>das Prinzip-pien 原则</p><p>die Katze im Sack kaufen 在没看到实物之前付款</p><p>das Rückgaberecht-/ 退货权</p><p>die Ausnahme-n 例外，特殊情况</p><p>die Aufnahme-n 接受，接收</p><p>die Maßnahme-n 手段，措施</p><p>der Fachhändler- 专业经销商</p><p>der Gefallen-/ 效劳，举手之劳</p><h1 id="7-6-bitten-um-einen-gefallen-2"><a class="markdownIt-Anchor" href="#7-6-bitten-um-einen-gefallen-2"></a> 7-6 bitten um einen Gefallen (2)</h1><p>um … bitten 请求某事</p><p>das Rauchverbot-en 禁烟</p><p>auf Akkusativ verzichten 停止做某事，放弃做某事</p><p>der Asthmatiker- 哮喘病人</p><p>die Atemnot 呼吸急促，呼吸困难</p><p>atmen 呼吸</p><p>der Atem-/ 呼吸</p><p>die Not-&quot;e 困境，危难</p><p>der Notfall 紧急情况</p><p>die Zumutung-en 过分要求，苛求</p><p>Würde es Ihnen etwas ausmachen, …? 您介意……吗？</p><p>abzählen 数清，点清</p><p>haben es eilig 赶时间</p><p>Nimm dir Zeit! 慢慢来！</p><p>das Halteverbot-/ 禁止停车</p><p>die Politesse-n 女交警</p><p>der Politeur-e 男交警</p><p>ausnahmsweise 破例地，行特例的</p><h1 id="7-7-bitten-um-einen-gefallen-3"><a class="markdownIt-Anchor" href="#7-7-bitten-um-einen-gefallen-3"></a> 7-7 bitten um einen Gefallen (3)</h1><p>Schönen guten Morgen!</p><p>Guten Morgen die Dame!</p><p>Ihr Schal gefällt mir sehr.</p><p>Ja, der Schal ist wirklich schön, danke.</p><p>Heute ist sehr kalt und windig, da würde ich den Schal sehr gut gebrauchen können, Ich möchte Ihnen diesen gerne hier und sofort abkaufen.</p><p>Ach, wissen Sie was? Ich überlasse Ihnen den Schal für 10 Euro. Ich sehe, wie sehr Sie frieren.</p><p>überlassen 转让 不可分v</p><p>frieren 结冰，挨冻</p><p>Prima! Hier zehn Euro!</p><p>Hier, Ich hoffe er hält Sie warm. Ihnen steht er viel besser als mir!</p><p>Vielen Dank!</p><p>Hallo, entschuldigen Sie bitte. Ich muss dringend in die Toilette. Wären Sie so nett und passen für 5 Minuten auf meinen Hund auf?</p><p>dringend 紧迫的</p><p>Ja, wie bitte? Meinen Sie mich? Sie wollen, dass ich auf diesen Hund aufpassen soll? Der ist ja so groß wie ein Pferd!</p><p>Der sieht nur so, aber ist ganz lieb und tut nichts.</p><p>Hätten Sie einen Pekinesen, dann wäre es ok. Aber Ihr Hund macht mir Angst. Und wieso nehmen Sie eigentlich Ihren Hund nicht mit in die Toilette?</p><p>der Pekinese-n 北京人；京巴犬</p><p>Der ist doch männlich!</p><h1 id="7-8-traumfrauen-und-supermänner"><a class="markdownIt-Anchor" href="#7-8-traumfrauen-und-supermänner"></a> 7-8 Traumfrauen und Supermänner</h1><h2 id="charakter"><a class="markdownIt-Anchor" href="#charakter"></a> Charakter</h2><p>ängstlich 胆小的</p><p>faul 懒惰的</p><p>korrekt 廉洁的</p><p>kühl 冷漠的</p><p>neugierig 好奇的</p><p>tolerant 宽容的</p><p>unkompliziert 不复杂的</p><p>verrückt 疯狂的</p><p>bescheiden 简朴的，要求不高的</p><p>ehrlich 诚实的</p><p>frech 放肆的，调皮的</p><p>humorvoll 充满幽默感的</p><p>kritisch 批判的，严厉的</p><p>offen 开明的，坦然的</p><p>treu 忠贞的，信得过的</p><p>vernünftig 理性的</p><p>zuverlässig 值得信赖的</p><h2 id="gewohnheiten"><a class="markdownIt-Anchor" href="#gewohnheiten"></a> Gewohnheiten</h2><p>sparsam 节省的</p><p>ordentlich 井井有条的</p><p>ruhig 安静的</p><h2 id="aussehen"><a class="markdownIt-Anchor" href="#aussehen"></a> Aussehen</h2><p>blasse Haut 苍白的皮肤</p><h2 id="andere-eigenschaften"><a class="markdownIt-Anchor" href="#andere-eigenschaften"></a> Andere Eigenschaften</h2><p>dumm 愚蠢的</p><p>durchschnittlich 普普通通的</p><p>realistisch 现实的</p><p>vergesslich 健忘的</p><h2 id="gemütszustande"><a class="markdownIt-Anchor" href="#gemütszustande"></a> Gemütszustande</h2><p>böse 凶的</p><p>dankbar 感恩的</p><p>stolz 骄傲的</p><p>legen keinen Wert auf Akkusativ 不在乎，不重视</p><p>sich auf jmdn verlassen 指望，信任某人</p><p>sich(Dativ) etwas Akkusativ merken 记得</p><h1 id="7-9-ist-es-wahr"><a class="markdownIt-Anchor" href="#7-9-ist-es-wahr"></a> 7-9 Ist es wahr</h1><p>verschenken （作为礼物）赠送</p><p>jmdm fluchen 诅咒，咒骂某人</p><p>mürrisch 闷闷不乐，有情绪的</p><p>brechen 打破，折断，违背 du brichst - er bricht - haben gebrochen - brach</p><p>sich beklagen = sich beschweren 抱怨</p><p>schrill 尖锐的，刺耳的</p><p>sich frieren 感到寒冷，挨冻</p><p>das Kopfweh 头疼</p><p>plagen 折磨，纠缠，使痛苦</p><p>der Kummer-/ 苦闷，忧愁，忧伤</p><p>fressen 狼吞虎咽 - du frisst - er frisst - haben gefressen - fraß</p><p>vollkommen 完美无瑕的；彻底的，完全的</p><h1 id="7-10-streitgespräch-1"><a class="markdownIt-Anchor" href="#7-10-streitgespräch-1"></a> 7-10 Streitgespräch (1)</h1><p>sachlich 实事求是的，就事论事的</p><p>lächerlich 可笑的，荒谬的</p><p>die Bartstoppel-n 胡茬子，胡子根</p><p>allemal 反正，无论如何 adv</p><p>Es reicht mir! 我受够了！</p><p>ahnen 感知，预感 v</p><p>die Ahnung-en 知情</p><p>ahnungslos = keine Ahnung 不知道</p><p>die Kleinlichkeit 小气</p><p>kleinlich 吹毛求疵的，小气的</p><p>hassen 讨厌，反感；厌恶</p><p>die Tube-n 软管</p><h1 id="7-11-streitgespräch-2"><a class="markdownIt-Anchor" href="#7-11-streitgespräch-2"></a> 7-11 Streitgespräch (2)</h1><p>bloß = doch 加强命令或问句的语气，小品词</p><p>ausgerechnet 偏偏，恰好</p><h1 id="7-12-原因目的从句"><a class="markdownIt-Anchor" href="#7-12-原因目的从句"></a> 7-12 原因/目的从句</h1><h2 id="目的从句"><a class="markdownIt-Anchor" href="#目的从句"></a> 目的从句</h2><p>um zu 为了，以便 从句后的内容为产生主句动作的目的</p><p><strong>如果主从句中行为主体一致时，通常用 um zu 结构。</strong></p><p><strong>如果主从句中行为主体不一致时，必须只能用 damit。</strong></p><p>目的从句可前置或后置</p><p><strong>目的从句结构中不能使用情态动词 wollen möchten 和 sollen，因为连词 damit 和 um zu 本身就有“为了”的意思。</strong></p><p>对目的从句提问一般用 warum，wozu，mit welcher Absicht，zu welchem Zweck。</p><h2 id="原因从句"><a class="markdownIt-Anchor" href="#原因从句"></a> 原因从句</h2><p>原因从句和它们的主句一起表达了一种原因和结果的逻辑关系。从句表达原因，主句表达结果。</p><p><strong>由连词 weil 引导的从句既可以前置，也可以后置。</strong></p><p>Ich kann Herrn Weber nicht anrufen, weil er im Ausland ist.</p><p>Weil Herr Weber im Ausland ist, kann ich ihn nicht anrufen.</p><p>**由连词 da 引导的从句只能前置。**原因的语气更强烈。</p><p>Da sie zu Hause bleiben will, kommt sie nicht mit.</p><p>Da er kein Geld hat, kann er kein Auto kaufen.</p><h1 id="7-13-nervensägen-1"><a class="markdownIt-Anchor" href="#7-13-nervensägen-1"></a> 7-13 Nervensägen (1)</h1><p>die Nervensäge-n 讨厌鬼</p><p>der Snob 假绅士</p><p>der Streithammel 好斗者</p><p>der Scherzkeks 小丑</p><p>der Geizkragen 铁公鸡</p><p>der Schleimer 马匹精</p><p>如果动词可以产生“让某人……”的意思的时候，通常可以接双宾语（人三物四）</p><p>frustriert 令人沮丧的，受到挫折的</p><p>die Lebensfreude-n 生活乐趣</p><p>die Typologie 类型学</p><p>auftretend 登场的</p><p>auftreten 登场，出场</p><p>spüren 察觉到，感觉到 v = fühlen</p><p>sich mit Dativ beschäftigen 与……打交道；从事于……</p><p>eitel 爱慕虚荣的</p><p>wichtigtuerisch 自以为了不起的，摆架子的</p><p>herabsehen 俯视</p><p>herabhängen 下垂，悬挂</p><p>der Anlass-&quot;e 动机，诱因，理由</p><p>die Grundsatzdebatte-n 原则辩论</p><p>sich mit Dativ anlegen 与某人争吵，挑衅</p><p>dessen 第二格关系代词，引导关系从句</p><p>allmählich 逐渐地，慢慢地 adv</p><p>verstecken 藏匿，隐匿</p><h1 id="7-14-nervensägen-2"><a class="markdownIt-Anchor" href="#7-14-nervensägen-2"></a> 7-14 Nervensägen (2)</h1><p>der Scherz 笑话</p><p>der Keks 饼干</p><p>die Witzelei-en 开玩笑</p><p>die Gelegenheit-en 时机，机遇，良机</p><p>zu jmds Lasten gehen 给某人造成负担</p><p>Witze reißen 开玩笑</p><p>die Aggression-en 侵略，攻击</p><p>geizig 吝啬的</p><p>der Kragen 动物颈部的羽毛</p><p>sich(Dativ) etwas(Akkusativ) von/bei jmdm leihen 向某人借某物（借入）</p><p>jmdm etwas leihen 借给某人某物（借出）</p><p>sich nähern 靠近</p><p>verschwinden 消失，不见 - sein verschwunden - verschwand</p><p>mit … geizig 对……抠门，小气</p><p>die Anerkennung 承认，肯定</p><p>der Vorteil-e 优点，优势；好处，利益</p><p>honigsüß 甜蜜的；虚情假意的</p><p>bemerken 发觉，注意到，察觉</p><h1 id="7-15-auch-plutonianer-können-nerven"><a class="markdownIt-Anchor" href="#7-15-auch-plutonianer-können-nerven"></a> 7-15 Auch Plutonianer können nerven</h1><p>der Schatten- 影子</p><p>der Jupiter 木星</p><p>die Abzweigung 分岔口</p><p>der Zweig-e 树枝，支线</p><p>die Orientierung 方位，定位</p><p>der Pluto 冥王星</p><p>entzückend 令人陶醉的，引人入胜的</p><p>die Milliarde-n 十亿</p><p>Durchmesser 直径</p><p>schuld an Dativ sein 对某事有过错，对某事有责任</p><p>der Planet-en 行星</p><p>der Kerl-e 家伙，小子（相当于重庆话：崽儿，含贬义）</p><p>der Drache-n 龙</p><p>sich aus dem Weg gehen 回避，摆脱</p><p>sich beruhigen 平静下来，安静下来</p><p>续写</p><blockquote><p>Dieser Kerl ist wirklich eine Nervensage, ist wohl schon zu lange alleine hier auf Pluto.</p><p>Ich habe auch den Eindruck, dass er ziemlich viel von dem doch sehr leckeren Pluto Alkohol trinkt. 我也发现，他喝了太多冥王星酒了，不过真的好喝。</p><p>Und dann hat er einen Drachen gebaut. Ja, gebaut! 然后他造了一条龙。对人造的！</p><p>Und man kann sich auch nicht wirklich aus dem Weg gehen, denn der Pluto ist schon sehr klein! 而且你还真没法回避，因为冥王星就这么大。</p><p>Die Aussicht ist dennoch einfach super, auf den Jupiter und Saturn und ganz da hinten, dieser kleine blaue Punkt, das ist die Erde. Wie schön unser Planet doch ist. 但视野真的超级好，俯视着木星和土星。还有相当远的那个蓝色的小点，地球。我们的星球多美啊。</p><p>Liebe Hannelore, mach dir keine Sorgen, wir kommen zurecht. 亲爱的 Hannelore，别担心，我们一切安好。</p><p>Und unser Nachbar wird sich auch beruhigen, er hatte ja noch nie Besuch hier auf Pluto. 我们的邻居也慢慢安静下来了，他在冥王星上从来都没有访客。</p><p>LG aus Pluto</p></blockquote><p>LG = Liebe Grüße</p><h1 id="7-16-hörverstehen-teil-2"><a class="markdownIt-Anchor" href="#7-16-hörverstehen-teil-2"></a> 7-16 Hörverstehen Teil 2</h1><p>听一段对话，两遍，正误判断。</p><p>听前准备：划关键词，猜测主题，根据常识提前判断。</p><p>sachlich 就事论事的，客观的</p><h1 id="7-17-folge-7-heinzis-date"><a class="markdownIt-Anchor" href="#7-17-folge-7-heinzis-date"></a> 7-17 Folge 7 Heinzis Date</h1><p>Der Flop-s 失败，不成功</p><p>strukturieren 组织，安排</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Zwischenmenschliche Beziehungen&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 6 Lernen</title>
    <link href="https://tinsir888.github.io/posts/c8050fda.html"/>
    <id>https://tinsir888.github.io/posts/c8050fda.html</id>
    <published>2023-06-11T22:00:00.000Z</published>
    <updated>2023-07-04T04:53:38.058Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ul><li><p>Lernen</p></li><li><p>Personen beschreiben</p><p>Ein Ereignis erzählen</p></li><li><p>Konjunktionen: als, wenn</p><p>Konjunktionen: bevor, nachdem</p></li><li><p>Plusquamperfekt</p><p>Antonyme mit -un</p></li></ul><h1 id="6-1-als-wenn-wann"><a class="markdownIt-Anchor" href="#6-1-als-wenn-wann"></a> 6-1 als wenn wann</h1><h2 id="als"><a class="markdownIt-Anchor" href="#als"></a> als</h2><p>Er hat einen Job als Taxifahrer “作为”（Rolle, Beruf, Funktion）</p><p>Ich bin jünger als meine Schwester. “比”（Vergleich）</p><p>Als wir oben ankamen, waren wir sehr stolz. “当……的时候”</p><h2 id="wenn"><a class="markdownIt-Anchor" href="#wenn"></a> wenn</h2><p>“如果”（Bedingung, irreale Aussage）</p><p>Wenn er nicht arbeiten muss, kommt er zu meiner Feier.</p><p>Wenn er mehr Zeit hätte, würde er eine Fremdsprache lernen.</p><p>“当……的时候”</p><p>Wenn ich Deutsch lerne, höre ich Musik.</p><p>Wenn meine Mutter nicht zu Hause war, saßen wir vor dem Fernseher.</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">发生在现在</th><th style="text-align:center">发生在过去</th><th style="text-align:center">一次性发生</th><th style="text-align:center">多次发生</th></tr></thead><tbody><tr><td style="text-align:center">als</td><td style="text-align:center">×</td><td style="text-align:center">√</td><td style="text-align:center">√</td><td style="text-align:center">×</td></tr><tr><td style="text-align:center">wenn</td><td style="text-align:center">√</td><td style="text-align:center">√</td><td style="text-align:center">×</td><td style="text-align:center">√</td></tr></tbody></table><p>als = einmalig - Vergangenheit</p><p>wenn = mehrmalig - Präsens und Vergangenheit 看句子里是否出现频率相关的表达</p><p>„wann“ = Fragewort 什么时候？ + 特殊疑问句/从句</p><h1 id="6-2-plusquamperfekt-过去完成时及其被动态"><a class="markdownIt-Anchor" href="#6-2-plusquamperfekt-过去完成时及其被动态"></a> 6-2 Plusquamperfekt 过去完成时及其被动态</h1><p>现在发生的事情，用 <em>一般现在时</em></p><p>过去某一时间点发生的事情，用 <em>现在完成时</em> 或者 <em>过去式</em>。</p><h2 id="过去完成时"><a class="markdownIt-Anchor" href="#过去完成时"></a> 过去完成时</h2><p>过去某一时间点之前发生的事情，用 <em>过去完成时</em></p><p><strong>过去完成时一般不能单独使用。往往与过去时的句子连用</strong>，表示事情发生比过去时的句子更早。</p><p>现在完成时：Ich habe mich so oft mit ihnen gestritten.</p><p>过去完成时：Ich hatte mich so oft mit ihnen gestritten.</p><p>现在完成时：Schließlich bin ich einfach weggelaufen.</p><p>过去完成时：Schließlich war ich einfach weggelaufen.</p><p><strong>过去完成时 = hatten/waren + 过去分词</strong></p><h2 id="过去完成时被动态"><a class="markdownIt-Anchor" href="#过去完成时被动态"></a> 过去完成时被动态</h2><p>完成时被动态</p><p>Der Arzt hat Herrn Zhang operiert.</p><p>现在时被动态：Herr Zhang wird vom Arzt operiert.</p><p>现在完成时被动态：Herr Zhang ist vom Arzt operiert worden. (不是 geworden！！！werden 变成完成时比较特殊)</p><p>过去完成时被动态：Herr Zhang war vom Arzt operiert worden. (不是 geworden！！！)</p><h1 id="6-3-bevor-nachdem-时间从句"><a class="markdownIt-Anchor" href="#6-3-bevor-nachdem-时间从句"></a> 6-3 bevor, nachdem 时间从句</h1><p>bevor 在……之前（从句连词） + 从句</p><p>nachdem 在……之后（从句连词） + 从句</p><p>Zuerst: Mein Vater zog aus.</p><p>Dann: Die Probleme fingen an.</p><p>过去完成时：Bevor die Probleme anfingen, war mein Vater ausgezogen.</p><p>过去完成时：Nachdem mein Vater ausgezogen war, fingen die Probleme an.</p><p>过去时：Bevor die Probleme anfingen, zog mein Vater aus.</p><p>Nachdem + 从句过去完成时，主句过去时</p><p>Nachdem 有严格的时态要求。Nachdem 后的时态必须提前于主句中的时态</p><p>Bevor 没有严格的时态要求。Bevor + 从句过去时，主句可以过去完成时也可以过去时</p><p>vor 在……之前（介词）+ 名词</p><p>nach 在……之后（介词）+ 名词</p><p>Man bat alte Leute um Rat, bevor man eine wichtige Entscheidung traf.</p><p>nachdem 后的时间先发生，bevor 后的事情后发生。</p><p>nachdem后的时态向前推一个，bevor前后时态可保持一致。</p><h1 id="6-4-erinnerungsfotos-1"><a class="markdownIt-Anchor" href="#6-4-erinnerungsfotos-1"></a> 6-4 Erinnerungsfotos (1)</h1><p>der Gipfel 山顶，山峰</p><p>die Urgroßmutter 曾祖母</p><p>auf jmdn hören 听某人的话</p><p>bat um Rat… = bitten um Rat 过去式 请教</p><p>Entscheidung treffen 做出决定</p><p>heilig 庄严的，神圣的 adj</p><p>beängstigend 令人惧怕的 adj</p><p>beängstigen 使恐惧，使不安 v</p><p>ängstlich 胆小的，害怕的 adj</p><h1 id="6-5-erinnerungsfotos-2"><a class="markdownIt-Anchor" href="#6-5-erinnerungsfotos-2"></a> 6-5 Erinnerungsfotos (2)</h1><p>die Schultüte-n 开学礼包</p><p>sein … gestimmt 具有……心情</p><p>nicken 点头</p><p>Es hat etwas mit … zu tun. 这和……有关</p><p>viel zu früh-/ 太早了</p><p>die Weile-/ 片刻</p><p>eine kurze Weile 短时间</p><p>Es stellt sich heraus, dass … 结果表明</p><p>erstaunt 惊奇的，惊讶的</p><p>sich[Akkusativ] schminken 化妆</p><p>der Handgriff-e 操作，手势</p><p>schlich = schleichen 悄悄地走，潜行 - sein geschlichen</p><p>die Schminksache-n 化妆品</p><p>hinkriegen 搞定，完成（口语）</p><p>… haben es hingekriegt. 某人搞定了某事</p><h1 id="6-6-erinnerungsfotos-3"><a class="markdownIt-Anchor" href="#6-6-erinnerungsfotos-3"></a> 6-6 Erinnerungsfotos (3)</h1><p>als das ist … 好像</p><p>jammern 苦苦哀求</p><p>grässlich 恐怖的，令人毛骨悚然的</p><p>maulen 嘟囔，发牢骚</p><p>derartig 如此的，这样的</p><p>losgehen 动身，出发</p><p>derartig/so…, dass… 如此……以致于……</p><p>marschieren 行军，进行</p><p>der Gipfel- 山峰，山顶，顶会（相当于英语单词 summit）</p><p>schwitzen 出汗</p><p>情态动词 + 现在完成时 = 对过去发生的事情进行推断</p><p>das Internat-e 寄宿学校</p><p>im Dauerstress sein 处于持久不间断的压力中</p><p>die Architektin-nen 女建筑师</p><p>wahnsinnig 疯狂的，精神错乱的；极其的（口语）</p><p>empfinden 感到，察觉</p><p>etwas als adj empfinden 感到……</p><p>beginnen + 带 zu 不定式 开始做某事</p><blockquote><p>beginnen zu arbeiten</p><p>beginnen Sport zu trieben</p></blockquote><p>unrecht 没道理的，错误的，不公平的</p><p>zu Unrecht sein</p><p>vergeblich 徒劳的，毫无结果的</p><p>der Krach-/ 争吵，责骂，训斥</p><p>besorgt 担心的，忧虑的</p><h1 id="6-7-erinnerungsfotos-4"><a class="markdownIt-Anchor" href="#6-7-erinnerungsfotos-4"></a> 6-7 Erinnerungsfotos (4)</h1><p>形容词比较长的时候，通常会加反义词缀构成反义词</p><p>modern - unmodern</p><p>freundlich - unfreundlich</p><p>interessant - uninteressant</p><p>sympathisch - unsympathisch</p><p>humorvoll - humorlos</p><p>gefühlvoll - gefühllos</p><p>liebevoll - lieblos</p><p>fantasievoll - fantasielos</p><h1 id="6-8-zwei-lehrer-1"><a class="markdownIt-Anchor" href="#6-8-zwei-lehrer-1"></a> 6-8 Zwei Lehrer (1)</h1><p>dreiteilen 将……分为三份</p><p>sein… dreigeteilt 被分为三份</p><p>sich anstrengen 努力，想方设法</p><p>der Fünfer- 5分（巴伐利亚算法）不及格</p><p>der Sechser- 6分 差</p><p>der Vierer- 4分 及格</p><p>der Dreier- 3分 良</p><p>der Zweier- 2分 优良</p><p>der Einser- 1分 优秀</p><p>der Kasper- 丑角，滑稽角色</p><p>die Null-en 零</p><p>zuschlagen 使劲关上 - haben zugeschlagen - zuschlug</p><p>rufen 喊叫 - haben gerufen - rief</p><p>grinsend 幸灾乐祸，冷嘲热讽地</p><p>das Gelächter-/ 哄堂大笑</p><p>schaffen 达到</p><p>nahm = nehmen 过去式</p><p>jmdn ernst nehmen = im Ernst nehmen 认真对待</p><p>spannend 紧张的，令人兴奋的</p><p>Außer dass… + 从句 除了……</p><blockquote><p>Wir müssen nichts bezahlen, außer dass du willst. 我们什么都不用付，除非你想付。</p></blockquote><p>heuer = dieses Jahr [奥，瑞] 今年</p><p>Es wird geben. = Es gibt. 将来时</p><h1 id="6-9-zwei-lehrer-2"><a class="markdownIt-Anchor" href="#6-9-zwei-lehrer-2"></a> 6-9 Zwei Lehrer (2)</h1><p>der Liebling-e 宠儿，宝贝，亲爱的</p><p>naturwissenschaftlich 自然科学的</p><p>die Begabung-en 天赋，才能，才华</p><p>der Verlierer- 失败者</p><p>所有复数名词第三格词尾如果没有 s 或 n，则需要加 n，如 den Eisern.</p><p>anstrahlen 照射，照耀；喜气洋洋地看</p><p>lobend 赞美地，夸赞地</p><p>ordentlich 井然有序的，工整的</p><p>auf … Hoffnung haben = auf … hoffen 希望，期待某事</p><p>verfliegen 流逝，消逝</p><p>hören + 动词原形 听见某人做某事</p><p>knallen （砰的一声）猛摔</p><p>glatt 光滑的，平滑的</p><p>第二虚拟式过去式 = 在现在完成时基础上，将助动词改为虚拟式</p><p>der Kommentar-e 评论，评注</p><p>die Elite-n 精英，优秀分子</p><p>der Mut-/ 勇气</p><h1 id="6-10-stimme-aus-vergangenheit-1"><a class="markdownIt-Anchor" href="#6-10-stimme-aus-vergangenheit-1"></a> 6-10 Stimme aus Vergangenheit (1)</h1><p>过去的声音</p><p>jmdn. sprechen = mit jmdm. sprechen</p><p>sich an Akkusativ erinnern 记得……</p><p>allerdings 当然，自然</p><p>Wie komme ich zu der Ehre, dass… 我如何有这个荣幸，……</p><p>der Kongress-e 代表大会，国际性的大型会议</p><p>blöderweise 愚蠢的是</p><p>wenigstens = mindestens 至少</p><p>gewöhnt sein 习惯了</p><p>werden gehasst 被憎恨</p><p>blöd 愚蠢的，生气的，不愉快的</p><p>lauter 【口】真正的，不折不扣的</p><p>jmdm über den Weg laufen 碰到某人</p><p>eben 正好，恰巧；就……呗（小品词）</p><p>aus den Augen verlieren 失去联系</p><p>das Laufwerk 驱动装置</p><p>schieben 推动，塞 - haben geschoben - schob</p><p>die Spitzname-n 外号，绰号</p><p>wagen 冒着……的危险</p><p>Ich wage es nicht. 我不敢做这事。</p><h1 id="6-11-stimme-aus-vergangenheit-2"><a class="markdownIt-Anchor" href="#6-11-stimme-aus-vergangenheit-2"></a> 6-11 Stimme aus Vergangenheit (2)</h1><p>zugeben 招人，供认，承认</p><p>sich etwas überlegen 思考，思虑</p><p>当双宾语都是代词时，先四格后三格</p><blockquote><p>Wenn ich es mir überlege.</p></blockquote><p>das Adressenbesorgen 获取地址</p><p>jmdm bei Dativ helfen 在某方面帮助某人</p><p>überraschend 意外的，令人吃惊的</p><p>das Pfingsten 圣灵降临日</p><p>zusammenhocken 聚在一起</p><p>hocken 蹲，懒洋洋地坐</p><p>die Freistunde-n 两节课之间或两段工作时间之间的自由支配时间</p><p>der Stahl-/ 钢</p><p>das Chrom-/ 铬</p><p>technomäßig 有科技感的</p><p>halt 简直，干脆，只好，就是</p><h1 id="6-12-einladung-zum-klassentreffen"><a class="markdownIt-Anchor" href="#6-12-einladung-zum-klassentreffen"></a> 6-12 Einladung zum Klassentreffen</h1><p>vergehen 流逝，消逝 - sein vergangen - verging</p><p>allerhöchst 至高无上的</p><p>die Gaststätte-n 餐饮店，客栈</p><p>schief gehen 出错，出纰漏</p><p>die Zusage 允诺，许诺</p><p>写作练习，回复课本 72 页的同学聚会邀请函</p><blockquote><p>Hallo Dana und Jens,</p><p>danke für die Einladung zum Klassentreffen, auf das ich mich sehr freue! In der Tat, es ist schon eine ganze Weile her und ich würde auch gerne wissen, wie es euch und den anderen so geht. Wie ihr wisst, wohne ich in der Schweiz. Daher brauche ich eine Hotelempfehlung von euch für ein günstiges Hotel in der Nähe der Gaststätte, Könnt ihr mir da helfen?</p><p>Da ich aus beruflichen Gründen erst am Nachmittag des 7. Juni in der Schweiz losfahren kann, werde ich etwas später gegen 19 Uhr ankommen. Ich freue mich sehr auf unser Klassentreffen und verbleibe mit besten Grüßen.</p><p>Salzfeld</p></blockquote><p>in der Tat 事实上</p><p>eine ganze Weile 许久</p><p>eine kurze Weile 片刻</p><h1 id="6-13-teilnehmerstatistik"><a class="markdownIt-Anchor" href="#6-13-teilnehmerstatistik"></a> 6-13 Teilnehmerstatistik</h1><p>WS = Wintersemester</p><p>VHS = Volkshochschule</p><p>der/die Fortgeschrittene-n 高阶者，教高级者</p><p>das Aerobic 有氧操</p><p>Step-Aerobic 有氧操</p><p>课本 74 页 口语题</p><blockquote><ol><li>Worum geht es?<ul><li>Die Tabelle zeigt, wie viele Sprachkurse bietet die Volkshochschule.</li><li>In der Tabelle sind die gesamten Unterrichtsstunden und Kurse zusammengestellt.</li><li>Bei dieser Tabelle geht es um die Sprachkursstatistik.</li></ul></li><li>Welches ist die Hauptinformation?<ul><li>Englisch ist am meisten ausgewählt.</li><li>Die wichtigste Sprache ist Englisch, danach Deutsch.</li><li>Man sieht, dass Deutsch als Fremdsprache hat die zweit meisten Unterrichtsstunden.</li><li>Es gibt zwar etwas viermal so viele Englischkurse wie Deutschkurse, aber dafür dauern Deutschkurse deutlich viel länger.</li></ul></li><li>Gibt es eine überraschende Information?<ul><li>Ich hätte nicht erwartet, dass so wenige Deutschkurse bietet die VHS.</li><li>Ich finde es ziemlich überraschend, dass bei geringster Anzahl an Kursen gesamt ein Deutschkurs deutlich langer als z. B. Englisch dauert.</li><li>Dass mehr Französisch als Spanisch bevorzugt wird, hätte ich nicht erwartet.</li></ul></li><li>Welche Gründe könnte es dafür geben?<ul><li>Vielleicht liegt es daran, dass Deutsch viel schwerer als Englisch ist.</li><li>Ein Grund dafür könnte sein, …</li></ul></li></ol></blockquote><h1 id="6-14-verrückte-volkshochschule-1"><a class="markdownIt-Anchor" href="#6-14-verrückte-volkshochschule-1"></a> 6-14 Verrückte Volkshochschule (1)</h1><p>die Kommunikationsfähigkeit-en 交流能力</p><p>auf Akkusativ stoßen 遭遇……</p><p>die Ablehnung 拒绝，否定</p><p>die Pantomime-n 哑剧</p><p>die Beschränkung-en 限制</p><p>das Pavillon-s 亭子，场馆，阁</p><p>lauten 原话是，内容是</p><p>die Herausforderung-en 挑战，挑衅</p><p>ein Angebot an Dativ 供应某物</p><p>sich Dativ zuwenden 致力于，投身于</p><p>vernachlässigt 被忽视的，疏忽的</p><p>der Menschheitstraum-&quot;e 人类梦想</p><p>Nominativ in Erfüllung gehen 某事完成，实现</p><p>die Konzentration-en 集中，专注</p><p>gesichert 有安全保障的</p><p>schweben 飘荡，浮动</p><p>die Matte-n 垫子，席子</p><p>flott 敏捷的，迅速的</p><p>der Hangar-s 飞机库，飞机棚</p><p>abheben 提起，飞起</p><p>ausfallen 取消，停止举行</p><h1 id="6-15-verrückte-volkshochschule-2"><a class="markdownIt-Anchor" href="#6-15-verrückte-volkshochschule-2"></a> 6-15 Verrückte Volkshochschule (2)</h1><p>die Schwelle-n 门槛</p><p>das Mitgefühl-e 同情</p><p>der Todeskandidat-en 临终之人，面临死亡的人</p><p>jeweilig 各自的，分别的</p><p>der Delinquent-en 违法者，犯罪者</p><p>die Epoche-n 时代，新纪元</p><p>sich von … bezaubern 沉醉于，着迷于</p><p>der Flair 气氛；敏锐的嗅觉</p><p>die Zusammenkunft-&quot;e 会面，会晤</p><p>vierbeinig 四条腿的</p><p>bemerkbar 可以察觉到的，引人注目的</p><p>unter uns 我两之间</p><blockquote><p>Das bleibt unter uns. 这只有我俩知道。</p></blockquote><p>der Schwanz-&quot;e 尾巴</p><p>wedeln 摇尾巴</p><p>harmlos 无恶意的</p><p>der Meinungsaustausch-/ 交换意见</p><p>etwas fällt jemandem ein 某事让某人想起</p><blockquote><p>Das fällt mir ein, dass ich morgen noch einen Termin habe. 我突然想起，明天有约。</p></blockquote><p>Eis brechen 破冰</p><p>von Dativ kann nicht die Rede sein. 这不是……的问题</p><p>effektvoll 效果显著的</p><p>schummeln 蒙骗，作弊</p><p>der Trick-s 窍门，手段</p><p>der Falschspieler 作弊者，欺诈者</p><p>die Figur-en 体型，身段；人物，形象；棋子</p><p>dankbar 值得感谢的，充满感谢的</p><p>der Bestseller- 畅销书</p><p>die Pionierarbeit 开拓，先驱工作</p><p>eine begrenzte Anzahl 数量有限</p><p>der/die Interessierte-n 感兴趣的人</p><p>staunen 惊奇，惊叹</p><p>über jmdn/etwas staunen 对某人/某事感到惊奇</p><p>verblüfft 震惊的，惊讶的</p><p>der Kniff-e 花招，手段【口】</p><p>einspielen （通过比赛、演出）收回成本</p><h1 id="6-16-info-telefon-1"><a class="markdownIt-Anchor" href="#6-16-info-telefon-1"></a> 6-16 Info-Telefon (1)</h1><p>jmdm Akkusativ empfehlen 向某人推荐某物</p><p>die Höhenangst-/ 恐高症</p><p>unter Dativ leiden 忍受某事之苦</p><p>günstig 有益的，良好的</p><h1 id="6-17-info-telefon-2"><a class="markdownIt-Anchor" href="#6-17-info-telefon-2"></a> 6-17 Info-Telefon (2)</h1><p>einen Kurs belegen 参加课程</p><p>einschränken 紧缩，限制 可分v</p><p>soweit 就……而言 从句连词</p><blockquote><p>Ich komme, soweit es meine Zeit erlaubt. 只要时间允许，我就会来的。</p></blockquote><p>das Halma-/ 跳棋</p><p>das Romme-s 洛梅牌</p><p>die Auskunft-&quot;e 答复</p><p>verbindlich 有责任的</p><p>die Veranstaltung-en 活动</p><p>die Bedingung-en 条件</p><p>die Teilnahmebedingung-en 参加条件</p><p>kennen 了解，知道</p><p>erkennen 认出，辨认出</p><p>anerkennen 承认，认同</p><p>seitens + 第二格 由……方面</p><p>erfolgen 随之出现</p><p>die Abbuchung 扣款</p><p>die Ermächtigung 授权</p><p>ermächtigen + Akkusativ 授权给……</p><p>einmalig 一次性的</p><h1 id="6-18-hörverstehen-teil-1"><a class="markdownIt-Anchor" href="#6-18-hörverstehen-teil-1"></a> 6-18 Hörverstehen Teil 1</h1><p>听前准备：划关键词</p><p>听时：关注听力主题，抓听关键词 不用每个字都听懂</p><p>听力后：有 30 秒时间去阅读下一题</p><p>die Astronomie 天文学</p><p>die Astrologie 占星术</p><h1 id="6-19-folge-6-rhetorik-für-frauen"><a class="markdownIt-Anchor" href="#6-19-folge-6-rhetorik-für-frauen"></a> 6-19 Folge 6 - Rhetorik für Frauen</h1><p>die Rhetorik 修辞法，措辞学</p><p>Telefonzelle 电话亭</p><p>WG 合租公寓</p><p>Volkshochschule 业余大学</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Lernen&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Personen beschreiben&lt;/</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>动手强化学习 第十四章 多智能体强化学习</title>
    <link href="https://tinsir888.github.io/posts/8c0a0aa5.html"/>
    <id>https://tinsir888.github.io/posts/8c0a0aa5.html</id>
    <published>2023-06-09T22:00:00.000Z</published>
    <updated>2023-06-10T12:40:08.870Z</updated>
    
    <content type="html"><![CDATA[<h1 id="marl-简介"><a class="markdownIt-Anchor" href="#marl-简介"></a> MARL 简介</h1><p>强化学习：智能体与环境交互，智能体感知环境结果，做出动作，得到环境反馈的奖励。</p><p>环境要是<strong>稳态</strong>的：某些分布是确定不变的，否则不能保证强化学习的收敛性</p><h2 id="marl-的例子"><a class="markdownIt-Anchor" href="#marl-的例子"></a> MARL 的例子</h2><p>去中心化的游戏人工智能</p><ul><li>为复杂的集体游戏智能设计多智能体通信和协同学习的算法</li><li>英雄联盟、星际争霸等</li></ul><p>城市交通</p><ul><li><p>车辆路由策略</p></li><li><p>交通灯控制</p></li><li><p>车队管理以及出租车调度</p></li></ul><p>分拣机器人</p><h2 id="marl-的难点"><a class="markdownIt-Anchor" href="#marl-的难点"></a> MARL 的难点</h2><p>原理上困难</p><ul><li>多智能体不仅要与环境交互，还要相互进行交互</li><li>将其它智能体当作环境的一部分进行学习，会导致训练出的智能体不稳定！因为理论上这样定义环境不稳定（数据分布非稳态），训练过程不收敛</li></ul><h1 id="marl-问题定义"><a class="markdownIt-Anchor" href="#marl-问题定义"></a> MARL 问题定义</h1><p>环境的稳态：条件概率的分布是固定的</p><p>序贯决策的三种问题</p><ol><li>马尔可夫决策过程<ul><li>一个智能体</li><li>多个状态</li></ul></li><li>重复博弈<ul><li>多个智能体</li><li>一个状态</li></ul></li><li>随机博弈（马尔可夫博弈）<ul><li>多个智能体</li><li>多个状态</li></ul></li></ol><p>MARL 的任务属于随机博弈</p><h3 id="随机博弈"><a class="markdownIt-Anchor" href="#随机博弈"></a> 随机博弈</h3><p>表格型强化学习设置下，每个状态对应一个博弈表格</p><p>每个时间步，所有智能体在当前博弈表格中同时选择自己的动作</p><p>根据智能体共同决定的博弈表格单元分配给智能体奖励</p><p>博弈根据状态和联合动作转移到下一个状态，对应另一个博弈表格</p><p>一般情况下，奖励值随时间步衰减</p><h3 id="随即博弈的问题定义"><a class="markdownIt-Anchor" href="#随即博弈的问题定义"></a> 随即博弈的问题定义</h3><p>一个随机博弈可以定义成元组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>N</mi><mo separator="true">,</mo><mi mathvariant="script">S</mi><mo separator="true">,</mo><mi mathvariant="script">A</mi><mo separator="true">,</mo><mi mathvariant="script">R</mi><mo separator="true">,</mo><mi>p</mi><mo separator="true">,</mo><mi>γ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(N,\mathcal S,\mathcal A,\mathcal R,p,\gamma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mclose">)</span></span></span></span></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 是智能体的数目</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> 是所有智能体的状态集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">A</mi><mo>=</mo><msub><mi>A</mi><mn>1</mn></msub><mo>×</mo><msub><mi>A</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>A</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal A=A_1\times A_2\times\cdots\times A_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所有智能体的动作集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">R</mi><mo>=</mo><msub><mi>r</mi><mn>1</mn></msub><mo>×</mo><msub><mi>r</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>r</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal R=r_1\times r_2\times\cdots\times r_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所有智能体的奖励函数集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>:</mo><mi mathvariant="script">S</mi><mo>×</mo><mi mathvariant="script">A</mi><mo>→</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p:\mathcal S\times\mathcal A\rightarrow\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 是环境转移的概率，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> 的分布集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gamma\in(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 是奖励随时间步的衰减因子</li></ul><p>对于一个随即博弈中的每一个智能体 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>，其策略表示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>i</mi></msub><mo>:</mo><mi mathvariant="script">S</mi><mo>→</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_i:\mathcal S\rightarrow\Omega(A_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>所有智能体的联合策略可表示为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="bold">π</mtext><mo>=</mo><mo stretchy="false">[</mo><msub><mi>π</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>π</mi><mi>N</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\textbf π=[\pi_1,\cdots,\pi_N]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mord text"><span class="mord textbf">π</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>所有智能体的联合动作可表示为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="bold">a</mtext><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>N</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\textbf a=[a_1,\cdots,a_N]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44444em;vertical-align:0em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>基于联合策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="bold">π</mtext></mrow><annotation encoding="application/x-tex">\textbf π</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mord text"><span class="mord textbf">π</span></span></span></span></span>，智能体 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 在状态 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span> 下的价值为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>V</mi><mi>i</mi><mi>π</mi></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msub><mi mathvariant="double-struck">E</mi><mrow><mtext mathvariant="bold">π</mtext><mo separator="true">,</mo><mi>p</mi></mrow></msub><mo stretchy="false">[</mo><msubsup><mi>r</mi><mi>i</mi><mi>t</mi></msubsup><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mn>0</mn></msub><mo>=</mo><mi>s</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">V_i^\pi(s)=\sum_{t=0}^\infty\gamma^t\mathbb E_{\textbf π,p}[r_i^t|s_0=s]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">π</span></span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-2.441336em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mclose">]</span></span></span></span></p><p>基于联合策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="bold">π</mtext></mrow><annotation encoding="application/x-tex">\textbf π</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mord text"><span class="mord textbf">π</span></span></span></span></span>，智能体 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 在状态行动对 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(s,\textbf a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span></span></span></span> 下的价值为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Q</mi><mi>i</mi><mi>π</mi></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo><mo>=</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi></mrow></msub><mo stretchy="false">[</mo><msubsup><mi>V</mi><mi>i</mi><mi>π</mi></msubsup><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q^\pi_i(s,\textbf a)=r_i(s,\textbf a)+\gamma\mathbb E_{s&#x27;\sim p}[V_i^\pi(s&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.038em;vertical-align:-0.286108em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32798em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><h3 id="marl-方法分类"><a class="markdownIt-Anchor" href="#marl-方法分类"></a> MARL 方法分类</h3><p>完全中心化：将所有智能体看成一个超级智能体在做决策。优点：环境是稳态 缺点：但复杂度高</p><p>完全去中心化：每个智能体都独立进行学习，不考虑其它智能体的改变。优点：简单好实现 缺点：环境非稳态，可能不收敛</p><p>中心化训练，去中心化执行：训练时使用一些单个智能体看不到的全局信息，执行时不使用这些信息。介于完全中心化和完全去中心化方法之间</p><h1 id="完全中心化方法"><a class="markdownIt-Anchor" href="#完全中心化方法"></a> 完全中心化方法</h1><h3 id="整体智能体"><a class="markdownIt-Anchor" href="#整体智能体"></a> 整体智能体</h3><p>对于合作任务，可以将 N 个智能体堪称一个大的智能体，每次在具体的状态下，直接选择联合联合动作，以每个智能体获得的奖励之和作为大智能体的奖励。</p><p>缺点：</p><ol><li>动作空间太大，状态转移和奖励函数复杂度太高</li><li>无法处理<strong>非合作</strong>任务</li></ol><h3 id="纳什-q-学习"><a class="markdownIt-Anchor" href="#纳什-q-学习"></a> 纳什 Q 学习</h3><p>给定联合策略，针对智能体 i 优化其状态价值函数依赖于联合策略</p><p>在随机博弈中的纳什均衡可以由一个联合策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mtext mathvariant="bold">π</mtext><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\textbf π^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord text"><span class="mord textbf">π</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span> 来表示，使得没有任何一个智能体有动机去进一步修改其策略</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>V</mi><mi>i</mi><mrow><mtext mathvariant="bold">π</mtext><mo>∗</mo></mrow></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>≥</mo><msub><mi>V</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msub><mi>π</mi><mi>i</mi></msub><mo separator="true">,</mo><msubsup><mtext mathvariant="bold">π</mtext><mrow><mo>−</mo><mi>i</mi></mrow><mo>∗</mo></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V_i^{\textbf π*}(s)\geq V_i(s,\pi_i,\textbf π_{-i}^*)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">π</span></span><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.066995em;vertical-align:-0.316995em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord text"><span class="mord textbf">π</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.316995em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><msub><mi>π</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\forall\pi_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord">∀</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>给定纳什策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mtext mathvariant="bold">π</mtext><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\textbf π^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord text"><span class="mord textbf">π</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>，其纳什价值函数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mrow><mi>N</mi><mi>a</mi><mi>s</mi><mi>h</mi></mrow></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">[</mo><msubsup><mi>V</mi><mn>1</mn><mrow><mtext mathvariant="bold">π</mtext><mo>∗</mo></mrow></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msubsup><mi>V</mi><mn>2</mn><mrow><mtext mathvariant="bold">π</mtext><mo>∗</mo></mrow></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msubsup><mi>V</mi><mi>N</mi><mrow><mtext mathvariant="bold">π</mtext><mo>∗</mo></mrow></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">V_{Nash}(s)=[V_1^{\textbf π*}(s),V_2^{\textbf π*}(s),\cdots,V_N^{\textbf π*}(s)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.025331em;vertical-align:-0.275331em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.4518920000000004em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">π</span></span><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.4518920000000004em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">π</span></span><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.424669em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord textbf mtight">π</span></span><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.275331em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>考虑到智能体 i 在状态行动对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(s,\textbf a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span></span></span></span> 下的价值为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Q</mi><mi>i</mi><mi>π</mi></msubsup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo><mo>=</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mtext mathvariant="bold">a</mtext><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi></mrow></msub><mo stretchy="false">[</mo><msubsup><mi>V</mi><mi>i</mi><mi>π</mi></msubsup><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q^\pi_i(s,\textbf a)=r_i(s,\textbf a)+\gamma\mathbb E_{s&#x27;\sim p}[V_i^\pi(s&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord textbf">a</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.038em;vertical-align:-0.286108em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32798em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>纳什 Q 学习进行一下两步操作，直到收敛</p><ol><li>基于当前每个状态的 Q 值表，求解纳什均衡，以及每个状态的纳什价值函数</li><li>基于纳什价值函数，更新 Q 值表</li></ol><p>作为一种完全中心化的方法，纳什 Q 学习的缺点</p><ol><li>计算复杂度太高</li><li>无法处理非合作的博弈场景</li></ol><h1 id="完全去中心化方法"><a class="markdownIt-Anchor" href="#完全去中心化方法"></a> 完全去中心化方法</h1><p>简单好实现，但是很可能不收敛</p><p>一个随机博弈可以定义成元组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>N</mi><mo separator="true">,</mo><mi mathvariant="script">S</mi><mo separator="true">,</mo><mi mathvariant="script">A</mi><mo separator="true">,</mo><mi mathvariant="script">R</mi><mo separator="true">,</mo><mi>p</mi><mo separator="true">,</mo><mi>γ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(N,\mathcal S,\mathcal A,\mathcal R,p,\gamma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathcal">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mclose">)</span></span></span></span></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 是智能体的数目</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi><mo>=</mo><msub><mi>S</mi><mn>1</mn></msub><mo>×</mo><msub><mi>S</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>S</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal S=S_1\times S_2\times\cdots\times S_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所有智能体的状态集合 <strong>完全去中心化的方法可以让每个智能体的局部感知状态不同。</strong></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">A</mi><mo>=</mo><msub><mi>A</mi><mn>1</mn></msub><mo>×</mo><msub><mi>A</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>A</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal A=A_1\times A_2\times\cdots\times A_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所有智能体的动作集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">R</mi><mo>=</mo><msub><mi>r</mi><mn>1</mn></msub><mo>×</mo><msub><mi>r</mi><mn>2</mn></msub><mo>×</mo><mo>⋯</mo><mo>×</mo><msub><mi>r</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal R=r_1\times r_2\times\cdots\times r_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所有智能体的奖励函数集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>:</mo><mi mathvariant="script">S</mi><mo>×</mo><mi mathvariant="script">A</mi><mo>→</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p:\mathcal S\times\mathcal A\rightarrow\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 是环境转移的概率，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> 的分布集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gamma\in(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 是奖励随时间步的衰减因子</li></ul><p>独立 Q 学习：对智能体 i，假设其它智能体策略不变，直接 Q 学习</p><ul><li>此处环境的奖励还是基于联合动作，后期会变化导致可能不收敛</li></ul><p>独立 PPO：对智能体 i，建设其它智能体策略是不变的，直接 PPO</p><h1 id="中心化训练去中心化执行"><a class="markdownIt-Anchor" href="#中心化训练去中心化执行"></a> 中心化训练，去中心化执行</h1><p>aka CTDE, centralized training with decentralized execution</p><p>在训练的时候使用一些单个智能体看不到的全局信息而达到更好的训练效果，而在执行时不使用这些信息，每个智能体完全根据自己的策略直接行动，以达到去中心化执行的效果。</p><p><img src="/pic/rlpics/10.PNG" alt="CTDE 图示" /></p><h2 id="ctde-问题建模"><a class="markdownIt-Anchor" href="#ctde-问题建模"></a> CTDE 问题建模</h2><p>建模为部分可观测马尔可夫博弈元组</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 是智能体的数目</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> 是所有智能体的状态集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">A</mi></mrow><annotation encoding="application/x-tex">\mathcal A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span></span></span></span> 是所有智能体的动作集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>:</mo><mi mathvariant="script">S</mi><mo>×</mo><mi mathvariant="script">A</mi><mo>→</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p:\mathcal S\times\mathcal A\rightarrow\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 是环境转移的概率，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi mathvariant="script">S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Omega(\mathcal S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mclose">)</span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi></mrow><annotation encoding="application/x-tex">\mathcal S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span></span></span></span> 的分布集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gamma\in(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 是奖励随时间步的衰减因子</li><li>对于每个智能体 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>O</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">O_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是其关测集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是其动作集合</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>i</mi></msub><mo>:</mo><msub><mi>O</mi><mi>i</mi></msub><mo>→</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_i:O_i\rightarrow\Omega(A_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mi>i</mi></msub><mo>:</mo><mi>S</mi><mo>×</mo><mi mathvariant="script">A</mi><mo>→</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">r_i:S\times\mathcal A\rightarrow\mathbb R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">R</span></span></span></span> 是奖励函数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>r</mi><mi>i</mi><mi>t</mi></msubsup></mrow><annotation encoding="application/x-tex">r_i^t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.05222em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-2.441336em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> 表示在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathnormal">t</span></span></span></span> 时间步获得的具体奖励信号</li><li>目标是最大化期望累积奖励 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi>T</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msubsup><mi>r</mi><mi>i</mi><mi>t</mi></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R_i=\mathbb E[\sum_{t=0}^T\gamma^tr_i^t]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-2.441336em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></li></ul></li></ul><h2 id="ctde-算法maddpg"><a class="markdownIt-Anchor" href="#ctde-算法maddpg"></a> CTDE 算法：MADDPG</h2><p>MADDPG</p><ul><li>每个智能体 i 是一个 Actor-Critic</li><li>Actor 策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>o</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mu_i(a_i|o_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 是自己独有的，只能局部关测</li><li>Critic 价值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Q</mi><mi>i</mi><mi>μ</mi></msubsup><mo stretchy="false">(</mo><mtext mathvariant="bold">x</mtext><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>N</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_i^\mu(\textbf x,a_1,\cdots,a_N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.059164em;vertical-align:-0.276864em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7823em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.276864em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord textbf">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 则是所有智能体贡献的，具有全局信息</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>o</mi><mi>N</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf x=(o_1,o_2,\cdots,o_N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44444em;vertical-align:0em;"></span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 为所有智能体的观测</li></ul><p>对于确定性策略来说，考虑 N 个连续策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">\mu_\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，其 DDPG 梯度公式为：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">∇</mi><msub><mi>θ</mi><mi>i</mi></msub></msub><mi>J</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>x</mi><mo>∼</mo><mi mathvariant="script">D</mi></mrow></msub><mo stretchy="false">[</mo><msub><mi mathvariant="normal">∇</mi><msub><mi>θ</mi><mi>i</mi></msub></msub><msub><mi>μ</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mi>i</mi></msub><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∇</mi><msub><mi>a</mi><mi>i</mi></msub></msub><msubsup><mi>Q</mi><mi>i</mi><mi>μ</mi></msubsup><mo stretchy="false">(</mo><mtext mathvariant="bold">x</mtext><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>N</mi></msub><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∣</mi><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>=</mo><msub><mi>μ</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\nabla_{\theta_i}J(\mu_i)=\mathbb E_{x\sim\mathcal D}[\nabla_{\theta_i}\mu_i(o_i)\nabla_{a_i}Q_i^\mu(\textbf x,a_1,\cdots,a_N)|_{a_i=\mu_i(o_i)}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1375em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∼</span><span class="mord mathcal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.02778em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7823em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1809080000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.276864em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord textbf">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mtight"><span class="mord mathnormal mtight">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><ul><li>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">D</mi></mrow><annotation encoding="application/x-tex">\mathcal D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span></span></span> 为经验回放池，里面存储的数据单元为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mtext mathvariant="bold">x</mtext><mo separator="true">,</mo><msup><mtext mathvariant="bold">x</mtext><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>N</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>r</mi><mi>N</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\textbf x,\textbf x&#x27;,a_1,\cdots,a_N,r_1,\cdots,r_N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord textbf">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord text"><span class="mord textbf">x</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li></ul><p>对于中心化的 critic 价值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Q</mi><msub><mi>ω</mi><mi>i</mi></msub><mi>μ</mi></msubsup><mo stretchy="false">(</mo><mtext mathvariant="bold">x</mtext><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>N</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q^\mu_{\omega_i}(\textbf x,a_1,\cdots,a_N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0971em;vertical-align:-0.34709999999999996em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.34709999999999996em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord textbf">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 则通过时序差分来学习。</p><p><img src="/pic/rlpics/11.PNG" alt="MADDPG 算法流程" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;marl-简介&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#marl-简介&quot;&gt;&lt;/a&gt; MARL 简介&lt;/h1&gt;
&lt;p&gt;强化学习：智能体与环境交互，智能体感知环境结果，做出动作，得到环境反馈的奖励。&lt;/p&gt;
&lt;p&gt;环境要是&lt;stron</summary>
      
    
    
    
    <category term="动手学习强化学习课程笔记" scheme="https://tinsir888.github.io/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="强化学习" scheme="https://tinsir888.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>动手强化学习 第八章 深度强化学习策略方法</title>
    <link href="https://tinsir888.github.io/posts/4b190c36.html"/>
    <id>https://tinsir888.github.io/posts/4b190c36.html</id>
    <published>2023-05-28T22:00:00.000Z</published>
    <updated>2023-06-10T12:40:08.885Z</updated>
    
    <content type="html"><![CDATA[<h1 id="a3c"><a class="markdownIt-Anchor" href="#a3c"></a> A3C</h1><h2 id="actor-critic"><a class="markdownIt-Anchor" href="#actor-critic"></a> Actor-Critic</h2><ul><li>演员采取动作使评论家满意</li><li>评论家学会准确估计演员策略所采取动作价值的值函数</li></ul><h2 id="a2c"><a class="markdownIt-Anchor" href="#a2c"></a> A2C</h2><p>Advantage Actor-Critic</p><p>通过减去一个基线函数来优化评论家的打分</p><ul><li>更多信息指导：降低较差动作概率，提高较优动作概率</li><li>进一步降低方差</li></ul><p>优势函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^\pi(s,a)=Q^\pi(s,a)-V^\pi(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><h2 id="a3c异步-a2c-方法"><a class="markdownIt-Anchor" href="#a3c异步-a2c-方法"></a> A3C：异步 A2C 方法</h2><p>Asynchronous Advantage Actor-Critic</p><ul><li>异步：算法涉及并执行一组环境</li><li>优势：策略梯度的更行使用优势函数</li><li>动作评价</li></ul><p><img src="/pic/rlpics/8.PNG" alt="A3C 示意图" /></p><p>Global Network 是表演者和评论家的所在</p><p>这些 Workers 学习完一段时间后，产生梯度，传到 global network 中去。更新完全局网络后参数又同步到所有 workers 上去。这样的好处是并行化，提升性能。</p><p><img src="/pic/rlpics/9.PNG" alt="A3C 算法伪代码" /></p><h1 id="确定性策略梯度-dpg"><a class="markdownIt-Anchor" href="#确定性策略梯度-dpg"></a> 确定性策略梯度 DPG</h1><h2 id="随机策略与确定性策略"><a class="markdownIt-Anchor" href="#随机策略与确定性策略"></a> 随机策略与确定性策略</h2><ul><li>随机策略<ul><li>对于离散动作：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>exp</mi><mo>⁡</mo><mo stretchy="false">{</mo><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><mrow><msub><mi mathvariant="normal">Σ</mi><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mi>exp</mi><mo>⁡</mo><mo stretchy="false">{</mo><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\pi(a|s;\theta)=\frac{\exp\{Q_\theta(s,a)\}}{\Sigma_{a&#x27;}\exp\{Q_\theta(s,a&#x27;)\}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53842em;vertical-align:-0.52842em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2620285714285715em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">e</span><span class="mtight">x</span><span class="mtight">p</span></span><span class="mopen mtight">{</span><span class="mord mtight"><span class="mord mathnormal mtight">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mclose mtight">}</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">e</span><span class="mtight">x</span><span class="mtight">p</span></span><span class="mopen mtight">{</span><span class="mord mtight"><span class="mord mathnormal mtight">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mclose mtight">)</span><span class="mclose mtight">}</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52842em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li><li>对于连续动作：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>∝</mo><mi>exp</mi><mo>⁡</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>a</mi><mo>−</mo><msub><mi>μ</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\pi(a|s;\theta)\propto\exp\{(a-\mu_\theta(s))^2\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∝</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">exp</span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></li></ul></li><li>确定性策略<ul><li>对于离散动作：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>arg</mi><mo>⁡</mo><msub><mo><mi>max</mi><mo>⁡</mo></mo><mi>a</mi></msub><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi(s;\theta)=\arg\max_aQ_\theta(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">ar<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span> 不可微</li><li>对于连续动作：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mi>π</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a=\pi(s;\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span> 可微</li></ul></li></ul><h2 id="确定性策略梯度"><a class="markdownIt-Anchor" href="#确定性策略梯度"></a> 确定性策略梯度</h2><p>用于估计状态-动作值的评论家模块</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><mi>w</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>≃</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q^w(s,a)\simeq Q^\pi(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>s</mi><mo>∼</mo><msup><mi>ρ</mi><mi>π</mi></msup><mo separator="true">,</mo><mi>a</mi><mo>∼</mo><msub><mi>π</mi><mi>θ</mi></msub></mrow></msub><mo stretchy="false">[</mo><mo stretchy="false">(</mo><msup><mi>Q</mi><mi>w</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">L(w)=\mathbb E_{s\sim\rho^\pi,a\sim\pi_\theta}[(Q^w(s,a)-Q^\pi(s,a))^2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.26548em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">ρ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935428571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>确定性策略梯度定理</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>s</mi><mo>∼</mo><msup><mi>ρ</mi><mi>π</mi></msup></mrow></msub><mo stretchy="false">[</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\pi_\theta)=\mathbb E_{s\sim\rho^\pi}[Q^\pi(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.26548em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">ρ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935428571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">∇</mi><mi>θ</mi></msub><mi>J</mi><mo stretchy="false">(</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>s</mi><mo>∼</mo><msup><mi>ρ</mi><mi>π</mi></msup></mrow></msub><mo stretchy="false">[</mo><msub><mi mathvariant="normal">∇</mi><mi>θ</mi></msub><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∇</mi><mi>a</mi></msub><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∣</mi><mrow><mi>a</mi><mo>=</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\nabla_\theta J(\pi_\theta)=\mathbb E_{s\sim\rho^\pi}[\nabla_\theta\pi_\theta(s)\nabla_a Q^\pi(s,a)|_{a=\pi_\theta(s)}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.26548em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">ρ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935428571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">=</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><h1 id="深度确定性梯度策略-ddpg"><a class="markdownIt-Anchor" href="#深度确定性梯度策略-ddpg"></a> 深度确定性梯度策略 DDPG</h1><p>在 DPG 的基础上增加</p><ul><li>经验重放（离线策略）</li><li>目标网络</li><li>在动作输入前对 Q 网络做 batch normalization</li><li>添加连续噪声</li></ul><p>目标网络至关重要</p><h1 id="信任区域策略优化-trpo"><a class="markdownIt-Anchor" href="#信任区域策略优化-trpo"></a> 信任区域策略优化 TRPO</h1><h2 id="策略梯度的缺点"><a class="markdownIt-Anchor" href="#策略梯度的缺点"></a> 策略梯度的缺点</h2><p>步长难以确定：</p><ul><li>采集到数据的分布会随策略的更新而变化</li><li>较差的步长产生的影响大，进而导致策略变差</li></ul><h2 id="trpo"><a class="markdownIt-Anchor" href="#trpo"></a> TRPO</h2><p>优化目标：策略梯度</p><p>第一种：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Σ</mi><mi>t</mi></msub><msup><mi>γ</mi><mi>t</mi></msup><mi>r</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_{\tau\sim p_\theta(\tau)}[\Sigma_t\gamma^tr(s_t,a_t)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1487559999999999em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>第二种：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>s</mi><mn>0</mn></msub><mo>∼</mo><msub><mi>p</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_{s_0\sim p_\theta(s_0)}[V^{\pi_\theta}(s_0)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><h3 id="优化目标的优化量"><a class="markdownIt-Anchor" href="#优化目标的优化量"></a> 优化目标的优化量</h3><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>s</mi><mn>0</mn></msub><mo>∼</mo><msub><mi>p</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta&#x27;)-J(\theta)=J(\theta&#x27;)-\mathbb E_{s_0\sim p_\theta(s_0)}[V^{\pi_\theta}(s_0)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=J(\theta&#x27;)-\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[V^{\pi_\theta}(s_0)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.20842em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=J(\theta&#x27;)-\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^tV^{\pi_\theta}(s_t)-\sum_{t=1}^\infty\gamma^tV^{\pi_\theta}(s_t)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>+</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><mo stretchy="false">(</mo><mi>γ</mi><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=J(\theta&#x27;)+\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^t(\gamma V^{\pi_\theta}(s_{t+1})-V^{\pi_\theta}(s_t))]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><mi>r</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>+</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><mo stretchy="false">(</mo><mi>γ</mi><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^tr(s_t,a_t)]+\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^t(\gamma V^{\pi_\theta}(s_{t+1})-V^{\pi_\theta}(s_t))]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^t(r(s_t,a_t)+\gamma V^{\pi_\theta}(s_{t+1})-V^{\pi_\theta}(s_t))]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>A</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^tA^{\pi_\theta}(s_t,a_t)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>优势函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msup><mi>Q</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^{\pi_\theta}(s_t,a_t)=Q^{\pi_\theta}(s_t,a_t)-V^{\pi_\theta}(s_t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><h3 id="使用重要性采样"><a class="markdownIt-Anchor" href="#使用重要性采样"></a> 使用重要性采样</h3><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">J(\theta&#x27;)-J(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>τ</mi><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant="normal">∞</mi></msubsup><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>A</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\mathbb E_{\tau\sim p_{\theta&#x27;(\tau)}}[\sum_{t=0}^\infty\gamma^tA^{\pi_\theta}(s_t,a_t)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.262712em;vertical-align:-0.45842000000000005em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.1132em;">τ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4406000000000001em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45842000000000005em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mo>∑</mo><mi>t</mi></msub><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>s</mi><mi>t</mi></msub><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>a</mi><mi>t</mi></msub><mo>∼</mo><msub><mi>π</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>A</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\sum_t\mathbb E_{s_t\sim p_{\theta&#x27;(s_t)}}[\mathbb E_{a_t\sim\pi_{\theta&#x27;}(a_t|s_t)}[\gamma^tA^{\pi_\theta}(s_t,a_t)]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2621159999999998em;vertical-align:-0.46856em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1308459999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000008em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.61508em;"></span><span class="mord mathnormal mtight">t</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27027999999999996em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4550857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.46856em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2620285714285715em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.36361999999999994em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mo>∑</mo><mi>t</mi></msub><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>s</mi><mi>t</mi></msub><mo>∼</mo><msub><mi>p</mi><mrow><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></msub></mrow></msub><mo stretchy="false">[</mo><msub><mi mathvariant="double-struck">E</mi><mrow><msub><mi>a</mi><mi>t</mi></msub><mo>∼</mo><msub><mi>π</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><mfrac><mrow><msub><mi>π</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></mfrac><msup><mi>γ</mi><mi>t</mi></msup><msup><mi>A</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\sum_t\mathbb E_{s_t\sim p_{\theta&#x27;(s_t)}}[\mathbb E_{a_t\sim\pi_{\theta&#x27;}(a_t|s_t)}[\frac{\pi_{\theta&#x27;}(a_t|s_t)}{\pi_\theta(a_t|s_t)}\gamma^tA^{\pi_\theta}(s_t,a_t)]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53842em;vertical-align:-0.52em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1308459999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000008em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.61508em;"></span><span class="mord mathnormal mtight">t</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.27027999999999996em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4550857142857143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.46856em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2620285714285715em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.36361999999999994em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0184199999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.49342em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3447999999999998em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2620285714285715em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span></p><h3 id="忽略状态分布的差异"><a class="markdownIt-Anchor" href="#忽略状态分布的差异"></a> 忽略状态分布的差异</h3><p>当策略更新前后变化较小时，令 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>≈</mo><msub><mi>p</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p_\theta(s_t)\approx p_{\theta&#x27;}(s_t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><h2 id="策略改进的单调性保证"><a class="markdownIt-Anchor" href="#策略改进的单调性保证"></a> 策略改进的单调性保证</h2><p>每轮迭代都能保证函数值优化</p><h1 id="近端策略优化-ppo"><a class="markdownIt-Anchor" href="#近端策略优化-ppo"></a> 近端策略优化 PPO</h1><p>TRPO 使用 KL 散度约束策略更新的幅度</p><p>TRPO 的不足</p><ul><li>近似带来误差</li><li>求解约束优化问题的困难</li></ul><h2 id="在-trpo-基础上进行改进"><a class="markdownIt-Anchor" href="#在-trpo-基础上进行改进"></a> 在 TRPO 基础上进行改进</h2><ol><li><p>截断式优化目标</p><p>基于 CLIP 的方式，截断式优化 TRPO 中的重要性采样</p></li><li><p>优势函数选用多步时许差分</p><ul><li>每次迭代中，并行 N 个 actor 收集 T 步经验数据</li><li>计算每步的优势函数，构成 mini-batch</li><li>更新参数</li></ul></li><li><p>自适应的 KL 惩罚项参数</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;a3c&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#a3c&quot;&gt;&lt;/a&gt; A3C&lt;/h1&gt;
&lt;h2 id=&quot;actor-critic&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#actor-critic&quot;&gt;</summary>
      
    
    
    
    <category term="动手学习强化学习课程笔记" scheme="https://tinsir888.github.io/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="强化学习" scheme="https://tinsir888.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 5 Ausbildung und Beruf</title>
    <link href="https://tinsir888.github.io/posts/a79494ce.html"/>
    <id>https://tinsir888.github.io/posts/a79494ce.html</id>
    <published>2023-05-20T22:00:00.000Z</published>
    <updated>2023-06-10T04:57:31.306Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ul><li><p>Ausbildung und Beruf</p></li><li><p>Vergleichen und kommentieren/Um Rat bitten, Ratschläge geben</p></li><li><p>Informationen zusammenfassen “lassen”</p></li><li><p>obwohl, trotzdem/Konjunktiv II der Vergangenheit</p></li></ul><h1 id="5-1-ausbildung-und-beruf-1"><a class="markdownIt-Anchor" href="#5-1-ausbildung-und-beruf-1"></a> 5-1 Ausbildung und Beruf (1)</h1><p>der Landwirt-e 农民，农场主 = 英文的 farmer</p><p>der Bauer- 农民，乡巴佬 = 英文的 peasant</p><p>der Farmer- 农民</p><p>der Schlosser- 钳工</p><p>der Metallverarbeiter- 机械工</p><p>der Postbote-n 邮递员</p><p>der Briefträger- 邮差</p><p>der Zusteller- 快递员</p><p>der Experte-n 专家</p><p>der Servierer- 服务生</p><p>der Aufwärter- 仆人，侍者</p><p>der Sänger- 歌唱家</p><p>der Musiker- 音乐家</p><p>der Komponist-en 作曲家</p><p>die Arzthelferin 医生助理</p><p>Kfz-Mechaniker/in 机动车机械工</p><p>Kfz = Kraftfahrzeug 机动车</p><p>Installateur/in 安装工</p><p>die Montage 安装</p><p>Kaufmann/Kauffrau 商人</p><p>Hotelfachmann/Hotelfachfrau 酒店专业人士</p><p>Maler/in 油漆工</p><p>die Holzverarbeitung 木材处理</p><p>die Metallverarbeitung 金属处理</p><p>das Medium-Medien 媒体</p><p>Wissenschaft und Forschung 科研</p><p>Fremdsprachen 外语</p><h1 id="5-2-ausbildung-und-beruf-2"><a class="markdownIt-Anchor" href="#5-2-ausbildung-und-beruf-2"></a> 5-2 Ausbildung und Beruf (2)</h1><p>entsprechen + Dativ 与……相符，与……相适应</p><p>die Realität-en 现实，事实</p><p>angeben 指明，说明</p><p>obwohl 引导让步从句，虽然</p><p>auftauchen 出现（出乎意料地）</p><p>tauchen 潜水</p><p>Bereich 范围，区域，领域</p><p>der Spitzenreiter- 领先者，佼佼者</p><p>die Mehrheit 大多数</p><p>die Minderheit 少数</p><p>kaufmännisch 商业的，商务的</p><p>Es hat sich nicht geändert （某件事）没有改变</p><p>… ist nicht zu finden. ……是找不到的</p><h1 id="5-3-obwohl-trotzdem"><a class="markdownIt-Anchor" href="#5-3-obwohl-trotzdem"></a> 5-3 obwohl, trotzdem</h1><h2 id="obwohl"><a class="markdownIt-Anchor" href="#obwohl"></a> obwohl</h2><p><strong>从句连词</strong> obwohl 表示“虽然”和“尽管”，由它引导让步从句，让步从句和主句一起表达转折关系。</p><p>z. B. Ich habe eine Verabredung mit ihr, obwohl ich keine Zeit <strong>habe</strong>.</p><p>obwohl 引导的从句中，动词置尾。</p><p>z. B. Obwohl ich ihn mehrmals eingeladen habe, <strong>ist</strong> er nicht mitgekommen.</p><p>从句占第一位。</p><p>obwohl 第一位 + 主语第二位 + 其它成分 + 动词置尾</p><h2 id="trotzdem"><a class="markdownIt-Anchor" href="#trotzdem"></a> trotzdem</h2><p><strong>主句连词</strong> trotzdem 意为“尽管如此，仍然……”，只能连接两个主句</p><p>trotzdem 占句子第一位</p><p>z. B. Ich habe keine Zeit. Trotzdem habe ich eine Verabredung mit ihr.</p><p>z. B. Ich habe ihn mehrmals eingeladen, trotzdem ist er nicht mitgekommen.</p><p>trotzdem 只能连接两个主句</p><p>带有 trotzdem 的主句<strong>必须后置</strong>，它和前一个句子是转折关系</p><p>trotzdem + 动词紧跟其后</p><h2 id="trotz"><a class="markdownIt-Anchor" href="#trotz"></a> trotz</h2><p>介词 + 名词第二格</p><p>Trotz meiner nicht verfügbaren Zeit habe ich eine Verabredung mit ihr.</p><p>verfügbar 可动用的,可支配的</p><p>Ich habe eine Verabredung mit ihr, obwohl ich keine Zeit habe.</p><p>Ich habe keine Zeit. Trotzdem habe ich eine Verabredung mit ihr.</p><p><strong>obwohl 强调让步，trotzdem 强调结果</strong></p><p>除非主语在句首，否则反身代词应放到主语之前</p><h1 id="5-4-bundesagentur-für-arbeit-1"><a class="markdownIt-Anchor" href="#5-4-bundesagentur-für-arbeit-1"></a> 5-4 Bundesagentur für Arbeit (1)</h1><p>Bundesagentur für Arbeit 联邦就业局</p><p>die Stellenanzeige 招聘广告</p><p>die Jobbörse 招聘网站，职位门户</p><p>die Arbeitsagentur 就业局</p><p>die Fremdsprachenkorrespondentin-nen 女外语通讯记者</p><p>der Korrespondent-en 驻外记者</p><p>sich an Akkusativ wenden 向……寻求帮助</p><p>z. B. Wenn man sich in Deutschland über verschiedene Berufe und Ausbildungsmöglichkeiten informieren möchte, kann man sich an die Agentur für Arbeit wenden.</p><p>die Einrichtung-en 公共设施，机构</p><p>zuständig 负责的 adj</p><p>zuständig für …</p><p>der/die Arbeitslose-n 失业者</p><p>der/die Berufssuchende-n 求职者</p><p>die Vermittlung-en 介绍，中介</p><p>sich über Akkusativ orientieren 了解关于……的信息</p><p>für jmdn in Frage kommen 某事对某人适合，可以考虑</p><p>z. B. Es gibt einige Programme, die für Sie in Frage kommen. 有一些您可以考虑的项目。</p><p>z. B. Das kommt überhaupt nicht in Frage! 这是不可能的！</p><p>vor einem halben Jahr 半年，vor + 时间 Dativ</p><p>ein halbes Jahr 半年，时间状语第四格</p><h1 id="5-5-bundesagentur-für-arbeit-2"><a class="markdownIt-Anchor" href="#5-5-bundesagentur-für-arbeit-2"></a> 5-5 Bundesagentur für Arbeit (2)</h1><p>ich kannte = ich kenne 的过去式</p><p>der Schüleraustausch（国家间的）交换中小学留学生</p><p>eben 正好，恰好</p><p>sich[Dativ] vorstellen 想象</p><p>der Bereich-e 范围，领域</p><p>an + Akkusativ denken 考虑，想到</p><p>AG = Arbeitsgruppe 工作小组</p><p>einen Blick werfen 看一看</p><p>werfen 投，扔 - wirfst - wirft - haben geworfen - warf</p><p>ausreichen 足够，够用</p><p>der Dolmetscher- 口译者</p><p>die Voraussetzung-en 假定，假设；前提条件</p><p>beurteilen 判断，评定</p><p>die Tätigkeit-en 职业，工作活动</p><p>konkret 具体的，准确的</p><h1 id="5-6-bundesagentur-für-arbeit-3"><a class="markdownIt-Anchor" href="#5-6-bundesagentur-für-arbeit-3"></a> 5-6 Bundesagentur für Arbeit (3)</h1><p>Es bewegt sich = Es ändert sich 它经常变化</p><p>die Informatikassistentin-nen 计算机科学女助理</p><p>der Schwerpunkt-e 重点，中心</p><p>umfassen 拥抱，包围，包括</p><p>die Grundlagen- 基础知识</p><p>EDV = elektronische Datenverarbeitung 电子数据处理</p><p>der Softwareentwickler- 软件开发人员</p><p>die Anwendung-en 使用，应用</p><p>absolvieren 毕业，结业</p><p>mitgeben 给予，提供 可分v</p><p>die Broschüre-n 平装小册子</p><p>das Merkblatt-e 备忘条，须知</p><p>die Berufsorientierung-en 就业指导</p><h1 id="5-7-lehrlinge-als-unternehmer-1"><a class="markdownIt-Anchor" href="#5-7-lehrlinge-als-unternehmer-1"></a> 5-7 Lehrlinge als Unternehmer (1)</h1><p>der Lehrling-e 学徒工</p><p>manch 有的人或事，可单可复</p><p>mancher Lehrling/mache Lehrlinge</p><p>landen/erreichen/ankommen + 静三</p><p>auf dem Flughafen ankommen 到达机场</p><p>das Elektrizitätswerk-en 发电厂</p><p>die Elektrizität 电</p><p>von … über … bis hin zu … 从……到……直到……</p><p>die Öffentlichkeitsarbeit 公关工作</p><p>sich leisten 故意做，刻意做</p><p>die Geschäftsphilosophie-/ 经营理念</p><p>die Philosophie-/ 哲学，人生观</p><p>die Ökologie-/ 生态学</p><p>die Marktnische-n 市场缺口</p><p>erobern 占领，征服</p><p>gelegentlich 偶然的，机缘巧合的</p><p>die Gelegenheit-en 时机，良机</p><p>tatsächlich 确实的</p><p>gelingen 成功，达到预定目标 - sein gelungen - gelang</p><p>trotz + 第二格</p><p>ökologisch 生态的</p><p>das Geschäftsjahr-e 经营年度，财政年度</p><h1 id="5-8-lehrlinge-als-unternehmer-2"><a class="markdownIt-Anchor" href="#5-8-lehrlinge-als-unternehmer-2"></a> 5-8 Lehrlinge als Unternehmer (2)</h1><p>entstanden = entstehen 过去式 行成</p><p>verwaltet 被管理的 adj</p><p>die Verwaltung 经营管理，行政部门</p><p>die Manufaktur-en 手工作坊</p><p>die Verantwortung-en 责任，责任心</p><p>Es zeigt sich, dass … 事实证明，表明……</p><p>versprechen 保证，承诺，允诺</p><p>der Fremdauftrag-&quot;e 外部订单，第三方订单</p><p>der Sektverschluss-&quot;e 香槟瓶塞</p><p>die Seminarleitung-en 研讨会的领导</p><p>der Seminarteilnehmer- 参加研讨会的人</p><p>nötig 必要的，必不可少的</p><p>eine Entscheidung treffen 做决定</p><p>der Vorstand-&quot;e 董事，理事</p><h1 id="5-9-lehrlinge-als-unternehmer-3"><a class="markdownIt-Anchor" href="#5-9-lehrlinge-als-unternehmer-3"></a> 5-9 Lehrlinge als Unternehmer (3)</h1><p>der Vorstandskollege-n 董事会成员</p><p>die Hierarchie-n 等级制度</p><p>demokratisch 民主的</p><p>über Akkusativ entscheiden 决定某事</p><p>der Unternehmertalent-en 企业家人才</p><p>der Talent-en 人才</p><p>einrichten 建立，设立，设置</p><p>die Einrichtung 机构</p><p>betreiben 从事，进行</p><p>bislang = bisher 至今 adv</p><p>wagen 敢于，冒着……的危险</p><p>die Marktwirtschaft-/ 市场经济</p><p>das Badeöl 沐浴油</p><p>managen 管理，经营，处理</p><p>sich beschaffen （通过努力）成功，得到</p><p>das Geschäftskapital 企业资本，商业资本</p><p>der Anteilschein-e 股份凭证</p><p>die Aktie-n 股份，股票</p><p>auflösen 解散，废除；使溶解</p><p>der Aktienbesitzer- 股东，股票持有者</p><p>Es lohnt sich, … ……是值得的</p><p>der Teilhaber- 合伙人，股东</p><p>die Rendite-n 利润，红利</p><p>die Pleite-n 破产</p><h1 id="5-10-动词-lassen"><a class="markdownIt-Anchor" href="#5-10-动词-lassen"></a> 5-10 动词 lassen</h1><p>lasse - lässt - lässt - lassen - lasst - lassen - haben gelassen</p><p>lassen 相当于英语的 let，意思是“让”，<strong>用法与情态动词相同</strong></p><h2 id="做实义动词"><a class="markdownIt-Anchor" href="#做实义动词"></a> 做实义动词</h2><p>使……保持一种状态</p><p>Ich lasse das so. 我就这么让它去了</p><p>Ich lasse mein Handy ausgeschaltet. 我让我的手机处于关机。</p><h2 id="做助动词"><a class="markdownIt-Anchor" href="#做助动词"></a> 做助动词</h2><p>lassen + Akkusativ + 动词原形</p><p>让某人做某事</p><p>Ich lasse ihn die Post abholen. 我让他去取快递。</p><p>让某物被做</p><p>Wir lassen Schachspiele bei der Firma herstellen. 我们让象棋被公司生产。</p><p>= Die Firma stellt für uns Schachspiele her.</p><p>允许</p><p>Wir lassen alle Mitarbeiter demokratisch entscheiden. 我们允许员工民主决定。</p><p>= Alle Mitarbeiter dürfen demokratisch entscheiden.</p><p>bügeln 熨烫</p><h2 id="现在完成时"><a class="markdownIt-Anchor" href="#现在完成时"></a> 现在完成时</h2><p>Ich lasse das so.</p><p>lassen 做实义动词，变为现在完成时：Ich habe das so <strong>gelassen</strong>.</p><p>Ich lasse ihn die Post abholen.</p><p>lassen 做助动词，变为现在完成时：Ich habe ihn die Post abholen <strong>lassen</strong>.</p><p><strong>当 lassen 做助动词时，现在完成时中保持原形！！！</strong></p><h1 id="5-11-stellenanzeigen-1"><a class="markdownIt-Anchor" href="#5-11-stellenanzeigen-1"></a> 5-11 Stellenanzeigen (1)</h1><p>die Dienstleistung 服务型行业</p><p>das Handwerk 手工业</p><p>die Technik 技术行业</p><p>der Handel/Verkauf 贸易/销售</p><p>der Großhandel 批发业</p><p>der Einzelhandel 零售业</p><p>der Sozialbereich 社会福利行业</p><p>die Gastronomie 餐饮业</p><p>die Landmaschine-n 农业机器</p><p>Landwirt 农场主</p><p>auf dem Land 在郊区</p><p>der Landmaschinenmechaniker- 农业机器机械工</p><p>betriebseigene 企业所有的 adj</p><p>die Hostess-en 女招待，女主人</p><p>begabt sein 有才能的，有天赋的 adj</p><h1 id="5-12-stellenanzeigen-2"><a class="markdownIt-Anchor" href="#5-12-stellenanzeigen-2"></a> 5-12 Stellenanzeigen (2)</h1><table><thead><tr><th style="text-align:center">Fragen</th><th style="text-align:center">1</th><th style="text-align:center">2</th><th style="text-align:center">3</th><th style="text-align:center">4</th><th style="text-align:center">5</th><th style="text-align:center">6</th></tr></thead><tbody><tr><td style="text-align:center">Wer bietet den Beruf an?</td><td style="text-align:center">?</td><td style="text-align:center">die SOS-Jugendhilfen Weilheim</td><td style="text-align:center">Mövenpick Restaurant</td><td style="text-align:center">Hausverwaltung STOHR GmbH</td><td style="text-align:center">Ingenieurgemeinschaft A. Fischer</td><td style="text-align:center">/</td></tr><tr><td style="text-align:center">Welcher Beruf wird angeboten?</td><td style="text-align:center">Landmaschinen-Mechaniker oder LKW-Mechaniker</td><td style="text-align:center">Erzieher/in</td><td style="text-align:center">Servicemitarbeiter (m/w), Hostessen</td><td style="text-align:center">Hausmeister</td><td style="text-align:center">Diplom-Ingenieur/in</td><td style="text-align:center">Verkäuferin und Reinigungskraft</td></tr><tr><td style="text-align:center">Welche Voraussetzungen werden erwartet?</td><td style="text-align:center">?</td><td style="text-align:center">zunächst befristet auf 3 Jahre</td><td style="text-align:center">junge und teamfähig</td><td style="text-align:center">sehr gute handwerkliche und technische Kenntnisse Führerschein Kl. 3</td><td style="text-align:center">qualifiziert</td><td style="text-align:center">freundlich, nach Ebersberg</td></tr><tr><td style="text-align:center">Was bietet der Arbeitgeber?</td><td style="text-align:center">?</td><td style="text-align:center">Aufgabe, Arbeitsklima, Gehalt, BAT, Unterstützung</td><td style="text-align:center">/</td><td style="text-align:center">Eine 2.5-Zi.-Dienstwohnung</td><td style="text-align:center">gute Bezahlung, die üblichen Sozialleistungen</td><td style="text-align:center">/</td></tr><tr><td style="text-align:center">Wie lange ist die Arbeitszeit?</td><td style="text-align:center">?</td><td style="text-align:center">30 Stunden pro Woche</td><td style="text-align:center">/</td><td style="text-align:center">16 Stunden/Woche</td><td style="text-align:center">/</td><td style="text-align:center">ganztags oder halbtags</td></tr><tr><td style="text-align:center">Wann beginnt die Tätigkeit?</td><td style="text-align:center">sofort</td><td style="text-align:center">sofort</td><td style="text-align:center">/</td><td style="text-align:center">sofort</td><td style="text-align:center">/</td><td style="text-align:center">/</td></tr><tr><td style="text-align:center">Wie soll man sich bewerben?</td><td style="text-align:center">anrufen</td><td style="text-align:center">via Post</td><td style="text-align:center">via Post oder anrufen</td><td style="text-align:center">via Post</td><td style="text-align:center">via Post</td><td style="text-align:center">anrufen</td></tr></tbody></table><p>zum nächstmöglichen Zeitpunkt 尽快地，尽早</p><p>nächstmöglich 下一个可能的</p><p>befristet 有期限的</p><p>kollegial 同事间合作的 adj</p><p>angelehnt an Akkusativ 基于……</p><p>anlehnen 倚靠，依赖</p><p>BAT = Bundesangestelltentarif 德国联邦雇员工资待遇</p><p>einschließlich + Genitiv 包括 = inklusive</p><p>vollzählig 足数的，齐全的</p><p>die Arbeitsbeurteilung-en 工作评价，介绍信</p><p>handgeschrieben 手写的</p><p>maschinengeschrieben 机打的</p><p>零冠词的第二格可以不用加二格词尾 -s</p><p>die Gastronomiewelt 美食世界</p><p>sich etablieren 开设，建立（商业）</p><p>teamfähig 能在团队中工作的 adj</p><p>leistungsfähig 高效率的，有工作能力的</p><p>auf jmdn zugehen 靠近某人</p><p>die Zukunft gestalten 塑造未来</p><p>die Wohnanlage-n 居住区</p><p>der Wohnblock-s 居民小区</p><p>geringfügig 微不足道的，细微的</p><p>geringfügige Beschäftigung 小微工作（每月工资不超过 450 欧元的 Mini Job）</p><p>erforderlich 必不可少的 adj</p><p>die Dienstwohnung-en 员工住房</p><p>die Verfügung 有权支配使用</p><p>das Lichtbild-er 证件照</p><p>die Hausverwaltung 物业管理，房管处</p><h1 id="5-13-stellenanzeigen-3"><a class="markdownIt-Anchor" href="#5-13-stellenanzeigen-3"></a> 5-13 Stellenanzeigen (3)</h1><p>erfahren 有经验的</p><p>anerkannt 受到认可的，被承认的 adj</p><p>die Gebäudeausrüstung-en 建筑设备</p><p>bundesweit 联邦范围内的，全国的 adj</p><p>die Raumlufttechnik-/ 室内通风技术</p><p>das Heizungssystem-e 供热系统</p><p>die Bereitschaft 准备</p><p>leistungsorientiert 以业绩为导向的，以效率为导向的</p><p>ausführlich 详尽的 adj</p><p>erbeten 被要求得到的 adj</p><p>das Bürobedarf 办公用品</p><p>freundl. = freundlich</p><p>die Reinigungskraft-en 清洁工作</p><p>erbitten 请求得到</p><h1 id="5-14-第二虚拟式过去式"><a class="markdownIt-Anchor" href="#5-14-第二虚拟式过去式"></a> 5-14 第二虚拟式过去式</h1><p>Konjunktiv II der Vergangenheit</p><p>第二虚拟式现在时：</p><ol><li>尚未实现的愿望</li><li>非现实的条件</li><li>委婉的建议和请求</li></ol><p>第二虚拟式过去时：<strong>用一种虚拟的假设来替代过去已经发生的情况，但实际并未发生。</strong></p><p>第二虚拟式过去式的语法句式基于“现在完成时”</p><p>Die Tochter ist in den Teich gefallen. 女儿掉进的池塘。</p><blockquote><p>Die Tochter wäre  in den Teich gefallen.</p></blockquote><p>Markewitz hat die Schwimmflügel erfunden. Markewitz 发明了游泳臂圈。</p><blockquote><p>Markewitz hätte die Schwimmflügel erfunden.</p></blockquote><p>Wenn die Tochter nicht in den Teich gefallen wäre, hätte Markewitz die Schwimmflügel nicht erfunden. 如果女儿没掉入池塘，Markewitz 就不会发明游泳臂圈。</p><p>第二虚拟式过去式 = 将“现在完成时”的<strong>助动词</strong>改成第二虚拟式</p><table><thead><tr><th style="text-align:center">ich</th><th style="text-align:center">wäre</th><th style="text-align:center">hätte</th></tr></thead><tbody><tr><td style="text-align:center">du</td><td style="text-align:center">wärst</td><td style="text-align:center">hättest</td></tr><tr><td style="text-align:center">er/sie/es</td><td style="text-align:center">wäre</td><td style="text-align:center">hätte</td></tr><tr><td style="text-align:center">wir</td><td style="text-align:center">wären</td><td style="text-align:center">hätten</td></tr><tr><td style="text-align:center">ihr</td><td style="text-align:center">wärt</td><td style="text-align:center">hättet</td></tr><tr><td style="text-align:center">sie/Sie</td><td style="text-align:center">wären</td><td style="text-align:center">hätten</td></tr></tbody></table><p>per + Akkusativ 用，经，由，以</p><p>vernünftig 合理合情的，理智的，合适的</p><p>sich von Dativ überzeugen 信服，心动</p><p>das Portrait-s 头像，肖像</p><p>die Bleistiftzeichnung 铅笔画</p><p>anfertigen 完成制作，完成制造</p><p>die Teilnahme-/ 参与，参加</p><p>an Dativ teilnehmen 参加……</p><p>registrieren 登记，注册</p><h1 id="5-15-seltene-berufe-1"><a class="markdownIt-Anchor" href="#5-15-seltene-berufe-1"></a> 5-15 Seltene Berufe (1)</h1><p>die Paukistin-nen 定音鼓女鼓手</p><p>der Pferdpfleger- 马饲养员</p><p>der Erfinder- 发明家</p><p>der Genosse-n同志</p><p>der Broterwerb 糊口，生计，谋生</p><p>der Knecht-e 奴仆，雇农【旧】</p><p>das Orchester- 管弦乐队</p><p>Laien- 业余的</p><p>Laienschauspieler 业余演员</p><p>Laiensportler 业余运动员</p><p>wohlhabend 特别富有的，有财力的 adj</p><p>der Stall-&quot;e 圈，棚，厩</p><p>ausmisten 清除粪便</p><p>reitfertig 做好骑的准备</p><p>die Reitschule-n 马术学校，骑行学校</p><p>prominent 有名望的，知名的 adj</p><p>der/die Prominente-n 有名望的人</p><p>einigermaßen 相当，还算【小品词】</p><h1 id="5-16-seltene-berufe-2"><a class="markdownIt-Anchor" href="#5-16-seltene-berufe-2"></a> 5-16 Seltene Berufe (2)</h1><p>die Geige-n 小提琴</p><p>die Trompete-n 小号，喇叭</p><p>das Waldhorn-&quot;er 圆号</p><p>die Bratsche-n 中提琴</p><p>das Cello-lli 大提琴</p><p>der Philharmoniker- 交响乐团，爱乐乐团</p><p>den meisten 对大多数人而言</p><p>das Passionsspiel-e 耶稣受难剧</p><p>zum zweiten Mal 第二次</p><p>zum ersten Mal 第一次</p><p>die Schauspielerei-en 演戏</p><p>der Baurecht-e 建筑法</p><p>der Straßenverkehr 道路交通</p><p>aushelfen 临时帮忙，帮助……摆脱困境</p><p>stiften 创办 v</p><p>weltlich 人间的，世俗的，尘世的</p><p>quasi 好像是，似乎是【口语】</p><p>die Erfindung-en 发明，创造</p><p>allermeist （加强语气）绝大多数的</p><p>jmdn für verrückt erklären 断定某人疯了</p><h1 id="5-17-seltene-berufe-3"><a class="markdownIt-Anchor" href="#5-17-seltene-berufe-3"></a> 5-17 Seltene Berufe (3)</h1><p>die Wiege-n 摇篮</p><p>der Zufall-&quot;e 偶然事件，意外事件</p><p>naheliegen 容易得到，容易接近 可分v</p><p>das Schwert-er 刀，剑</p><p>die Statistenrolle-n 配角</p><p>der Statist-en 群众演员，跑龙套的角色</p><p>beschloss = beschließen 过去式 做出……决定，通过，采纳</p><p>Rom 罗马</p><p>römisch 罗马的 adj</p><p>der Legionär-e 军团士兵</p><p>jetzig 当前的，现存的 adj</p><p>zufällig 偶然的，意外的 adj</p><p>der Kaminkehrer- 烟囱清扫工 = Schornsteinfeger</p><p>heilbar 能够治愈的</p><h1 id="5-18-seltene-berufe-4"><a class="markdownIt-Anchor" href="#5-18-seltene-berufe-4"></a> 5-18 Seltene Berufe (4)</h1><p>der Teich-e 池塘</p><p>beinahe 几乎，差不多 = fast</p><p>ertrinken 溺水</p><p>die Todesfalle-n 死亡陷阱</p><p>erfand = erfinden 过去式</p><p>die Schwimmhilfe 游泳辅助</p><p>experimentieren 试验，做实验</p><p>der Roller- 双轮滑车</p><p>etwas auf/über Akkusativ streifen 把……套上</p><p>hielten = halten 过去式</p><p>aufrecht 笔直的，竖直的</p><p>senkrecht 垂直的</p><p>waagerecht 水平的</p><p>jemals 曾经，在任何时候 adv</p><p>trommeln 击鼓，敲打</p><p>die Schüssel-n 碗</p><p>der Topf-&quot;e 锅</p><p>erkannten = erkennen 过去式 认可，承认</p><p>fördern 促进</p><p>erhielt = erhalten 过去式 获得，拥有</p><p>begann = beginnen 过去式 开始</p><p>das Vorstudium 大学预科</p><p>das Schlagzeug 打击乐器</p><p>bald darauf 紧接着，马上</p><p>das Probespiel 试镜</p><p>damalig 当时的，那时的</p><p>dachte = denken 过去式 想，认为</p><p>nötig 必要的，必不可少的 adj</p><h1 id="5-19-seltene-berufe-5"><a class="markdownIt-Anchor" href="#5-19-seltene-berufe-5"></a> 5-19 Seltene Berufe (5)</h1><p>das Rampenlicht 聚光灯</p><p>das Autogramm-e （名人）亲笔签名</p><p>vor kurzem 不久前</p><p>verflixt 烦人的，讨厌的 adj</p><p>Es geht um … 这关乎于……</p><p>jmdn für verrückt erklären 断定某人疯了</p><p>der Bademeister- 职业游泳救护员</p><p>von Dativ überzeugen 信服，对……心动</p><p>mittlerweile 在此期间，同时 adv</p><p>die Ehrung-en 荣誉，敬意</p><p>adeln 授予贵族称号</p><p>empfindlich 灵敏的，敏感的 adj</p><p>stressig 有压力的，有负担的 adj = stressvoll</p><p>der Torwart-e 守门员</p><p>entscheidend 决定性的，关键的 adj</p><h1 id="5-20-seltene-berufe-6"><a class="markdownIt-Anchor" href="#5-20-seltene-berufe-6"></a> 5-20 Seltene Berufe (6)</h1><p>haben Achtung vor + Dativ 对……重视</p><p>auf Akkusativ achten 关注，关心</p><p>die Wut-/ 愤怒，盛怒</p><p>schätzen 珍视，珍惜</p><p>pensionieren 给予退休金让……退休</p><p>werden pensioniert 退休了</p><h2 id="ein-leben-das-sie-nicht-gelebt-haben"><a class="markdownIt-Anchor" href="#ein-leben-das-sie-nicht-gelebt-haben"></a> Ein Leben, das Sie nicht gelebt haben</h2><p>Als ich 17 war, wusste ich nicht, ob ich in China oder im Ausland leben sollte.</p><p>Nach dem Chinesischen Abitur hätte ich zwei Möglichkeiten: Ich konnte nach Kanada gehen oder weiterhin in China bleiben.</p><p>Ich habe mich schließlich für das Studium in China entschieden. Ich habe in die Nankai-Universität, die 985-Institution ist, besucht. Aber wenn Corona Pandemie (COVID-19) schritt, hat die Chinesischen Regierung eine Beschränkung meiner Freiheit verlangen. Im Jahr 2022, wurde ich gebeten, fast jeden Tag einen Nukleinsäuretest mit einem Rachenabstrich durchzuführen!</p><p>Manchmal frage ich mich, ob es vielleicht besser gewesen wäre, wenn ich mich damals für das  ausländische Studium entschieden hätte. Dann wäre ich vielleicht eine PhD Student mit umfangreichem Wissen in Kanada. Aber ich hätte dann nicht so viel Freunde.</p><p>(Nein, ich bereue nicht.) Natürlich bereue ich ja!</p><h1 id="5-21-computerspiel-am-arbeitsplatz-1"><a class="markdownIt-Anchor" href="#5-21-computerspiel-am-arbeitsplatz-1"></a> 5-21 Computerspiel am Arbeitsplatz (1)</h1><p>sich an Akkusativ halten 遵守，遵循</p><p>jmdm kündigen 通知解雇某人，通知某人解约</p><p>betriebseigene 企业自有的 adj</p><p>das Grundmittel 固有资产</p><p>(bei j-m / etw.) handelt es sich um j-n / etw 关系到，涉及，是</p><p>genannt 所谓的</p><p>Es ist sehr zu vermuten, … 很有可能</p><p>in der Tat 事实上</p><p>aussprechen （口头或书面）表达出</p><p>ließ = lassen 过去式</p><p>die Abmahnung-en 警告</p><p>plötzlich 突然的，意外的，忽然的</p><p>auf … reagieren 对……作出反应</p><p>die Maßnahme-n 措施</p><h1 id="5-22-computerspiel-am-arbeitsplatz-2"><a class="markdownIt-Anchor" href="#5-22-computerspiel-am-arbeitsplatz-2"></a> 5-22 Computerspiel am Arbeitsplatz (2)</h1><p>das Arbeitsgericht-e 劳工法院（处理劳工纠纷）</p><p>entschied = entscheiden 的过去式</p><p>weiterbeschäftigten 继续雇佣</p><p>sich mit Dativ beschäftigten 忙于做某事</p><p>wirksam 有效果的，有作用的</p><p>ausdrücklich 明确的，强调的 adj</p><p>jmdn auf Akkusativ hinweisen 向某人指明，指出</p><p>drohen 威胁，恐吓</p><p>korrekt 正确的，合理的</p><p>konkret 具体的，准确的</p><h1 id="5-23-sprachbausteine-teil-2"><a class="markdownIt-Anchor" href="#5-23-sprachbausteine-teil-2"></a> 5-23 Sprachbausteine Teil 2</h1><p>完型填空</p><p>解题思路：</p><p>第一遍速读短文，直接做题，圈出不定项。</p><p>第二遍精读，排除嫌疑项，确定答案。</p><p>考察词汇量和语法！</p><p>ein Examen/eine Prüfung ablegen 参加考试</p><p>im nächsten Jahr 在明年</p><p>ab nächstes Jahr 明年起</p><p>entnehmen 取出；从……中推断出</p><p>sich auf/über Akkusativ freuen</p><h1 id="5-24-folge-5-angst"><a class="markdownIt-Anchor" href="#5-24-folge-5-angst"></a> 5-24 Folge 5 - Angst</h1><p>der Bagger- 挖土机</p><p>der Kranführer- 起重机司机</p><p>das Examen 大学考试</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Ausbildung und Beruf&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Vergleic</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 4 Tägliches Leben</title>
    <link href="https://tinsir888.github.io/posts/2f937e03.html"/>
    <id>https://tinsir888.github.io/posts/2f937e03.html</id>
    <published>2023-05-09T22:00:00.000Z</published>
    <updated>2023-05-20T06:44:48.826Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ul><li><p>Tägliches Leben</p></li><li><p>Über Gewohnheiten sprechen, Party organisieren</p></li><li><p>Reflexivpronomen im Akkusativ und im Dativ, Relativpronomen und Präposition</p></li><li><p>Wortbildung: Nomen + Adjektiv/Adverb je …, desto …</p></li></ul><h1 id="4-1-tägliches-leben-时间副词-频率副词"><a class="markdownIt-Anchor" href="#4-1-tägliches-leben-时间副词-频率副词"></a> 4-1 Tägliches Leben 时间副词、频率副词</h1><p>der Morgen → morgens 每天早晨</p><p>der Vormittag → vormittags 每天上午</p><p>der Mittag → mittags 每天中午</p><p>der Nachmittag → nachmittags 每天下午</p><p>der Abend → abends 每天晚上</p><p>die Nacht → nachts 每天夜晚</p><p><strong>时间副词可以表示一次性的事件，也可以表示一定周期的重复性</strong></p><p>der Montag → montags 每周一</p><p>der Samstagabend → samstagabends 每周六晚</p><p>der Sonntagmittag → sonntagmittags 每周日中午</p><p>频率副词</p><p>immer oft meistens manchmal selten nie</p><h1 id="4-2-aufwachen-1"><a class="markdownIt-Anchor" href="#4-2-aufwachen-1"></a> 4-2 Aufwachen (1)</h1><p>feststellen 固定，确定，强调说明 可分v</p><p>spritzen 喷，溅，撒</p><p>die Wand rot spritzen 把墙喷涂成红色</p><p>in der Zwischenzeit 在间隙，在此期间</p><p>konsequent 坚定不移的，坚持不懈的</p><p>bewältigen 克服，胜任</p><p>Schwierigkeiten bewältigen 克服困难</p><p>die Helligkeit 光亮，亮度</p><p>hindern jmdn an Dativ 阻止某人做某事</p><p>indem 以……的方式</p><p>schreiend 大叫的，大喊的 adj</p><h1 id="4-3-aufwachen-2"><a class="markdownIt-Anchor" href="#4-3-aufwachen-2"></a> 4-3 Aufwachen (2)</h1><p>über längere Zeit 长时间的，长期地</p><p>entsprechend 相应的，相符的 adj</p><p>über die entsprechend Zeit 一定期间中</p><p>merkwürdigerweise 说来奇怪，值得注意的是 adv</p><p>abgleichen 校准，校正 可分v</p><p>sich mit … abgleichen 让自己与……保持一致</p><blockquote><p>Der Ton soll sich mit dem Bild abgleichen. 音画应该同步</p></blockquote><p>liefen = würden laufen 第二虚拟式</p><p>sich aufschaukeln 动荡，加速</p><p>schaukeln 荡秋千</p><p>der Zusammenbruch 崩溃，垮台</p><p>abschirmen 保护，遮护 可分v</p><p>abgeschirmt 被遮护的 adj</p><p>merkwürdig 古怪的，出奇的</p><p>etwas Merkwürdiges 一些古怪的事情</p><p>subjektiv 主观的 objektiv 客观的</p><p>derjenige/dasjenige/diejenige 就是这一个，就是那一个（加强语气）</p><p>entgehen + Dativ 被错过，被忽略</p><blockquote><p>Mir entgeht die Chance.  这次机会被我错过了。</p></blockquote><p>sich[A] schleichen 蹑手蹑脚，悄悄地走</p><p>rütteln 摇晃，摇动</p><h1 id="4-4-tischmanieren"><a class="markdownIt-Anchor" href="#4-4-tischmanieren"></a> 4-4 Tischmanieren</h1><p>der Brotkorb 面包篮</p><p>der Eierbecher 鸡蛋杯</p><p>die Untertasse-n 茶碟</p><p>die Platte-n 托盘</p><p>die Schüssel-n 碗</p><p>die Zuckerdose-n 糖罐子</p><p>die Kanne-n 壶</p><p>die Pfanne-n 平底锅</p><p>die Tasse-n 杯子</p><p>der Topf-&quot;e 锅</p><p>die Kuchengabel-n 蛋糕叉</p><p>der Stiel-e 手柄，手把</p><p>der Gebrauch 使用 n</p><p>der Zahnstocher- 牙签</p><p>stutzen 支撑，撑托</p><p>der Ellbogen/Ellenbogen- 肘</p><p>das Geräusch-e 噪音，吵闹声</p><p>die Serviette-n 餐巾</p><h1 id="4-5-由介词引导的关系从句"><a class="markdownIt-Anchor" href="#4-5-由介词引导的关系从句"></a> 4-5 由介词引导的关系从句</h1><p>Relativsätze mit Präpositionen</p><p>关系从句：由关系代词带起的关系从句，一般紧跟在主句中某一被修饰或说明的名词后面，以作补充说明。</p><p>主句，（介词）+ 关系代词 + 从句（注意动词置尾）</p><p>关系代词：性数看前，格看后</p><p>Ein Brotmesser ist ein großes Messer, das man beim Frühstück benutzt.</p><p>面包到是一把吃早餐时用到的大刀。</p><p>Ein Brotmesser ist ein großes Messer, mit dem man Brot schneidet.</p><p>面包到是一把用来切面包的大刀。</p><h1 id="4-6-welcher-esstyp-sind-sie-1"><a class="markdownIt-Anchor" href="#4-6-welcher-esstyp-sind-sie-1"></a> 4-6 Welcher Esstyp sind Sie? (1)</h1><p>im Stehen 站着</p><p>Es fällt jmdm … = Es passiert jmdm 在某人身上发生了</p><p>die Mahlzeit-en 一顿饭，一餐</p><p>die Qualität-en 质量</p><p>die Quantität-en 数量</p><p>ausprobieren 尝试，试吃 可分v</p><p>das Nahrungsmittel = das Lebensmittel 食品，粮食</p><p>fetthaltig 油腻的</p><p>die Erwartung-en 期望，指望</p><p>angespannt 紧张的，弦绷紧的 adj</p><p>verärgert = ärgerlich 生气的，恼怒的 adj</p><p>essbar 可以吃的 adj</p><p>etwas Essbares 能够吃的东西</p><p>abschalten 走神</p><p>der Vorgang 事情经过</p><p>sich mit Dativ beschäftigen 忙于某事</p><p>das Handicap-s 障碍</p><p>die Konsequenz-en 后果，结果</p><p>das Gewissen 良知，良心</p><p>ein schlechtes Gewissen 深感愧疚</p><p>verschwenden 浪费，挥霍</p><p>die Aufmerksamkeit 注意力，专心</p><p>Danke für ihre Aufmerksamkeit! 感谢收看/收听！</p><p>sein in Eile = haben es eilig 赶时间</p><h1 id="4-7-welcher-esstyp-sind-sie-2"><a class="markdownIt-Anchor" href="#4-7-welcher-esstyp-sind-sie-2"></a> 4-7 Welcher Esstyp sind Sie? (2)</h1><p>sich ins … flüchten 用……来逃避</p><blockquote><p>Nach der Scheidung flüchtet sie sich in die Arbeit.</p></blockquote><p>mehr oder weniger 或多或少</p><p>gleichgültig 无关紧要的 adj</p><p>kauen 咀嚼</p><p>in/mit + Dativ bestehen 由……组成</p><p>kalorienhaltig 高卡路里的 adj</p><p>ersetzen 替换，替补</p><p>Fettaugen 油泡泡（“像油一样的眼睛”，即浮在汤上面的油泡泡）</p><p>das Tabu-s 禁忌，忌讳</p><p>erlernen 学会，学到</p><p>die Entspannungsmethode-n 放松方法</p><p>die Atemübung-en 呼吸联系</p><p>der Atem-/ 呼吸</p><p>einsetzen 把……放入，将……投入，放入计划</p><p>ausräumen 把……全部搬出，清理出，倒空</p><p>möglichst 尽可能地，尽量地</p><p>zwischendurch = in der Zwischenzeit 间隙时间</p><p>vertreiben 驱逐，消除</p><p>die Hitparade-n 金曲榜</p><p>denkbar 可想到的，想得到的 adj</p><p>wählerisch 挑剔的，挑三拣四的 adj</p><h1 id="4-8-德语构词法复合形容词"><a class="markdownIt-Anchor" href="#4-8-德语构词法复合形容词"></a> 4-8 德语构词法：复合形容词</h1><p>Nomen + Adjektiv/Adverb</p><h2 id="复习单词缀形容词"><a class="markdownIt-Anchor" href="#复习单词缀形容词"></a> 复习单词缀形容词</h2><h3 id="-ig"><a class="markdownIt-Anchor" href="#-ig"></a> -ig</h3><p>farbig 彩色的</p><p>regelmäßig 规律的</p><p>günstig 实惠的</p><h3 id="-isch"><a class="markdownIt-Anchor" href="#-isch"></a> -isch</h3><p>praktisch 实用的</p><p>typisch 典型的</p><p>italienisch 意大利的</p><h3 id="-lich"><a class="markdownIt-Anchor" href="#-lich"></a> -lich</h3><p>täglich 每天的</p><p>pünktlich 准时的</p><p>sportlich 运动的</p><h2 id="复合形容词-名词-词缀"><a class="markdownIt-Anchor" href="#复合形容词-名词-词缀"></a> 复合形容词 = 名词 + 词缀</h2><h3 id="-los"><a class="markdownIt-Anchor" href="#-los"></a> -los</h3><p>跟在名词后，表示没有……的（失去，丢失的意味）</p><p>das Kosten + los = kostenlos 免费的</p><p>die Kinder + los = kinderlos 无子女的</p><p>die Arbeit + los = arbeitslos 失业的</p><h3 id="-frei"><a class="markdownIt-Anchor" href="#-frei"></a> -frei</h3><p>跟在名词后，表示没有……的（不包含成分或不受约束和负担的意思）</p><p>der Zucker + frei = zuckerfrei 无糖的</p><p>der Alkohol + frei = alkoholfrei 无酒精的</p><p>der Cholesterin + frei = cholesterinfrei 无胆固醇的</p><p>die Arbeit + frei = arbeitsfrei 歇工的</p><h3 id="-arm"><a class="markdownIt-Anchor" href="#-arm"></a> -arm</h3><p>跟在名词后，表示缺少……的</p><p>die Kalorien + arm = kalorienarm 低卡的</p><p>das Fett + arm = fettarm 清淡少油的</p><p>die Sonne + arm = sonnenarm 缺少阳光的</p><h3 id="-reich"><a class="markdownIt-Anchor" href="#-reich"></a> -reich</h3><p>跟在名词后，表示富含……的</p><p>die Kalorien + reich = kalorienreich 高卡的</p><p>der Erfolg + reich = erfolgreich 成功的</p><p>das Vitamin + reich = vitaminreich 富含维生素的</p><h3 id="-voll"><a class="markdownIt-Anchor" href="#-voll"></a> -voll</h3><p>跟在名词后，表示充满……的</p><p>die Fantasie + voll = fantasievoll 充满想象力的</p><p>der Sinn + voll = sinnvoll 充满意义的</p><p>der Humor + voll = humorvoll 有幽默感的</p><h3 id="-haltig"><a class="markdownIt-Anchor" href="#-haltig"></a> -haltig</h3><p>跟在名词后，表示含有……的</p><p>der Zucker + haltig = zuckerhaltig 含糖的</p><p>das Fett + haltig = fetthaltig 含油脂的</p><p>das Vitamin + haltig = vitaminhaltig 含维生素的</p><h1 id="4-9-was-die-deutschen-gern-essen"><a class="markdownIt-Anchor" href="#4-9-was-die-deutschen-gern-essen"></a> 4-9 Was die Deutschen gern essen?</h1><p>das Hackfleisch 肉末</p><p>das Salatblatt 生菜</p><p>die Soße 酱汁</p><p>der Kartoffelbrei 土豆泥</p><p>das gekochte Ei 水煮蛋</p><p>die Glasscheibe 奶酪片</p><p>die Gurkenscheibe 黄瓜片</p><p>der Ketschup 番茄酱</p><p>die Zwiebel 洋葱</p><p>würzen 给……加调料</p><p>braten 煎 - brätst brät - haben gebraten - briet</p><p>schneiden 切 - haben geschnitten - schnitt</p><p>geben 给 - gibst gibt - haben gegeben - gab</p><p>reiben 摩擦，擦拭 haben gerieben - rieb</p><p>feuerfest 防火的</p><p>streuen 撒</p><p>der Autor-en 作家</p><p>der Lebensmittelchemiker- 食品化学家</p><p>das Fleischbällchen- 肉团，肉丸</p><p>von Dativ lassen 放下，放弃，戒掉 = mit Dativ aufhören</p><blockquote><p>Er kann von Zigaretten nicht lassen.</p></blockquote><p>der Heißhunger- 渴望，嘴馋</p><p>befürchten 害怕，恐怕 及物v</p><p>fürchten 不及物v</p><blockquote><p>Ich fürchte, dass… 恐怕……</p><p>für/um… fürchten 为……感到担忧</p><p>sich vor… fürchten 害怕，担心某事</p></blockquote><h1 id="4-10-warum-sind-hamburger-beliebt"><a class="markdownIt-Anchor" href="#4-10-warum-sind-hamburger-beliebt"></a> 4-10 Warum sind Hamburger beliebt?</h1><p>beißen 咬，啃 - haben gebissen - biss</p><p>servieren 招待，上菜</p><p>die Babykost 婴儿膳食</p><p>sich anstrengen 尽力，想方设法</p><p>Umso wichtiger ist… 更重要的是……</p><p>das Mundgefühl-/ 口感</p><p>beschrieb = beschreiben 过去式</p><p>für … sorgen 关心，负责</p><p>der Geruch-&quot;e 气味</p><p>der Bratgeruch 煎烤气味</p><p>zusammenlaufen 汇合，混合 可分v</p><p>für … verantwortlich sein 为……负责</p><p>das Weißmehlbrötchen 白面粉面包</p><p>haben nichts mit Dativ zu tun 和……有关</p><p>der Speichel-/ 口水，唾液</p><p>verschwunden 消失了的 adj</p><p>das Prinzip-pien 原理，原则</p><p>nachprüfen 在此检测，检查，复查</p><p>第一虚拟式：引用别人说的话</p><p>die Zutat-en 配料，佐料</p><p>entstehen 形成，产生v</p><p>funktionierend 运转正常的，生效的 adj</p><p>der Konsument-en 消费者</p><h1 id="4-11-einladung-zur-weinprobe"><a class="markdownIt-Anchor" href="#4-11-einladung-zur-weinprobe"></a> 4-11 Einladung zur Weinprobe</h1><p>使用带 zu 不定式连接共享主语的句子</p><p>leiblich 身体的，血缘的 adj</p><p>leibliches Wohl 身体安康</p><p>使用倒装句</p><p>适量使用被动句</p><p>musikalisch 音乐的，悦耳的 adj</p><p>插入时间状语</p><p>sich amüsieren 感到高兴，觉得有趣</p><p>jmdm etwas[Akkusativ] breiten 为……做好准备</p><p>die Treue-/ 忠心，忠诚</p><p>der Katalog-e 目录册</p><h1 id="4-12-sprachbausteine-teil-1"><a class="markdownIt-Anchor" href="#4-12-sprachbausteine-teil-1"></a> 4-12 Sprachbausteine Teil 1</h1><p>德语完型填空</p><p>10 Minuten（8 Minuten 做题，2 Minuten 填答题卡）</p><h2 id="解题思路"><a class="markdownIt-Anchor" href="#解题思路"></a> 解题思路</h2><p>第一遍速读短文，直接做题，圈出不定项。</p><p>第二遍精读，排除嫌疑项，确定答案</p><p>完形填空考察词汇量和语法！</p><p>an Akkusativ denken</p><p>die Heimfahrt 回家的路</p><p>gegen + 整点 在……点左右</p><p>etwa 大约 + 数量</p><p>etwas 一些事情/一点点</p><h1 id="4-13-folge-4-multi-kulti"><a class="markdownIt-Anchor" href="#4-13-folge-4-multi-kulti"></a> 4-13 Folge 4 - Multi Kulti</h1><p>Vegetarier essen kein Fleisch.</p><p>Charlotte ist allergisch gegen Weizen und Roggen.</p><p>Zwei der Eingeladenen sind gegen Rindfleisch.</p><p>Renate ist im Hühnerschutz aktiv und isst deshalb kein Huhn.</p><p>Frieder ekelt sich vor Fisch.</p><p>Lenny ist Jude und Anitas neuer Freund ist Moslem. Sie dürfen wegen ihrer Religion kein Schweinefleisch essen.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Tägliches Leben&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Über Gewohnhe</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>动手强化学习 第七章 深度强化学习价值方法</title>
    <link href="https://tinsir888.github.io/posts/c2c3d571.html"/>
    <id>https://tinsir888.github.io/posts/c2c3d571.html</id>
    <published>2023-05-05T22:00:00.000Z</published>
    <updated>2023-05-10T06:11:17.044Z</updated>
    
    <content type="html"><![CDATA[<h1 id="深度强化学习"><a class="markdownIt-Anchor" href="#深度强化学习"></a> 深度强化学习</h1><h2 id="价值和策略近似"><a class="markdownIt-Anchor" href="#价值和策略近似"></a> 价值和策略近似</h2><p>是否可以通过深度神经网络直接近似价值/策略函数？</p><h2 id="端到端强化学习"><a class="markdownIt-Anchor" href="#端到端强化学习"></a> 端到端强化学习</h2><p>标准的 传统的 计算机视觉 需要 特征提取 中级特征提取 分类……</p><p>而 AlexNet 的提出，深度学习的出现，使得 计算机视觉称为端到端的</p><p>相同的，深度强化学习使强化学习算法能够以端到端的方式解决复杂问题</p><p>深度强化学习</p><ol><li>利用深度神经网络进行价值函数和策略近似</li><li>使得算法能够以端到端的方式解决复杂问题</li></ol><p>2013，DeepMind 首次提出，用深度强化学习玩 Atari 游戏。</p><h2 id="深度学习和强化学习结合"><a class="markdownIt-Anchor" href="#深度学习和强化学习结合"></a> 深度学习和强化学习结合</h2><ul><li>价值函数和策略编程深度神经网络</li><li>高维的参数空间</li><li>难以稳定训练</li><li>容易过拟合</li><li>需要大量数据</li><li>需要高性能计算</li><li>CPU 收集经验数据 - GPU 训练神经网络 trade-off</li></ul><h2 id="深度强化学习的分类"><a class="markdownIt-Anchor" href="#深度强化学习的分类"></a> 深度强化学习的分类</h2><ul><li><p>基于价值：深度 Q 网络及其变种</p></li><li><p>基于随机策略的方法：策略梯度、自然策略梯度、信任区域策略优化 TRPO、近端策略优化 PPO、A3C</p></li><li><p>确定性策略梯度 DPG，DDPG</p></li></ul><h1 id="深度-q-网络"><a class="markdownIt-Anchor" href="#深度-q-网络"></a> 深度 Q 网络</h1><h2 id="dqn"><a class="markdownIt-Anchor" href="#dqn"></a> DQN</h2><h3 id="复习-q-learning"><a class="markdownIt-Anchor" href="#复习-q-learning"></a> 复习 Q learning</h3><ul><li>不直接更新策略</li><li>基于值的方法</li><li>Q learning 学习一个由 θ 作为参数的函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></li></ul><p>而深度 Q 网络的直接想法</p><ul><li>使用神经网络逼近 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></li><li>算法不稳定<ul><li>连续采样得到的 SASR 不满足独立分布，因为 Q 频繁更新</li></ul></li></ul><p>解决办法</p><ul><li>经验回放</li><li>使用双网络结构：评估网络和目标网络</li></ul><h3 id="经验回放"><a class="markdownIt-Anchor" href="#经验回放"></a> 经验回放</h3><p>存储训练过程中的每一步 SASR 于数据库中，采样时服从均匀分布</p><p>优先经验回放</p><ul><li>衡量标准<ul><li>以 Q 函数值与 Target 值的差异来衡量学习的价值</li><li>为了使各样本都有机会被采样</li></ul></li><li>选中的概率</li><li>重要性采样 采用权重</li></ul><h3 id="目标网络"><a class="markdownIt-Anchor" href="#目标网络"></a> 目标网络</h3><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><ul><li>使用较旧的参数，记为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>θ</mi><mo>−</mo></msup></mrow><annotation encoding="application/x-tex">\theta^-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.771331em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span></span></span></span>，每隔 C 步和训练网络的参数同步一次</li></ul><p>目标网络是慢更新的网络，相对比较稳定</p><h3 id="算法流程"><a class="markdownIt-Anchor" href="#算法流程"></a> 算法流程</h3><ol><li>收集数据，使用 ε-greedy 的策略进行探索，得到的状态动作组 sars 放如经验池 replay-buffer</li><li>采样：从数据库中采样 k 个动作状态组</li><li>更新网络：<ul><li>采样得到的数据计算 loss</li><li>更新 Q 函数网络 θ</li><li>每 C 次迭代更新以此目标网络的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>θ</mi><mo>−</mo></msup></mrow><annotation encoding="application/x-tex">\theta^-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.771331em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span></span></span></span></li></ul></li></ol><h2 id="double-dqn"><a class="markdownIt-Anchor" href="#double-dqn"></a> Double DQN</h2><h3 id="q-learning-中的过估计"><a class="markdownIt-Anchor" href="#q-learning-中的过估计"></a> Q-Learning 中的过估计</h3><p>Q 函数的过高估计 over estimation</p><ul><li>Target 值，如果当前估计有偏差，max 函数会放大这个偏差</li></ul><p>过高估计的原因</p><ul><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>≥</mo><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbb E[\max(X_1,X_2)]\geq\max(\mathbb E(X_1),\mathbb E(X_2))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mop">max</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathbb">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathbb">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo><mi>max</mi><mo>⁡</mo></mo><mrow><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∈</mo><mi>A</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>≥</mo><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\max_{a&#x27;\in A}(s_{t+1},a&#x27;)\geq\max(\mathbb E(R|s_{t+1},a_1,\theta&#x27;),\mathbb E(R|s_{t+1},a_2,\theta&#x27;),\cdots)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.17737em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathbb">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathbb">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mclose">)</span></span></span></span></p></li></ul><p>Q 函数的值被视作在状态 s‘，动作 a’ 下的回报期望值</p><p>Q 函数的过高估计随着候选行动数量增大变得更严重</p><h3 id="解决过估计问题"><a class="markdownIt-Anchor" href="#解决过估计问题"></a> 解决过估计问题</h3><p>使用不同的网络来估值和决策</p><p>两个 Q 网络：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">Q_\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 用于选择动作；<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub></mrow><annotation encoding="application/x-tex">Q_{\theta&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 用于评估更新 label</p><h2 id="dueling-dqn"><a class="markdownIt-Anchor" href="#dueling-dqn"></a> Dueling DQN</h2><p>假设动作值函数服从某分布 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>∼</mo><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi>μ</mi><mo separator="true">,</mo><mi>σ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a)\sim\mathcal N(\mu,\sigma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathnormal">μ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mclose">)</span></span></span></span></p><p>显然：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>=</mo><mi>μ</mi></mrow><annotation encoding="application/x-tex">V(x)=\mathbb E[Q(s,a)]=\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">μ</span></span></span></span></p><p>同样有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>μ</mi><mo>+</mo><mi>ϵ</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a)=\mu+\epsilon(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">μ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span>（有偏估计）</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><mi>V</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\epsilon(s,a)=Q(s,a)-V(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϵ</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span> 也被称为优势函数 Advantage Function</p><h3 id="优势函数"><a class="markdownIt-Anchor" href="#优势函数"></a> 优势函数</h3><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^\pi(s,a)=Q^\pi(s,a)-V^\pi(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><msub><mi>R</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo>=</mo><mi>s</mi><mo separator="true">,</mo><msub><mi>a</mi><mi>t</mi></msub><mo>=</mo><mi>a</mi><mo separator="true">,</mo><mi>π</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q^\pi(s,a)=\mathbb E[R_t|s_t=s,a_t=a,\pi]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>a</mi><mo>∼</mo><mi>π</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">V^\pi(s)=\mathbb E_{a\sim\pi(s)}[Q^\pi(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>不同优势函数的聚合形式</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">)</mo><mo>=</mo><mi>V</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mo><mi>max</mi><mo>⁡</mo></mo><mrow><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∈</mo><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow></msub><mi>A</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a;\theta,\alpha,\beta)=V(s;\theta,\beta)+(A(s,a;\theta,\alpha)-\max_{a&#x27;\in|A|}A(s,a&#x27;;\theta,\alpha))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">A</span><span class="mord mtight">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">)</mo><mo>=</mo><mi>V</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo stretchy="false">)</mo><mo>−</mo><mfrac><mn>1</mn><mrow><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><mi>A</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">;</mo><mi>θ</mi><mo separator="true">,</mo><mi>α</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a;\theta,\alpha,\beta)=V(s;\theta,\beta)+(A(s,a;\theta,\alpha)-\frac{1}{|A|}A(s,a&#x27;;\theta,\alpha))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.365108em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathnormal mtight">A</span><span class="mord mtight">∣</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></li></ul><h3 id="优点"><a class="markdownIt-Anchor" href="#优点"></a> 优点</h3><ul><li>处理与动作关联较小的状态</li><li>状态值函数的学习较为有效：一个状态值对应多个优势函数值</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;深度强化学习&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#深度强化学习&quot;&gt;&lt;/a&gt; 深度强化学习&lt;/h1&gt;
&lt;h2 id=&quot;价值和策略近似&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#价值和策略近似&quot;&gt;&lt;</summary>
      
    
    
    
    <category term="动手学习强化学习课程笔记" scheme="https://tinsir888.github.io/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="强化学习" scheme="https://tinsir888.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>动手强化学习 第六章 规划与学习</title>
    <link href="https://tinsir888.github.io/posts/786e440a.html"/>
    <id>https://tinsir888.github.io/posts/786e440a.html</id>
    <published>2023-05-04T22:00:00.000Z</published>
    <updated>2023-05-05T14:04:51.311Z</updated>
    
    <content type="html"><![CDATA[<p>learning by planing</p><h1 id="入门算法与介绍"><a class="markdownIt-Anchor" href="#入门算法与介绍"></a> 入门算法与介绍</h1><h2 id="模型是什么"><a class="markdownIt-Anchor" href="#模型是什么"></a> 模型是什么</h2><p>给定一个状态和动作，模型能够预测下一个状态和奖励的分布，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi>r</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(s&#x27;,r|s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><ul><li>s, a：给定的状态和动作</li><li>s’, r：下一个状态和奖励</li></ul><p>模型的分类：分布模型（distribution model，类似于白盒模型）、样本模型（sample model，黑盒模型）</p><p>以掷骰子为例：分布模型指的是得到骰子数字总和的所有可能性及其概率；样本模型之采样得到一种骰子的数字综合</p><p>模型的作用：得到模拟的经验数据（simulated experiences）</p><h2 id="规划是什么"><a class="markdownIt-Anchor" href="#规划是什么"></a> 规划是什么</h2><h3 id="规划-planning"><a class="markdownIt-Anchor" href="#规划-planning"></a> 规划 planning</h3><p>输入一个模型，输出一个策略的搜索过程</p><ul><li>状态空间的规划 state-space planning</li><li>规划空间的规划 plan-space planning</li></ul><p>规划的通用框架</p><p>模型→模拟经验→值函数→策略</p><h3 id="规划的好处"><a class="markdownIt-Anchor" href="#规划的好处"></a> 规划的好处</h3><ul><li>任何时间点都可以被打断或重定向</li><li>复杂问题下进行小而增量式的时间步规划是很有效的</li></ul><h2 id="规划和学习"><a class="markdownIt-Anchor" href="#规划和学习"></a> 规划和学习</h2><p>不同点：规划用模型产生的模拟经验；学习用环境产生的真实经验</p><p>相同点：通过回溯更新值函数估计；学习的方法可以用在模拟经验上</p><h2 id="dyna-算法"><a class="markdownIt-Anchor" href="#dyna-算法"></a> Dyna 算法</h2><p>集成规划、决策和学习的算法</p><ul><li>更新模型<ul><li>模型学习或间接强化学习</li><li>对经验数据的需求少</li></ul></li><li>更新值函数和策略<ul><li>直接强化学习</li><li>简单不受模型偏差的影响</li></ul></li></ul><h3 id="dyna-算法框架"><a class="markdownIt-Anchor" href="#dyna-算法框架"></a> Dyna 算法框架</h3><ul><li>和环境交互产生真实经验</li><li>直接强化学习更新函数策略</li><li>使用真实经验更新模型</li><li>基于模型随机采样得到模拟经验</li><li>使用模拟经验做规划更新值函数和策略</li></ul><p><img src="/pic/rlpics/7.PNG" alt="" /></p><p>对于比较简单的环境，进行 planing 后模型能收敛更快。</p><p>模型不准了怎么办？</p><ul><li>环境是随机的，并且之观察了有限的样本</li><li>模型使用了泛化性不好的函数估计</li><li>环境改变了，并且还没有被算法检测到</li></ul><h1 id="采样方法"><a class="markdownIt-Anchor" href="#采样方法"></a> 采样方法</h1><h2 id="优先级采样"><a class="markdownIt-Anchor" href="#优先级采样"></a> 优先级采样</h2><p>常见的采样方法：均匀随机采样；模拟的经验和更新应集中在一些特殊的状态动作</p><p>更好的采样方法：</p><ul><li>后向聚焦 backward focusing：很多状态的值发生变化带动前继状态的值发生变化</li><li>有的值改变多，有的改变少</li></ul><p>优先级采样</p><ul><li><p>设置优先级更新队列</p><p>根据值改变的幅度定义优先级 <span class='katex-error' title='Error: Font metrics not found for font: .'>𝑃 ← |𝑅 + 𝛾\max_𝑎𝑄(S′,a)−𝑄(𝑆,𝐴)|</span></p></li></ul><h3 id="局限性及改进"><a class="markdownIt-Anchor" href="#局限性及改进"></a> 局限性及改进</h3><p>随机环境种利用期望更新的方法，会可能浪费很多计算资源在一些低概率的状态转移上</p><p>改进：引入采样更新</p><h2 id="期望更新和采样更新"><a class="markdownIt-Anchor" href="#期望更新和采样更新"></a> 期望更新和采样更新</h2><p>值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>a</mi><mo>∼</mo><mi>π</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">V(s)=\mathbb E_{a\sim\pi(s)}[Q(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>动作值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><p>期望更新 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>←</mo><msub><mo>∑</mo><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi>r</mi></mrow></msub><mover accent="true"><mi>p</mi><mo>^</mo></mover><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi>r</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">[</mo><mi>r</mi><mo>+</mo><mi>γ</mi><msub><mo><mi>max</mi><mo>⁡</mo></mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mi>Q</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q(s,a)\leftarrow\sum_{s&#x27;,r}\hat p(s&#x27;,r|s,a)[r+\gamma\max_{a&#x27;}Q(s&#x27;,a&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.18771em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17826999999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">p</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32797999999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><ul><li>需要分布模型</li><li>需要更大的计算量</li><li>没有偏差更准确</li></ul><p>采样更新 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>←</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>α</mi><mo stretchy="false">[</mo><mi>r</mi><mo>+</mo><mi>γ</mi><msub><mo><mi>max</mi><mo>⁡</mo></mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><mi>Q</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q(s,a)\leftarrow Q(s,a)+\alpha[r+\gamma\max_{a&#x27;}Q(s&#x27;,a&#x27;)-Q(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32797999999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><ul><li>只需要采样模型</li><li>计算量需求更低</li><li>受到采样误差(sampling error)的影响</li></ul><h3 id="不同分支因子下的表现"><a class="markdownIt-Anchor" href="#不同分支因子下的表现"></a> 不同分支因子下的表现</h3><p>假设</p><ul><li>b 个后续状态等可能</li><li>初始估计误差为 1</li><li>下一个状态值假设估计正确</li></ul><p>结果</p><ul><li>分支因子越多，采样更新越接近期望更新</li><li>大的随机分支银子和状态数量较多的情况下，采样更新更好</li></ul><p>所以环境越复杂越应该用采样更新而不是期望更新</p><h2 id="轨迹采样"><a class="markdownIt-Anchor" href="#轨迹采样"></a> 轨迹采样</h2><p>对比动态规划：对整个状态空间进行遍历，没有侧装实际需要关注的状态上</p><p>在状态空间种按照特定分布采样：根据当下策略所关测的分布进行采样</p><p>轨迹采样的状态转移和奖励由模型决定；动作由当前的策略决定</p><h3 id="轨迹采样的优缺点"><a class="markdownIt-Anchor" href="#轨迹采样的优缺点"></a> 轨迹采样的优缺点</h3><p>优点</p><ul><li>不需要指导当前策略下状态的分布</li><li>计算量少，简单有效</li></ul><p>缺点</p><ul><li>不断重复更新已经被访问的状态</li></ul><h1 id="决策时规划"><a class="markdownIt-Anchor" href="#决策时规划"></a> 决策时规划</h1><h2 id="实时动态规划"><a class="markdownIt-Anchor" href="#实时动态规划"></a> 实时动态规划</h2><p>和传统动态规划的区别</p><ul><li>实时的轨迹采样</li><li>只更新轨迹访问的状态值</li></ul><p>优势</p><ul><li>跳过策略无关的状态</li><li>解决状态集合规模大的问题上具有优势</li><li>满足一定条件下可以以概率 1 收敛到最优策略</li></ul><h2 id="决策时规划-2"><a class="markdownIt-Anchor" href="#决策时规划-2"></a> 决策时规划</h2><p>背景规划 background planning</p><ul><li>规划是为了更新很多状态值供后续动作的选择</li></ul><p>决策时规划 decision-time planning</p><ul><li>只着眼于当前状态的动作选择</li><li>在不需要快速反应的应用种很有效，比如棋类游戏</li></ul><h3 id="启发式搜索"><a class="markdownIt-Anchor" href="#启发式搜索"></a> 启发式搜索</h3><ul><li>访问当前状态，对后续可能的情况进行树结构展开</li><li>叶节点代表估计的值函数</li><li>回溯到当前状态，方式类似于值函数的更新方式</li></ul><p>启发式搜索就可以使用决策时规划</p><p>贪婪策略在单步情况下的扩栈</p><p>搜索越深，计算量越大，得到的动作越接近最有</p><p>性能提升不是源于多步更新，而是源于专注当前状态的后续可能</p><h3 id="rollout-算法"><a class="markdownIt-Anchor" href="#rollout-算法"></a> Rollout 算法</h3><ul><li>从当前状态进行模拟的蒙特卡洛估计</li><li>选取最高估计值的动作</li><li>在下一个状态重复上述步骤</li></ul><p>特点</p><ul><li>决策时规划，从当前状态进行 rollout</li><li>直接目的类似于策略迭代和改进，寻找更优的策略</li><li>表现取决于蒙特卡洛方法估值的准确性</li></ul><p>Rollout 算法的加速方法</p><ul><li>多处理器进行并行采样</li><li>轨迹截断，用存储的值估计代替回报</li><li>剔除不可能称为最佳动作的动作（剪枝）</li></ul><h3 id="蒙特卡洛树搜索"><a class="markdownIt-Anchor" href="#蒙特卡洛树搜索"></a> 蒙特卡洛树搜索</h3><p>选择、扩展、模拟、回溯</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;learning by planing&lt;/p&gt;
&lt;h1 id=&quot;入门算法与介绍&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#入门算法与介绍&quot;&gt;&lt;/a&gt; 入门算法与介绍&lt;/h1&gt;
&lt;h2 id=&quot;模型是什么&quot;&gt;&lt;a class=&quot;markdown</summary>
      
    
    
    
    <category term="动手学习强化学习课程笔记" scheme="https://tinsir888.github.io/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="强化学习" scheme="https://tinsir888.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 3 Freizeit und Fitness</title>
    <link href="https://tinsir888.github.io/posts/bb57c478.html"/>
    <id>https://tinsir888.github.io/posts/bb57c478.html</id>
    <published>2023-04-01T22:00:00.000Z</published>
    <updated>2023-05-09T08:29:11.501Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ol><li>Freizeit und Fitness</li><li>Ratschläge mit sollte Argumente vorbringen</li><li>Präpositionen bei Zeitangaben</li><li>Komparation, Konjunktiv II</li></ol><h1 id="3-1-freizeitbeschäftigung"><a class="markdownIt-Anchor" href="#3-1-freizeitbeschäftigung"></a> 3-1 Freizeitbeschäftigung</h1><p>der Film-e 胶片</p><p>der Kopfhörer- 耳机</p><p>Nickerchen machen 小憩</p><p>das Bungeespringen 蹦极</p><p>klettern 攀岩</p><p>der Tennisschläger- 网球拍</p><p>radeln 骑自行车</p><p>zappen 换电视台</p><p>der Gesellschaftstanz 国标，交谊舞</p><p>das Sonnenbad 日光浴</p><p>entspannend 令人放松的 adj</p><p>meditieren 冥想</p><p>erholsam 养神的 adj</p><p>das Rafting 漂流</p><p>sich abspielen = stattfinden 举行，进行，发生</p><p>hauptsächlich 主要的，重要的</p><p>der Terminkalender- 记事日历，备忘日历</p><p>randvoll 装满的，倒满的 adj</p><p>die Wirtschaft-en 经济；饮食店；家务家政；客栈；劳累麻烦</p><p>根据课文，完成书上 33 页第 6 题：</p><table><thead><tr><th style="text-align:center">Wer?</th><th style="text-align:center">wann?</th><th style="text-align:center">wo?</th><th style="text-align:center">warum?</th><th style="text-align:center">Besonderheiten</th></tr></thead><tbody><tr><td style="text-align:center">Brinkmanns</td><td style="text-align:center">am Wochenende</td><td style="text-align:center">/</td><td style="text-align:center">Das macht den Kindern Spaß.</td><td style="text-align:center">unterwegs Eis essen können.</td></tr><tr><td style="text-align:center">Silke</td><td style="text-align:center">/</td><td style="text-align:center">Kino</td><td style="text-align:center">Es gibt für sie nichts Schöneres.</td><td style="text-align:center">isst gern Gummibärchen/Liebesfilme bei schlechter Laune/nicht allein in Kinderfilme</td></tr><tr><td style="text-align:center">Erdmanns</td><td style="text-align:center">Bei schönem Wetter/fast jedes Wochenende</td><td style="text-align:center">durch die Luft</td><td style="text-align:center">tolles Gefühl</td><td style="text-align:center">/</td></tr><tr><td style="text-align:center">Maxl</td><td style="text-align:center">Fast jeden Tag/nach der Arbeit</td><td style="text-align:center">Fitness-Studio</td><td style="text-align:center">Man muss sich doch fit halten/gut aussieht</td><td style="text-align:center">nach dem Training mit Leuten Energie-Drinks trinken</td></tr><tr><td style="text-align:center">Senta</td><td style="text-align:center">drei- bis viermal die Woche Training/jedes Wochenende</td><td style="text-align:center">Fußballverein</td><td style="text-align:center">Sie mag alles was mit Bällen zu tun hat./Es macht sehr viel Spaß.</td><td style="text-align:center">in die Landesliga schaffen</td></tr><tr><td style="text-align:center">Ilona</td><td style="text-align:center">am Abend/am Wochenende</td><td style="text-align:center">daheim/bei Freunden</td><td style="text-align:center">Ruhe haben</td><td style="text-align:center">mit Freunden kochen/sich unterhalten</td></tr></tbody></table><h1 id="3-2-die-mini-umfrage-1"><a class="markdownIt-Anchor" href="#3-2-die-mini-umfrage-1"></a> 3-2 Die Mini-Umfrage (1)</h1><p>leidenschaftlich 狂热的，热情澎湃的 adj</p><p>jmdn von … abhalten 阻止某人做某事，妨碍 v</p><p>das Stadtviertel- 城区 = der Stadtteil</p><p>das Gummibärchen- 小熊软糖</p><p>dasitzen 坐在那里 v</p><p>sich trauen 敢于，勇于做某事</p><p>die Ballonfahrt-en 热气球之旅</p><p>faszinieren 令人神往，令神魂颠倒</p><p>sich entschließen 决定 - sich entschlossen haben</p><p>sich Dativ anschließen 加入，接班 可分v - haben angeschlossen</p><p>das Ballonfahrer-Team 热气球驾驶队</p><p>lautlos 无声的，寂静的，悄悄的</p><p>gleiten 飞翔，滑翔 v - sein geglitten - glitt</p><p>im Zeitlupentempo 以极慢的速度</p><p>das Zeitlupentempo 慢节奏，慢速度</p><blockquote><p>die Lupen- 放大镜</p><p>das Tempo-s 速度</p><p>das Tempomat 自动速度，巡航控制</p></blockquote><h1 id="3-3-die-mini-umfrage-2"><a class="markdownIt-Anchor" href="#3-3-die-mini-umfrage-2"></a> 3-3 Die Mini-Umfrage (2)</h1><p>haben mit… zu tun 与……有关</p><p>ständig 不断地，经常地 adv</p><p>die Damenmannschaft-en 女队</p><p>die Saison 旺季，赛季</p><p>daheim 在家 adv</p><p>auf Achse sein 连轴转，忙忙碌碌</p><p>der Freizeitstress-/ 休闲压力</p><p>entweder … oder … 或者……或者……</p><p>sich unterhalten 聊天</p><h1 id="3-4-ein-telefongespräch"><a class="markdownIt-Anchor" href="#3-4-ein-telefongespräch"></a> 3-4 Ein Telefongespräch</h1><p>die Ewigkeit-en 永久，永恒</p><p>unbedingt 无论如何都要</p><p>das Inline-Skates 直排轮</p><p>ausmachen 商定 可分v</p><p>klettern 攀登</p><p>7 B</p><blockquote><p>Susi will mit Markus eine Inline-Tour machen. Markus will am Wochenende mit Willi klettern gehen, aber er hat noch keinen Termin vereinbart（约定，商定）. Susi überredet（说服，劝说） Markus am Samstag zu klettern und am Sonntag die Inline-Tour zu machen. Susi kommt am Sonntag gegen acht zu Markus.</p></blockquote><h1 id="3-5-um-zu-带-zu-不定式表目的"><a class="markdownIt-Anchor" href="#3-5-um-zu-带-zu-不定式表目的"></a> 3-5 um… zu… 带 zu 不定式表目的</h1><p>einleiten 引入</p><p>annehmen 接收</p><p>ablehnen 拒绝，不接受</p><p>ausschauen 寻找（地区）</p><p>verabredet 约好了的，商定好的 adj</p><h2 id="带-zu-不定式表目的"><a class="markdownIt-Anchor" href="#带-zu-不定式表目的"></a> 带 zu 不定式表目的</h2><ul><li>Warum fährt sie nach Deutschland?</li><li>Sie möchte an der TU Dresden studieren.</li></ul><p>主从复合句：Sie fährt nach Deutschland, weil sie an der TU Dresden studieren möchte.</p><p>带 zu 不定式：Sie fährt nach Deutschland, <strong>um</strong> an der TU Dresden <strong>zu</strong> studieren.</p><ul><li>Wozu leiht der Student von der Bank 10.000 Euro?</li><li>Er kann sein Studium in Deutschland finanzieren.</li></ul><p>带 zu 不定式：Der Student leiht von der Bank 10.000 Euro, <strong>um</strong> sein Studium in Deutschland finanzieren <strong>zu</strong> können.</p><p><strong>前后主语一致时，可用 um… zu… 结构</strong></p><p>anstrengend 疲劳的，费力的</p><p>möchten, wollen, lieben 等不能作为目的，所以不能用带 zu 不定式表目的</p><p>wegen + 第二格 由于……</p><h1 id="3-6-interview-sportjournalistin-1"><a class="markdownIt-Anchor" href="#3-6-interview-sportjournalistin-1"></a> 3-6 Interview Sportjournalistin (1)</h1><p>das Jogging 慢跑</p><p>das Aerobic 有氧操</p><p>das Bodystyling 健美运动</p><p>das Spinning 动感单车</p><p>boomen 兴旺，兴隆 v</p><p>derzeit 当时；现在</p><p>schätzen 估计，估量</p><p>der Mangel-/ 不足，缺少</p><p>mühevoll 费力的，艰难的 adj</p><p>ironisch 讽刺的，挖苦的，嘲笑的</p><p>die Zeile-n 字行</p><p>österreichisch 奥地利的</p><p>das Schwerpunktthema-men 主要主题</p><p>das Wellness 健康</p><p>im Kommen sein 正在上升</p><p>die Sportjournalistin-nen 体育女记者</p><p>die Autorin-nen 女作家</p><p>die Kommentierung-en 评论，评价</p><p>der Leistungssport 竞技体育</p><p>die Erscheinung-en 现象，表象</p><p>das Doping 兴奋剂</p><p>die Invalidität 伤残，残疾</p><p>die Sportinvalidität 运动伤残</p><p>sinnvoll 意义深远的，有意义的</p><p>zumindest 至少</p><p>die Bewegung 运动，动作，运行</p><h1 id="3-7-interview-sportjournalistin-2"><a class="markdownIt-Anchor" href="#3-7-interview-sportjournalistin-2"></a> 3-7 Interview Sportjournalistin (2)</h1><p>nachholen 补回，找回，补上 可分v</p><p>mangelnd 缺少的，缺乏的 adj</p><p>der Breitensport-/ 群众性体育运动</p><blockquote><p>breit 宽的 breiten 展开的</p></blockquote><p>das Image-s 形象</p><p>abschreckend 妨碍的，阻碍的 adj</p><p>im Gegensatz zu… 与……相反</p><p>vermitteln 传递，传达 v</p><p>einhergehen mit… 伴随着 可分v</p><p>der Eindruck-&quot;e 印象</p><p>die Anstrengung-en 劳累，辛劳</p><blockquote><p>anstrengend 劳累的，费力的</p></blockquote><p>der Schweiß-e 汗水</p><p>der Muskelkater-/ 肌肉疼痛</p><p>der Trend-s 潮流</p><p>die Altkleidersammlung 旧衣回收</p><blockquote><p>die Sammlung 收集，采集，捐款</p></blockquote><p>hauteng 紧身的 adj</p><p>weg mit… 丢弃，扔掉</p><p>bleich 苍白的 adj</p><p>die Botschaft-en 消息，通知；大使馆</p><h1 id="3-8-interview-sportjournalistin-3"><a class="markdownIt-Anchor" href="#3-8-interview-sportjournalistin-3"></a> 3-8 Interview Sportjournalistin (3)</h1><p>nun 现在；既然；那么</p><p>abschrecken 吓退，吓倒</p><p>jmdn von etwas abschrecken 吓住某人使不敢做某事</p><p>bereit 准备就绪的 adj</p><p>der Mitgliedsbeitrag 会员费，团费</p><p>die Ski-Ausrüstung 滑雪装备</p><p>das Surfbrett-er 冲浪板</p><p>das Segel- 帆</p><p>selbstverständlich 理所应当的，不言而喻的</p><p>die Mitgliedschaft 会员身份，会员资格</p><p>alleinig 唯一的 adj</p><p>der Gestalter- 创造者，塑造者</p><p>umfassend 广泛的，广阔的 adj</p><p>die Stange-n 杆</p><p>bei der Stange 流连忘返</p><p>der Heimtrainer- 家庭式训练器材</p><p>im Grunde 基本上</p><p>motivieren 激发……的积极性，煽动</p><p>jagen 驱逐，打猎</p><h1 id="3-9-interview-sportjournalistin-4"><a class="markdownIt-Anchor" href="#3-9-interview-sportjournalistin-4"></a> 3-9 Interview Sportjournalistin (4)</h1><p>zu seinem Recht kommen 保障，拥有权力，正确</p><blockquote><p>Niemand kann zu 100% zu seinem Recht kommen. 没人能100%保证正确。</p></blockquote><p>fachkundig 专业的，内行的 adj</p><p>die Anleitung-en 指导，说明</p><p>allerdings 当然，固然</p><p>gegen 关于</p><p>statt 不……而……，代替，而不是</p><p>der Abstand-&quot;e 距离，间隔</p><p>in regelmäßigen Abständen 定期</p><p>dauerhaft 持久的，稳定的 adj</p><p>auf Akkusativ zurückgehen 起源，追溯到，归根</p><p>die Sportärztin-nen 运动保健医生</p><h1 id="3-10-sollten-第二虚拟式表建议"><a class="markdownIt-Anchor" href="#3-10-sollten-第二虚拟式表建议"></a> 3-10 sollten 第二虚拟式表建议</h1><p>abwechseln 交替，轮流</p><p>ausgedehnt 伸展的，扩展的，长距离的 adj</p><p>der Gesundheitszustand-&quot;e 健康状况</p><p>problemfrei 无问题的 adj</p><p>die Anleitung-en 指导，说明</p><p>hintereinander 一个接着一个 adv</p><p>niemals 从不</p><h2 id="第二虚拟式表建议"><a class="markdownIt-Anchor" href="#第二虚拟式表建议"></a> 第二虚拟式表建议</h2><p>regelmäßig Sport machen:</p><ul><li>Machen Sie regelmäßig Sport.</li><li>Ich rate Ihnen, regelmäßig Sport zu machen.</li><li>Sie sollten regelmäßig Sport machen.</li></ul><p>sollten 动词变位：sollte - solltest - sollte - sollten - solltet - sollten - sollten</p><p>改为 Du-Form</p><ul><li>Ich rate dir, regelmäßig Sport zu machen.</li><li>Du solltest regelmäßig Sport machen.</li><li>Mach regelmäßig Sport.</li></ul><h1 id="3-11-extremisten-1"><a class="markdownIt-Anchor" href="#3-11-extremisten-1"></a> 3-11 Extremisten (1)</h1><p>der Extremist-en 极端主义者</p><p>der Marathon 马拉松</p><p>der Triathlon 铁人三项</p><p>der Athlet-en 大力士，运动员</p><p>der Triathlet-en 铁人三项运动员</p><p>seltsam 稀奇的，奇特的 adj</p><p>nichts + 形容词比较级es（首字母大写）+ als 没有什么更……的事情</p><p>z. B. nichts Schöneres als, nichts Wichtigeres als</p><p>etwas + 形容词原级es（首字母大写） 一些……的事情</p><p>die Erfüllung 装满，满足</p><p>der Fluss-&quot;e 河流，江川</p><p>legendär 传奇的，传说的 adj</p><p>weltbest 世界上最好的 adj</p><p>die Langstreckenschwimmerin-nen 长距离游泳女运动员</p><p>wochenlang 数周</p><p>tagelang 数天 monatelang 数月 jahrelang 数年</p><p>über … klagen 埋怨，诉苦</p><p>der Wettkampf-&quot; 比赛，竞赛</p><p>die Ausdauer-/ 耐力，毅力，坚韧不拔</p><p>der Ausdauerathlet-en 耐力运动员</p><p>der Heimatort-e 故乡，老家</p><p>behütet 受保护的，受庇护的 adj</p><p>der Siegertyp-en 赢家</p><p>badisch 巴登州的</p><p>optimal 最佳的，最理想的 adj</p><p>die Bedingung-en 前提条件；状况</p><p>halten jemandem den Rücken frei 让某人没有后顾之忧</p><p>sich auf Akkusativ konzentrieren 全神贯注于，集中注意力</p><h1 id="3-12-extremisten-2"><a class="markdownIt-Anchor" href="#3-12-extremisten-2"></a> 3-12 Extremisten (2)</h1><p>das Trainingslager- 训练营</p><p>gelegentlich 偶然的，偶尔的</p><p>in gut zwei Wochen 足足两周之后</p><p>der Titelgewinn 夺冠</p><p>die Gelegenheit 良机，机遇</p><p>der Kerzenschein-/ 烛光</p><p>bis aufs Messer kämpfen 战斗到底</p><p>leben 过着……的生活</p><p>leben eine Liebe 过着爱情生活</p><p>äußerst 极其 adv</p><p>spontan 自动的，一时冲动的 adj</p><p>von … begeistert sein 受……感染，被……打动</p><p>schwamm 是 schwimmen 的过去式</p><p>von … hingerissen sein 为……着迷，陶醉</p><p>das Leistungsvermögen 才能，才干</p><p>jemanden faszinieren 使吸引，令人神往</p><p>rekordverliebt 热爱记录的 adj</p><p>schwärmen 追求，爱慕，崇拜</p><p>verteidigen 防卫，捍卫</p><p>die Niederlage-n 失败，失利</p><p>der Weltcuptitel 世界杯冠军</p><p>das Rennen- 竞速的比赛</p><p>der Volkssport-/ 大众运动，群众运动</p><p>das Ufer- 河岸</p><p>am Ufer 在岸边</p><p>die Siegerehrung-en 颁奖礼</p><p>der Polizeischutz-/ 警察保护</p><p>die Zuschauermassen 观众人群</p><h1 id="3-13-extremisten-3"><a class="markdownIt-Anchor" href="#3-13-extremisten-3"></a> 3-13 Extremisten (3)</h1><p>der Defekt-e 故障，缺陷，损坏</p><p>minütig 每分钟</p><p>der Trinkrhythmus 饮水的节奏</p><p>kapitulieren 投降，认输</p><p>entkräftet 精疲力竭地</p><p>auf jemanden einreden 说服，劝服，使信服</p><h1 id="3-14-präpositionen-der-zeit-支配时间的介词"><a class="markdownIt-Anchor" href="#3-14-präpositionen-der-zeit-支配时间的介词"></a> 3-14 Präpositionen der Zeit 支配时间的介词</h1><p>vor + Dativ（表时间）在……前</p><p>z. B. Vor vielen Jahren war ich einmal in China.</p><p>seit + Dativ 自从；从……以来 句子一般用现在时</p><p>z. B. Seit September lerne ich in der Grundstufe Deutsch.</p><p>bei + Dativ 在……的时候</p><p>Beim Sport haben wir kennengelernt.</p><p><em>bei 强调在进行某一项活动，动作时（宏观）</em></p><p>während + Dativ/Genitiv 在……期间</p><p>Während des Sports höre ich gern Musik.</p><p><em>während 强调贯穿整个活动，动作中（时间跨度）</em></p><p>nach + Dativ 在……之后</p><p>z. B. Nach drei Tagen war ich wieder gesund.</p><p><em>用过去时</em></p><p>in + Dativ（表时间）在……之后</p><p>z. B. In drei Tagen bin ich wieder gesund.</p><p><em>用将来时，即现在时</em></p><p>vorhaben 打算做某事</p><p>das Squash 壁球</p><p>das Vergnügen 娱乐，消遣</p><p>Es macht mir Vergnügen = Es macht mir Spaß.</p><p>besitzen 拥有</p><p>erzielen 获得，达到 bekommen + erreichen</p><p>der Carbon-Leichtbaurahmen 碳钎维轻质车架</p><blockquote><p>das Carbon 碳钎维，碳</p><p>der Leichtbau 轻质结构</p><p>der Rahmen- 框，机架，车架</p></blockquote><p>der Leichtlaufreifen- 低阻轮胎</p><blockquote><p>der Reifen- 轮胎</p></blockquote><p>computerberechnet 电脑计算的 adj</p><p>berechnet 计算得出的 adj</p><p>hydraulisch-mechanisch 液压机械的 adj</p><p>hydraulisch 液压的 adj</p><p>mechanisch 机械的 adj</p><p>die Federung-en 弹簧，避震器</p><p>die Hinterachse-n 后轮轴</p><p>die Achse-n 轴，轮轴</p><p>nicht …, sondern … 不是……而是……</p><p>um … zu … 表目的的带 zu 不定式</p><h1 id="3-15-sportlich-sportlich"><a class="markdownIt-Anchor" href="#3-15-sportlich-sportlich"></a> 3-15 Sportlich, sportlich</h1><p>als + 时间从句 当……的时候（过去时）</p><p>jemanden nach Dativ fragen 询问某人某事</p><p>die Körpergröße-n 身高</p><p>der Gang-&quot;e 过道；一道菜；变速挡位</p><p>der Lenker- 自行车/摩托车把手</p><p>der Sattel-&quot; 马鞍，鞍座</p><p>trat = treten 过去式 走一步</p><p>die Notrufnummer-n 意外事故紧急呼叫号码</p><p>der Aufkleber- 标签</p><p>neongrün 霓虹绿 adj</p><p>der Fahrraddress 自行车运动服</p><p>der Dress 运动服</p><p>kunstfaserdurchwirkt 化纤编织的 adj</p><p>die Kunstfaser 化纤</p><p>durchwirkt 交织的，缠在一起的</p><p>der Baumwollstoff 全棉物</p><p>deren 引导关系从句，进一步说明名词的属格 ……的</p><p>deren Beine = Beine der Jeans（阴性）</p><p>dessen Beine = Beine des Tisches（阳性）</p><p>dessen Beine = Beine des Sofas（中性）</p><p>deren Beine = Beine der Tische（复数）</p><p>die Leichtmetallflasche-n 轻质金属杯</p><p>vorbeigleiten 掠过，飘过，滑行过 可分v</p><p>muskelbepackt 肌肉发达的 adj</p><p>der Tachometer 里程数</p><p>richten 对准，校正</p><p>strampeln 蹬自行车；手脚乱蹬</p><h1 id="3-16-情态动词第二虚拟式"><a class="markdownIt-Anchor" href="#3-16-情态动词第二虚拟式"></a> 3-16 情态动词第二虚拟式</h1><p>weder … noch … 既不……也不……</p><p>rücksichtsvoll 考虑周全的</p><p>Aber das ist wohl nicht gemeint, wenn … 但当……的时候，就不是这个意思了</p><p>eventuell 可能发生的 adv</p><p>durchhalten 坚持不懈 可分v</p><p>Das kann mir gestohlen bleiben! 我不愿和……扯上关系。</p><p>das Getue 装腔作势，大惊小怪</p><h2 id="wären"><a class="markdownIt-Anchor" href="#wären"></a> wären</h2><p>sein 的第二虚拟式 对不可能发生的事件进行虚拟</p><blockquote><p>Wenn ich du wäre, dann würde ich mehr Sport treiben.</p><p>Wenn ich der Chef wäre, dann bekäme jeder Angestellte 10 Wochen Urlaub im Jahr.</p></blockquote><p>wäre - wärst - wäre - wären - wärt - wären</p><h2 id="hätten"><a class="markdownIt-Anchor" href="#hätten"></a> hätten</h2><p>haben 的第二虚拟式 表达委婉语气</p><blockquote><p>Haben Sie Lust, am Wochenende eine Radtour zu machen?</p><p>Hätten Sie Lust, am Wochenende eine Radtour zu machen?</p></blockquote><p>hätte - hättest - hätte - hätten - hättet - hätten</p><h2 id="würden"><a class="markdownIt-Anchor" href="#würden"></a> würden</h2><p>werden 的第二虚拟式</p><blockquote><p>Würden Sie bitte etwas langsamer sprechen?</p></blockquote><p>würden + 实义动词原形</p><p>würde - würdest - würde - würden - würdet - würden</p><h2 id="könnten"><a class="markdownIt-Anchor" href="#könnten"></a> könnten</h2><p>können 的第二虚拟式</p><blockquote><p>Könnten Sie bitte etwas langsamer sprechen?</p></blockquote><p>könnte - könntest - könnte - könnten - könntet - könnten</p><h2 id="sollten"><a class="markdownIt-Anchor" href="#sollten"></a> sollten</h2><p>sollen 的第二虚拟式</p><p>sollte - solltest - sollte - sollten - solltet - sollten</p><h2 id="wollten"><a class="markdownIt-Anchor" href="#wollten"></a> wollten</h2><p>wollen/möchten 第二虚拟式</p><p>wollte - wolltest - wollte - wollten - wolltet - wollten</p><ul><li><p>情态动词的第二虚拟式是在过去式的基础上保持词干原形（原形元音有两点的第二虚拟式也有）</p></li><li><p>ich 和第三人称动词变位相同</p></li></ul><h2 id="müssten"><a class="markdownIt-Anchor" href="#müssten"></a> müssten</h2><p>müssen 的第二虚拟式</p><p>müsste - müsstest - müsste - müssten - müsstet - müssten</p><blockquote><p>Wenn ich nachts arbeiten müsste, dann müsste ich tagsüber schlafen.</p></blockquote><h2 id="dürften"><a class="markdownIt-Anchor" href="#dürften"></a> dürften</h2><p>dürfen 的第二虚拟式</p><p>dürfte - dürftest - dürfte - dürften - dürftet - dürften</p><blockquote><p>Dürfte ich bitte 10 Minuten vor Ihrer Einfahrt parken?</p></blockquote><h1 id="3-17-比较级-最高级作定语时形容词词尾变化"><a class="markdownIt-Anchor" href="#3-17-比较级-最高级作定语时形容词词尾变化"></a> 3-17 比较级、最高级作定语时形容词词尾变化</h1><h2 id="比较级"><a class="markdownIt-Anchor" href="#比较级"></a> 比较级</h2><p>形容词比较级：形容词原形er als…</p><blockquote><p>Thomas lebt bei seinen Eltern bequemer als in einer eigenen Wohnung. bequem 做状语</p><p>Thomas führt bei seinen Eltern ein bequemer<strong>es</strong> Leben als in einer eigenen Wohnung. bequem 作名词前的定语</p></blockquote><p>形容词比较级（作定语）：形容词比较级+词尾变化 als …</p><blockquote><p>Peggy will im Training unbedingt schneller schwimmen als Thomas.</p><p>Peggy will im Training unbedingt eine schnellere Schwimmerin sein als Thomas.</p></blockquote><p>复习 A2：</p><p>不定冠词、否定冠词、物主冠词后的冠词后的形容词词尾变化</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">N</td><td style="text-align:center">-er</td><td style="text-align:center">-es</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">A</td><td style="text-align:center">-en</td><td style="text-align:center">-es</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">D</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td></tr></tbody></table><p>“三格复数，通通 -en”</p><h2 id="最高级"><a class="markdownIt-Anchor" href="#最高级"></a> 最高级</h2><p>形容词最高级（作状语）：am 形容词原形sten</p><blockquote><p>Schwimmen ist am gesündesten.</p></blockquote><p>形容词最高级（作定语）：定冠词 形容词原形st + 词尾变化</p><blockquote><p>Schwimmen ist die gesündeste Sportart.</p></blockquote><p>复习 A2：</p><p>定冠词后形容词词尾变化</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">N</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">A</td><td style="text-align:center">-en</td><td style="text-align:center">-e</td><td style="text-align:center">-e</td><td style="text-align:center">-en</td></tr><tr><td style="text-align:center">D</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td><td style="text-align:center">-en</td></tr></tbody></table><p>“三格复数统统 -en，四格阳性 -en，其它都是 -e”</p><p>der Jäger- 猎人</p><p>jagen 狩猎，追猎，追赶</p><p>für … zuständig sein 对……负责</p><p>der Dienstplan-&quot;e 工作计划，排班表</p><p>die Energiesparlampe-n 节能灯</p><h1 id="3-18-rentner-in-deutschland"><a class="markdownIt-Anchor" href="#3-18-rentner-in-deutschland"></a> 3-18 Rentner in Deutschland</h1><p>aufsammeln 捡起 可分v</p><p>der/die Flugreisende-n 坐飞机的人</p><p>das Exemplar- 份，册</p><p>die Redaktion-en 编辑部，编辑室</p><p>wegwerfen 扔掉</p><p>Akkusativ nicht (mit) ansehen können 无法忍受，无法对……坐视不管</p><p>sich Dativ etwas Akkusativ leisten 买得起，负担得起</p><p>der Bausatz 安装包</p><p>die Leidenschaft 热情，酷爱，狂热</p><p>die Eisenbahn 铁路，铁道</p><p>halten jmdn für etwas(n./adj) 认为，把……视为</p><p>verrückt 疯癫的，精神失常的，荒诞的 adj</p><p>die Bahnstrecke-n 铁路，火车路程</p><p>die Verbindung-en 联系，连接</p><p>abfahren 乘车（巡视） 可分v</p><p>das Erlebnis 经历的事件</p><h1 id="3-19-leseverstehen-teil-3-1"><a class="markdownIt-Anchor" href="#3-19-leseverstehen-teil-3-1"></a> 3-19 Leseverstehen Teil 3 (1)</h1><p>阅读理解题型：广告配对：10 个场景，12 则广告</p><p>最多 15 分钟完成</p><p>Vor dem Lesen: 划出场景中的关键词</p><p>Lesen: 划出广告关键词；排除筛选</p><p>每个场景只能配一则广告，其中 1-2 个场景无匹配，填 0。</p><h1 id="3-20-leseverstehen-teil-3-2"><a class="markdownIt-Anchor" href="#3-20-leseverstehen-teil-3-2"></a> 3-20 Leseverstehen Teil 3 (2)</h1><p>NULL</p><h1 id="3-21-folge-3-joggen"><a class="markdownIt-Anchor" href="#3-21-folge-3-joggen"></a> 3-21 Folge 3-Joggen</h1><p>NULL</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Freizeit und Fitness&lt;/li&gt;
&lt;li&gt;Ratschläge mit sollte</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 2 Orte</title>
    <link href="https://tinsir888.github.io/posts/67f9e52f.html"/>
    <id>https://tinsir888.github.io/posts/67f9e52f.html</id>
    <published>2023-03-12T23:00:00.000Z</published>
    <updated>2023-03-31T08:46:06.611Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ol><li>Orte</li><li>Häuser beschreiben, Mengenanteile ausdrücken</li><li>Konjunktiv II: Irrealis, Passiv mit Modalverb</li><li>Adjektivdeklination, Komposita: Nomen</li></ol><h1 id="2-1-wo-würden-sie-gern-wohnen"><a class="markdownIt-Anchor" href="#2-1-wo-würden-sie-gern-wohnen"></a> 2-1 Wo würden Sie gern wohnen?</h1><p>das Baumhaus 书屋</p><p>der Leuchtturm-&quot;e 灯塔</p><p>das Bauernhaus 农舍</p><p>der Bauernhof-&quot;e 农场</p><p>das Schloss-&quot;er 城堡（居住用的）</p><p>die Burg-en 城堡（军事上的）</p><p>das Designerhaus 豪宅</p><p>der Bauwagen 房车</p><h2 id="第二虚拟式"><a class="markdownIt-Anchor" href="#第二虚拟式"></a> 第二虚拟式</h2><ul><li>Wünsche und Verlieben 愿望</li></ul><blockquote><p>Am liebsten würde ich in einem Leuchtturm wohnen.</p></blockquote><ul><li>Ratschläge 建议</li></ul><blockquote><p>Du solltest wirklich nicht in diesen Leuchtturm ziehen.</p></blockquote><ul><li>Irreale Bedingungssatze 不现实的条件</li></ul><blockquote><p>Wenn ich die Gelegenheit hätte, würde ich in einen Leuchtturm ziehen.</p></blockquote><ul><li>Höfliche Bitten 委婉的请求</li></ul><blockquote><p>Dürfte ich Sie darum bitten, Ihre Zigarette auszumachen?</p></blockquote><ol><li><p>würden + 实义动词原形</p><p>Ich würde spielen.</p><p>Ich würde arbeiten.</p><p>Ich würde studieren.</p></li><li><p>助动词</p><p>haben - hätten</p><p>sein - wären</p><p>werden - würden</p></li><li><p>情态动词</p><table><thead><tr><th style="text-align:center">人称</th><th style="text-align:center">können</th><th style="text-align:center">müssen</th><th style="text-align:center">sollen</th><th style="text-align:center">dürfen</th><th style="text-align:center">wollen</th><th style="text-align:center">mögen</th></tr></thead><tbody><tr><td style="text-align:center">ich</td><td style="text-align:center">könnte</td><td style="text-align:center">müsste</td><td style="text-align:center">sollte</td><td style="text-align:center">dürfte</td><td style="text-align:center">wollte</td><td style="text-align:center">möchte</td></tr><tr><td style="text-align:center">du</td><td style="text-align:center">könntest</td><td style="text-align:center">müsstest</td><td style="text-align:center">solltest</td><td style="text-align:center">dürftest</td><td style="text-align:center">wolltest</td><td style="text-align:center">möchtest</td></tr><tr><td style="text-align:center">er/sie/es</td><td style="text-align:center">könnte</td><td style="text-align:center">müsste</td><td style="text-align:center">sollte</td><td style="text-align:center">dürfte</td><td style="text-align:center">wollte</td><td style="text-align:center">möchte</td></tr><tr><td style="text-align:center">wir</td><td style="text-align:center">könnten</td><td style="text-align:center">müssten</td><td style="text-align:center">sollten</td><td style="text-align:center">dürften</td><td style="text-align:center">wollten</td><td style="text-align:center">möchten</td></tr><tr><td style="text-align:center">ihr</td><td style="text-align:center">könntet</td><td style="text-align:center">müsstet</td><td style="text-align:center">solltet</td><td style="text-align:center">dürftet</td><td style="text-align:center">wolltet</td><td style="text-align:center">möchtet</td></tr><tr><td style="text-align:center">sie/Sie</td><td style="text-align:center">könnten</td><td style="text-align:center">müssten</td><td style="text-align:center">sollten</td><td style="text-align:center">dürften</td><td style="text-align:center">wollten</td><td style="text-align:center">möchten</td></tr></tbody></table><p>情态动词第二虚拟式动词变位：词干 + t + 词尾</p><p>ich 和 er/sie/es 的动词变位相同</p><p>möchten 是 mögen 的第二虚拟式</p></li></ol><p>Ich würde gern in einem Leuchtturm wohnen. Dann könnte ich den Blick auf das Meer genießen.</p><p>der Blick-e 眼神，眺望</p><p>das Meer-e 海洋</p><p>genießen 享受</p><p>Ich würde gern in einem Baumhaus wohnen. Dann müsste ich mich gut geschützt fühlen.</p><p>mich gut fühlen 感觉良好</p><p>müsste 此处表肯定</p><p>geschützt 被保护的 adj</p><p>Ich würde gern in einem Bauwagen wohnen. Dann wäre ich flexibel. Weil ich keine Miete bezahlen müsste.</p><p>die Miete-n 房租</p><p>müsste 此处表必须</p><p>Ich würde gern in einem Schloss wohnen.</p><p>我想住在城堡中。</p><p>Dann hätte ich große Räume.</p><p>我就有大房间了。</p><p>Ich würde gern in einem Bauernhaus wohnen.</p><p>我想住在农舍中。</p><p>Dann könnte ich Tiere halten.</p><p>我就可以养小动物了。</p><p>Dann hätte ich Wiesen und Wälder um mich herum.</p><p>我就拥有草地和森林环绕着我。</p><p>herumhaben 周围有 可分v</p><p>die Wiese-n 草地，草场</p><p>der Wald-&quot;er 森林</p><p>Ich würde gern in einem Designerhaus wohnen.</p><p>我想住在豪宅中。</p><p>Dann hätte ich ein Haus nach meinem Geschmack.</p><p>我就拥有一栋符合我品味的房子了。</p><p>der Geschmack-/ 品味，口味</p><h1 id="2-2-häuser-beschreiben"><a class="markdownIt-Anchor" href="#2-2-häuser-beschreiben"></a> 2-2 Häuser beschreiben</h1><p>das Einfamilienhaus 单户住宅</p><p>das Mehrfamilienhaus 多户住宅</p><p>das Hochhaus 高楼</p><p>das Reihenhaus 联排别墅</p><p>der Bungalow-s 平房</p><p>der Wohnblock-s 住宅区</p><p>der Stock = das Stockwerk-e 楼层</p><p>das Treppenhaus 楼梯间</p><p>der Lift = der Aufzug 直升电梯</p><p>die Grünfläche-n 绿地面积</p><p>die Terrasse-n 露台</p><p>die erste Etage 二楼</p><p>das Dach-&quot;er 屋顶</p><p>flach 平坦的，低矮的</p><p>spitz 尖角的，尖锐的</p><p>zweiteilig 由两部分组成的 adj</p><p>schmal 狭窄的，细长的 adj</p><p>die Umgebung-en 环境</p><p>Lärm 噪音</p><p>die Gegend 地区，地方</p><p>das Feld-er 田野</p><p>die Landstraße-n 乡村公路</p><p>das Gebirge 山脉</p><h1 id="2-3-in-der-stadt-oder-im-grünen-1"><a class="markdownIt-Anchor" href="#2-3-in-der-stadt-oder-im-grünen-1"></a> 2-3 In der Stadt oder im Grünen (1)</h1><p>Hey, dass man dich auch mal wieder sieht? 嘿，好久不见</p><p>dran sein 轮到了</p><p>versuchen 尝试</p><p>die Versetzung 调配，调动</p><p>hierher 到这儿来 adv</p><p>inzwischen 在此期间 adv</p><p>feststehen 固定，确定 可分v</p><p>der Umzug-&quot;e 搬家</p><p>ein Haufen + 物 一大堆</p><p>aufgeben 放弃，终止</p><p>das Mittelmeer 地中海</p><p>begeistert 欢呼雀跃的，热情的 adj</p><p>sobald + 从句 一…就…</p><p>etwas in Aussicht haben 可指望得到，对…有希望</p><p>ausruhen 休息</p><h1 id="2-4-in-der-stadt-oder-im-grünen-2"><a class="markdownIt-Anchor" href="#2-4-in-der-stadt-oder-im-grünen-2"></a> 2-4 In der Stadt oder im Grünen (2)</h1><p>ewig lang 永远</p><p>um + 带 zu 不定式 = in order to 表目的 为了……</p><p>die Strecke-n 路程</p><p>die Wohnungstür 公寓门</p><p>die Bürotür 办公室的门</p><p>tendieren zu 倾向于</p><p>eher 倒不如说</p><p>etwas[A] im Griff haben 将……控制住</p><p>Es scheint… 看起来</p><p>übel 恶劣的，恶心的</p><p>die Gegend-en 地区</p><p>dicht 紧凑的，紧密的</p><p>dicht an dicht 并拢，并肩</p><p>drüben = overthere 在那边，在海外 adv</p><p>der Innenhof 内庭院落</p><p>mit … vergleichen 与……作比较</p><p>irgendwo = wherever 无论如何</p><p>sich[D] etwas[A] leisten 负担得起，付得起</p><p>halt 简直，干脆</p><p>auswandern - sein ausgewandert 移民</p><p>aufwachsen - sein aufgewachsen 成长，长大</p><p>jede Menge 许许多多</p><p>verbringen - haben verbracht 度过</p><p>die Millionstadt-&quot;e 百万城市</p><h1 id="2-5-genitiv-第二格"><a class="markdownIt-Anchor" href="#2-5-genitiv-第二格"></a> 2-5 Genitiv 第二格</h1><p>第二格：属格，……的</p><h2 id="定冠词"><a class="markdownIt-Anchor" href="#定冠词"></a> 定冠词</h2><table><thead><tr><th style="text-align:center">格</th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">第一格 Nominativ</td><td style="text-align:center">der</td><td style="text-align:center">das</td><td style="text-align:center">die</td><td style="text-align:center">die</td></tr><tr><td style="text-align:center">第四格 Akkusativ</td><td style="text-align:center">den</td><td style="text-align:center">das</td><td style="text-align:center">die</td><td style="text-align:center">die</td></tr><tr><td style="text-align:center">第三格 Dativ</td><td style="text-align:center">dem</td><td style="text-align:center">dem</td><td style="text-align:center">der</td><td style="text-align:center">den</td></tr><tr><td style="text-align:center">第二格 Genitiv</td><td style="text-align:center">des</td><td style="text-align:center">des</td><td style="text-align:center">der</td><td style="text-align:center">der</td></tr></tbody></table><h2 id="不定冠词"><a class="markdownIt-Anchor" href="#不定冠词"></a> 不定冠词</h2><table><thead><tr><th style="text-align:center">格</th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th></tr></thead><tbody><tr><td style="text-align:center">第一格 Nominativ</td><td style="text-align:center">ein</td><td style="text-align:center">ein</td><td style="text-align:center">eine</td></tr><tr><td style="text-align:center">第四格 Akkusativ</td><td style="text-align:center">einen</td><td style="text-align:center">ein</td><td style="text-align:center">eine</td></tr><tr><td style="text-align:center">第三格 Dativ</td><td style="text-align:center">einem</td><td style="text-align:center">einem</td><td style="text-align:center">einer</td></tr><tr><td style="text-align:center">第二格 Genitiv</td><td style="text-align:center">eines</td><td style="text-align:center">eines</td><td style="text-align:center">einer</td></tr></tbody></table><h2 id="否定冠词"><a class="markdownIt-Anchor" href="#否定冠词"></a> 否定冠词</h2><table><thead><tr><th style="text-align:center">格</th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">第一格 Nominativ</td><td style="text-align:center">kein</td><td style="text-align:center">kein</td><td style="text-align:center">keine</td><td style="text-align:center">keine</td></tr><tr><td style="text-align:center">第四格 Akkusativ</td><td style="text-align:center">keinen</td><td style="text-align:center">kein</td><td style="text-align:center">keine</td><td style="text-align:center">keine</td></tr><tr><td style="text-align:center">第三格 Dativ</td><td style="text-align:center">keinem</td><td style="text-align:center">keinem</td><td style="text-align:center">keiner</td><td style="text-align:center">keinen</td></tr><tr><td style="text-align:center">第二格 Genitiv</td><td style="text-align:center">keines</td><td style="text-align:center">keines</td><td style="text-align:center">keiner</td><td style="text-align:center">keiner</td></tr></tbody></table><h2 id="物主冠词"><a class="markdownIt-Anchor" href="#物主冠词"></a> 物主冠词</h2><table><thead><tr><th style="text-align:center">格</th><th style="text-align:center">m</th><th style="text-align:center">n</th><th style="text-align:center">f</th><th style="text-align:center">Pl.</th></tr></thead><tbody><tr><td style="text-align:center">第一格 Nominativ</td><td style="text-align:center">mein</td><td style="text-align:center">mein</td><td style="text-align:center">meine</td><td style="text-align:center">meine</td></tr><tr><td style="text-align:center">第四格 Akkusativ</td><td style="text-align:center">meinen</td><td style="text-align:center">mein</td><td style="text-align:center">meine</td><td style="text-align:center">meine</td></tr><tr><td style="text-align:center">第三格 Dativ</td><td style="text-align:center">meinem</td><td style="text-align:center">meinem</td><td style="text-align:center">meiner</td><td style="text-align:center">meinen</td></tr><tr><td style="text-align:center">第二格 Genitiv</td><td style="text-align:center">meines</td><td style="text-align:center">meines</td><td style="text-align:center">meiner</td><td style="text-align:center">meiner</td></tr></tbody></table><table><thead><tr><th style="text-align:center">词性</th><th style="text-align:center">定冠词</th><th style="text-align:center">不定冠词</th><th style="text-align:center">物主代词</th></tr></thead><tbody><tr><td style="text-align:center">m</td><td style="text-align:center">das Büro des Lehrer<strong>s</strong></td><td style="text-align:center">das Büro eines Lehrer<strong>s</strong></td><td style="text-align:center">das Büro meines Lehrer<strong>s</strong></td></tr><tr><td style="text-align:center">n</td><td style="text-align:center">die Schule des Kind<strong>es</strong></td><td style="text-align:center">die Schule eines Kind<strong>es</strong></td><td style="text-align:center">die Schule ihres Kinde<strong>s</strong></td></tr><tr><td style="text-align:center">f</td><td style="text-align:center">die Uhr der Frau</td><td style="text-align:center">die Uhr einer Frau</td><td style="text-align:center">die Uhr seiner Frau</td></tr><tr><td style="text-align:center">Pl</td><td style="text-align:center">die Taschen der Frauen</td><td style="text-align:center">/</td><td style="text-align:center">die Taschen unserer Frau</td></tr></tbody></table><ul><li><p>名词第二格一般用作前一个名词的定语，说明所属关系。</p></li><li><p>第二格名词除了冠词要变化外，<strong>阳性和中性单数名词词尾要加 -s 或 -es</strong></p><blockquote><p>一般加 -s，以下情况加 -es</p><ol><li><p>以 -s -ß -x -z 结尾的阳性和中性单数名词</p><p>das Haus - des Hauses, der Fleiß - des Fleißes</p></li><li><p>阳性和中性单音节单数名词</p><p>das Kind - des Kindes, der Arzt - des Arztes, das Buch - das Buches, der Marsch - des Marsches</p></li></ol><p>弱变化阳性单数名词第二格与第三、第四格变法相同，均加 -n -en</p><p>der Herr - des Herrn, der Student - des Studenten, der Bauer - des Bauern</p><p>以 -ismus 结尾的外来阳性名词不加任何词尾</p><p>der Sozialismus - des Sozialismus, der Kapitalismus - des Kapitalismus</p></blockquote></li></ul><h2 id="人名的第二格"><a class="markdownIt-Anchor" href="#人名的第二格"></a> 人名的第二格</h2><ul><li><p>Julian - die Schwester</p><p>Julian<strong>s</strong> Schwester ist eine bekannte Schwimmerin.</p><p>die Schwester von Julian</p></li><li><p>Frau Huber - der Freund</p><p>Frau Hubers Freund ist Fußballspieler.</p><p>der Freund von Frau Huber</p></li><li><p>Herr Tim - der Sohn</p><p>Herrn Tims Sohn spielt Tennis nur aus Spaß.</p><p>der Sohn von Herr Tim</p></li></ul><p>以上几种形式同样也可以通过介词 von 表达</p><p>当人名的最后一个字母为 -s -ß -x -z 时，不加 -s，只需加 ’</p><blockquote><p>Nils’ Arbeit gefällt ihm nicht.</p><p>Max’ Vater ist Sportler.</p><p>Franz’ Schwester möchte eine Reise nach China machen.</p></blockquote><h1 id="2-6-der-forscher-philip-tobias-1"><a class="markdownIt-Anchor" href="#2-6-der-forscher-philip-tobias-1"></a> 2-6 Der Forscher Philip Tobias (1)</h1><p>der Forscher- 学者，研究者</p><p>die Folge-n 结果，后果</p><p>die Lebensbedingung-en 生活条件</p><p>widersprechen + D 反驳，反对，与……产生矛盾 v</p><p>rund + 数字 大约 = Zirka</p><p>gründen 建立，建造</p><p>sich organisieren 组织起来</p><p>das Tausendstel 千分之一</p><p>das Hundertstel 百分之一</p><p>der Jäger- 猎人</p><p>der Sammler- 收藏家，收集人</p><p>anbauen 大面积种植 可分v</p><p>von… an 从……起</p><p>der Zeitpunkt-e 时间点</p><p>offenbar 显而易见地 adv</p><p>einzig 单独的，唯一的 adj</p><p>während + 从句 与此同时；表转折</p><p>auf die Jagd gehen 狩猎</p><p>ernähren 喂养，供养，赡养</p><p>auf einmal 一次性的，突然 adv</p><p>die Schrift-en 文字</p><p>erfinden 创造，发明</p><p>entstehen 形成，兴起</p><p>das Königreiche 王国</p><p>zunehmen 变胖，增大 可分v</p><p>die Bevölkerung 人口，居民</p><p>Christi = Christus 基督纪元</p><p>sich verändern 改变</p><p>vergangen 过去的 adj</p><p>zuvor 比以前 adv</p><p>das Dutzend 一打，十二个</p><p>der Einwohner- 居民</p><p>die Riesenstadt-&quot;e 大型城市</p><h1 id="2-7-der-forscher-philip-tobias-2"><a class="markdownIt-Anchor" href="#2-7-der-forscher-philip-tobias-2"></a> 2-7 Der Forscher Philip Tobias (2)</h1><p>der Großstadtbewohner- 大城市居民</p><p>unter Dativ leiden 忍受某事之苦</p><p>führen 进行，贯彻</p><p>das Selbstgespräch-e 自言自语</p><p>harmlos 无害的 adj</p><p>der Selbstmord-e 自杀</p><p>der Dieb-e 小偷</p><p>unterscheiden A von B 区别 A 和 B</p><p>aus Ihrer Sicht 在您看来</p><p>der Großstädter- 住在大城市的人</p><p>die Metropole-n 大都会</p><p>der Bewohner- 居民</p><p>der Verstand-/ 理解力，判断力</p><p>Es gilt für… 适用于……</p><p>die Unterschicht-en 底层人</p><p>die Oberschicht-en 高层人</p><p>der Mechanismus-/ 机制</p><p>der Mechaniker- 机械工</p><p>zukünftig 将来的</p><p>der Wald-&quot;er 森林</p><p>zerstören 摧毁，破坏 v</p><p>der Zeichentisch-e 绘图桌</p><p>die Steinzeit 石器时代</p><p>der Garten Eden 伊甸园</p><h1 id="2-8-复合名词"><a class="markdownIt-Anchor" href="#2-8-复合名词"></a> 2-8 复合名词</h1><h2 id="复合名词的形式"><a class="markdownIt-Anchor" href="#复合名词的形式"></a> 复合名词的形式</h2><h3 id="nomen-nomen"><a class="markdownIt-Anchor" href="#nomen-nomen"></a> Nomen + Nomen</h3><blockquote><p>das Brot + das Messer = das Brotmesser 切面包的刀</p><p>der Kaffee + die Kanne = die Kaffeekanne 咖啡壶</p><p>der Wein + das Glas = das Weinglas 酒杯</p></blockquote><p><strong>复合词的性和复数跟随最后一个名词</strong></p><blockquote><p>die Schule + die Bildung = die Schulbildung</p><p>das Schwein + das Fleisch = das Schweinefleisch</p></blockquote><p><strong>由名词构成的复合词，中间可能会有省略或增加的部分</strong></p><h3 id="nomen-es-en-nomen"><a class="markdownIt-Anchor" href="#nomen-es-en-nomen"></a> Nomen + -(e)s-/-(e)n- + Nomen</h3><blockquote><p>das Leben + der Standard = der Lebensstandard 生活标准</p><p>die Suppe + der Teller = der Suppenteller 汤盘</p></blockquote><p><strong>接缝词为了方便发音，没有特殊规律，靠语感和平日积累</strong></p><h3 id="verbnomen"><a class="markdownIt-Anchor" href="#verbnomen"></a> Verb+Nomen</h3><blockquote><p>essen + der Löffel → der Esslöffel 食勺</p><p>zeichnen + der Tisch → der Zeichentisch 绘图桌</p></blockquote><p><strong>由动词+名词构成的复合词，保留动词词干，省略词尾</strong></p><h3 id="adjektivadverbnomen"><a class="markdownIt-Anchor" href="#adjektivadverbnomen"></a> Adjektiv/Adverb+Nomen</h3><blockquote><p>groß + die Stadt → die Großstadt 大城市</p><p>selbst + der Mord → der Selbstmord 自杀</p></blockquote><p>der Riese + die Stadt = die Riesenstadt 大城市 反义词：die Kleinstadt-&quot;e 小城市</p><p>die Großstadt + der Bewohner = der Großstadtbewohner 大城市居民 反义词：der Kleinstadtbewohner- 小城市市民</p><p>selbst + das Gespräch = das Selbstgespräch 自言自语</p><p>das Land + der Mensch = der Landmensch 住郊区的人 反义词：der Stadtmensch-en 城市人</p><p>die Metropole + der Bewohner = der Metropolenbewohner 大城市人</p><p>die Schule + die Bildung = die Schulbildung 学校教育</p><p>unter + die Schicht = die Unterschicht 底层人民</p><p>überleben + der Mechanismus = der Überlebensmechanismus 生存机制</p><p>der Stein + die Zeit = die Steinzeit 石器时代</p><p>alle/alles 100%</p><p>drei Viertel 75%</p><p>die Hälfte 50%</p><p>ein Drittel 33.33%</p><p>ein Viertel 25%</p><p>niemand/nichts 0%</p><p>laut + Dativ 根据</p><p>Emnid-Umfrage 德国民调机构</p><p>SPIEGEL special 明镜特刊</p><p>urban 城市的，城市化的 adj</p><h1 id="2-9-linke-lieben-die-stadt"><a class="markdownIt-Anchor" href="#2-9-linke-lieben-die-stadt"></a> 2-9 Linke lieben die Stadt</h1><p>zusammenhängen mit 与……关联 可分v</p><p>die Neigung 倾向，倾斜</p><p>offensichtlich = offenbar 显然的</p><p>qualifiziert 有资格的，高水平的</p><p>abgewinnen + Dativ 乐于</p><p>sich wohl fühlen 感到舒服</p><p>der Gesellenbrief-e 学徒工的满师证书</p><p>aufzeigen 阐明，说明，指明</p><p>außerdem 此外</p><p>die Wechselbeziehung 相互关系</p><p>der Standort-e 所在地，位置</p><p>der Wohnort-e 居住地</p><p>bevorzugt 优先的，被偏爱的 adj</p><p>nah + Dativ 在近旁</p><blockquote><p>nah dem Fluss</p><p>nah dem Bahnhof wohnen</p></blockquote><p>das Spektrum-tren 多种多样，形形色色</p><p>bevorzugen 偏爱，偏心</p><blockquote><p>bevorzugen A vor B 偏爱 A 胜于 B</p></blockquote><p>Je + 形容词比较级（从句，动词置尾）, desto + 形容词比较级（主句，动词第二位）</p><h1 id="2-10-情态动词被动态"><a class="markdownIt-Anchor" href="#2-10-情态动词被动态"></a> 2-10 情态动词被动态</h1><h2 id="stadtplanung-词汇"><a class="markdownIt-Anchor" href="#stadtplanung-词汇"></a> Stadtplanung 词汇</h2><p>das Krankenhaus-&quot;er 医院</p><p>der Hauptbahnhof-&quot;e 中央火车站</p><p>das Parkhaus-&quot;er 停车库</p><p>die Kirche-n 教堂</p><p>das Arbeitsamt-&quot;er 劳工局（人才交流中心）</p><p>das Kulturzentrum-tren 文化中心</p><p>das Einkaufszentrum-tren 购物中心</p><p>das Bürogebäude-n 办公大楼</p><p>der Nachtclub-s 夜店</p><h2 id="情态动词的被动态"><a class="markdownIt-Anchor" href="#情态动词的被动态"></a> 情态动词的被动态</h2><p><strong>主动句的 wollen 应该变成 sollen</strong></p><p>Man hat das Rathaus im letzten Jahr renoviert. - Im letztem Jahr wurde das Rathaus renoviert.</p><p>+ sollen: Im letztem Jahr sollte das Rathaus renoviert werden.</p><p>情态动词 …… 过去分词 + werden</p><p>情态动词根据主语进行变位即可</p><p>Man muss das Haus renovieren. - Das Haus muss renoviert werden.</p><p>Wir dürfen das Haus nicht abreißen. - Das Haus darf nicht abgerissen werden.</p><p>abreißen 拆除，撕下 - haben abgerissen</p><p>Man will das Haus renovieren. - Das Haus soll(nicht will) renoviert werden.</p><p>Man kann den Bau nicht verbieten. - Der Bau kann nicht verboten werden.</p><p>Die Stadt muss den Bau des Hauses erlauben. - Der Bau des Hauses muss von der Stadt erlaubt werden.</p><p>von der Stadt 动作发出方</p><p>Wir wollen die Küche modernisieren. - Die Küche soll modernisiert werden.</p><p>modernisieren 现代化</p><p>Man darf das Kulturzentrum nicht schließen. - Das Kulturzentrum darf nicht geschlossen werden.</p><h2 id="werden"><a class="markdownIt-Anchor" href="#werden"></a> werden</h2><h3 id="实义动词"><a class="markdownIt-Anchor" href="#实义动词"></a> 实义动词</h3><p>成为，变为</p><p>Peter wird Ingenieur.</p><p>Peter wird 28.</p><p>Peter wird alter.</p><p>现在时变位：werde wirst wird werden werdet werden</p><h3 id="助动词"><a class="markdownIt-Anchor" href="#助动词"></a> 助动词</h3><ol><li><p>一般将来时</p><p>werden … 动词原形</p><p>Peter wird uns einladen.</p></li><li><p>被动态</p><p>werden … 过去分词</p><p>Wir werden von Peter eingeladen.</p></li><li><p>虚拟式</p><p>würden … 动词原形</p><p>Ich würde sehr gern kommen.</p></li></ol><h2 id="stadterneuerung-城市翻新"><a class="markdownIt-Anchor" href="#stadterneuerung-城市翻新"></a> Stadterneuerung 城市翻新</h2><p>umbauen 改建，翻修 可分v wird umgebaut</p><p>ausbauen 扩建，拆除 可分v wird ausgebaut</p><h1 id="2-11-was-tut-der-besitzer"><a class="markdownIt-Anchor" href="#2-11-was-tut-der-besitzer"></a> 2-11 Was tut der Besitzer</h1><p>am Computer arbeiten 在电脑旁工作</p><p>Besuch empfangen 获得拜访</p><p>das Fahrrad reparieren 修理自行车</p><p>Essen kochen 烧饭</p><p>Feste feiern 庆祝节日</p><p>Geschirr abwaschen 洗餐具</p><p>Hausaufgaben machen 做作业</p><p>Kuchen backen 烤蛋糕</p><p>mit Gästen essen/feiern/fernsehen/frühstücken 与客人们吃饭/庆祝/看电视/吃早餐</p><p>Musik hören 听音乐</p><p>Wäsche waschen/trocknen 洗衣服/烘干衣服</p><p>sich duschen 冲澡</p><p>sich entspannen 放松自己</p><p>sich fit halten 保持健康</p><p>sich rasieren 剃须</p><p>sich waschen 洗澡</p><p>der Hundekorb-&quot;e 狗窝</p><p>der Stuhl-&quot;e 椅子</p><p>der Kühlschrank-&quot;e 冰箱</p><p>der Teppich-e 地毯</p><p>der Schrank-&quot;e 柜子</p><p>der Esstisch-e 餐桌</p><p>der Schreibtisch-e 写字桌</p><p>der Wäschetrockner 烘干机</p><p>der Spiegel- 镜子</p><p>das Bett-en 床</p><p>das Regal-e 架子</p><p>das Bild-er 图片</p><p>das Sofa-s 沙发</p><p>die Couch-s 长沙发</p><p>die Zimmerpflanze-n 室内观景植物</p><p>die Waschmaschine-n 洗衣机</p><p>a) wohnen: Wohnung - übernachten: Übernachtung</p><p>b) arbeiten: Arbeitszimmer - kochen: Küche</p><p>c) Kleider: Kleiderschrank - Bücher: Bücherregal</p><p>d) arbeiten: Schreibtisch - essen: Esstisch</p><p>e) Wäsche waschen: Waschmaschine - Wäsche trocknen: Wäschetrockner（烘干机）</p><p>f) Hund: Hundekorb - Mensch: Bett</p><p>g) Bett: schlafen - Stuhl: sitzen</p><p>h) Spüle（水槽）: abwaschen - Elektroherd（电灶）: kochen</p><h2 id="词汇练习"><a class="markdownIt-Anchor" href="#词汇练习"></a> 词汇练习</h2><p>die Gastfamilie-n 寄宿家庭</p><p>das Gästehaus-&quot;er 旅店，招待所</p><p>möbliertes Zimmer 配有家具的房间</p><p>Gastfamilie 寄宿家庭</p><p>Weil ich da Kontakt zu Einheimischen hätte. 因为我能与当地人有联系。</p><p>der/die Einheimische-n 本地人，本土人</p><p>Hotel, Pension 酒店/民宿</p><p>Weil ich keine Rücksicht auf andere nehmen muss. 我不必照顾他人的感受。</p><p>Rücksicht nehmen 留意，留心</p><p>Gästehaus, Studentenwohnheim 旅店/学生宿舍</p><p>Weil ich leicht Kontakt zu anderen Studenten finde. 因为我可以轻易与其他学生沟通。</p><p>Kontakt zu … finden/haben 和……联系</p><p>möbliertes Zimmer 配有家具的房间</p><p>Weil ich unabhängig bin. 因为我是独立的。</p><p>Jugendherberge 青旅社</p><p>Weil ich eine preiswerte Unterkunft habe. 因为划算。</p><p>preiswert 划算的</p><p>die Unterkunft-&quot;e 住处</p><p>Wohngemeinschaft 合租</p><p>Weil die Kosten sich für eine Wohnung teilen. 因为房租可以平摊。</p><h1 id="2-12-unterkünfte"><a class="markdownIt-Anchor" href="#2-12-unterkünfte"></a> 2-12 Unterkünfte</h1><p>三格复数词尾要加 -n</p><p>riesig 巨大的</p><p>abschließbar 可上锁的 adj</p><p>das Fach-&quot;er 专业；隔层，抽屉</p><p>dabei 此时；虽然 adv</p><p>so …, dass … 太……以致于</p><p>Es wäre gewesen = Es ist gewesen 的虚拟式</p><p>über Akkusativ erfahren 经历，体验</p><p>völlig 完全的，充分的 adj</p><p>akademisch 学术的，大学生的 adj</p><p>die Gewohnheit-en 习惯</p><p>der Dozent-en 大学讲师</p><p>das Dozentenwohnheim-e 讲师宿舍</p><p>sich bei jmdm über Akkusativ beschweren 就某事向某人诉苦</p><h2 id="写作练习"><a class="markdownIt-Anchor" href="#写作练习"></a> 写作练习</h2><p>复习德语信件格式，给 Angela 回信，duzen</p><blockquote><p>Liebe Angela,</p><p>vielen Dank für deinen netten Brief. Was du über dein Gästehaus in Tübingen schreibst, kommt mir bekannt vor. Ich habe auch schon mal in einem Gästehaus gewohnt, welches eine gemeinsame Küche hatte.</p><p>Das fand ich sehr nett, denn es war sehr sauber dort und viele der anderen Gäste habe diese Küche auch gar nicht genutzt. Daher konnte ich jeden Tag kochen und habe es auch wirklich genossen. Mein Zimmer hatte ein kleines Bad mit Dusche und WC.</p><p>genießen 享受 - haben genossen</p><p>Allerdings gab es auch ein Problem. Wenn der Nachbar ebenfalls geduscht hatte, war es bei mir plötzlich sehr kalt. Muss wohl an dem alten Haus und der alten Technik liegen. Da es Winter und sehr kalt war, habe ich die Badewanne schon vermisst.</p><p>plötzlich 意外的，忽然的</p><p>vermissen 惦记，挂念</p><p>Ich hätte noch weiter in diesem Gästehaus wohnen können, die Küche war echt toll. Aber die fehlende Badewanne und das Problem mit dem kalten Wasser beim Duschen haben mir dir Entscheidung, erleichtert, in meine eigene kleine Studentenwohnung zu ziehen.</p><p>echt 真的 adj</p><p>fehlen 缺乏，缺少</p><p>erleichtert 心情轻松的 adj</p><p>Herzliche Grüße</p><p>deine</p></blockquote><h1 id="2-13-leseverstehen-teil-2-1"><a class="markdownIt-Anchor" href="#2-13-leseverstehen-teil-2-1"></a> 2-13 Leseverstehen Teil 2 (1)</h1><p>长篇阅读：1 篇文章，5 道题目</p><p>在阅读之前，读文章标题，猜测主题</p><p>再读题，划出关键词（尽量短）：关键词划得越多，越有可能被干扰</p><p>文章读两遍：</p><ul><li>第一遍 schnell und ganz 快速扫描，定位关键词</li><li>第二遍 gründlich und gezielt 有目标的精读</li></ul><p>⚠️<strong>坑点：任务的顺序不总是按照文章的顺序！！！和英语的雅思不一样</strong></p><p>geeignet für 适用于</p><p>solch 这样的，这种的 pron</p><p>hauptsächlich 主要的，根本的，首先 adj adv</p><h1 id="2-14-leseverstehen-teil-2-2"><a class="markdownIt-Anchor" href="#2-14-leseverstehen-teil-2-2"></a> 2-14 Leseverstehen Teil 2 (2)</h1><p>das Manko-s 缺点，缺陷</p><p>ermöglicht 激活的 adj</p><p>verbergen 藏匿，隐藏</p><p>nötig 必要的，必不可少的 adj</p><p>der Energieaufwand 能源消耗 = der Energieverbrauch</p><p>der Aufwand-/ 费用，开支，消费</p><p>niedrig 低的，矮的</p><p>neuerdings 最近 adv</p><h1 id="2-15-folge-2-feng-shui"><a class="markdownIt-Anchor" href="#2-15-folge-2-feng-shui"></a> 2-15 Folge 2-Feng Shui</h1><p>Champagner 香槟 = Schampus</p><p>der Rechtsanwalt-wälte 律师</p><p>der Hokuspokus 恶作剧，玩笑，戏法，骗术</p><p>beraten 劝告，给……出建议，讨论</p><p>esoterisch 神秘的，神神叨叨的，秘密的 adj adv</p><p>wachsen 成长，生长，发育</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Orte&lt;/li&gt;
&lt;li&gt;Häuser beschreiben, Mengenanteile aus</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 B1 Lektion 1 Kennen lernen</title>
    <link href="https://tinsir888.github.io/posts/8aa87477.html"/>
    <id>https://tinsir888.github.io/posts/8aa87477.html</id>
    <published>2023-03-11T23:00:00.000Z</published>
    <updated>2023-03-23T11:39:28.778Z</updated>
    
    <content type="html"><![CDATA[<h1 id="konzept"><a class="markdownIt-Anchor" href="#konzept"></a> Konzept</h1><ol><li>Kennen lernen</li><li>Sich verstellen, Begrüßung</li><li>Verhalten beschreiben, Heikle Situationen entschärfen 描述行为方式，化解尴尬棘手的场景</li><li>Reflexiv- und Reziprokpronomen 反身动词和反身代词</li><li>Verben mit Präpositionen 带有介词的动词</li></ol><h1 id="1-1-lernen-sie-sich-kennen"><a class="markdownIt-Anchor" href="#1-1-lernen-sie-sich-kennen"></a> 1-1 Lernen Sie sich kennen</h1><p>mit… + Dativ beginnen 开始，着手进行某事</p><p>müssten 第二虚拟式表委婉的强烈推测</p><p>dran sein 轮到了</p><p>das Zertifikat-e 考试合格证书，文凭</p><p>der Prüfer- 考官</p><p>nach + Dativ 根据，在……之后</p><p>damit + 从句 表目的</p><p>das Warten-/ 等待（动名词）</p><p>Zeitplan einhalten 遵守时间计划</p><p>helfen + Dativ 帮助某人</p><p>ich helfe - du hilfst - er/sie/es hilft - haben geholfen</p><p>höfflich 礼貌的 respektvoll 恭敬的 selbstbewusst 自信的</p><h1 id="1-2-reflexive-und-reziproke-verben"><a class="markdownIt-Anchor" href="#1-2-reflexive-und-reziproke-verben"></a> 1-2 Reflexive und reziproke Verben</h1><p>sich zuwinken 相互挥手</p><p>winken + Dativ</p><p>Die beiden Freunde winken sich zu. 这两个朋友相互挥手</p><p>Ich winke <strong>dir</strong> zu. 我向你挥手</p><p>sich küssen 相互亲吻</p><p>Das Liebespaar küsst sich.</p><p>Ich küsse dich.</p><p>sich zunicken 相互点头</p><p>Die alten Männer nicken sich zu.</p><p>Ich nicke <strong>dir</strong> zu.</p><p>sich die Hand geben/schütteln 相互握手</p><p>Der Mann und die Frau schütteln sich die Hand.</p><p>sich umarmen 相互拥抱</p><p>Die zwei Jungen umarmen sich.</p><p>Ich umarme dich.</p><p>sich auf die Schulter klopfen 轻拍肩膀</p><p>Sie klopfen sich auf die Schulter. 他俩相互轻拍肩膀。</p><p>sich beeilen 抓紧时间，赶时间 真反身</p><p>Lutz beeilt sich.</p><p>anziehen 穿衣服 假反身</p><p>ausruhen 休息 真反身</p><p>langweilen 感到无聊 假反身</p><p>streiten 吵架 相互反身</p><p>einigen 达成一致 相互反身</p><p>leben 爱 相互反身/假反身</p><p>beschweren 抱怨 真反身</p><p>verleiben 坠入爱河 真反身</p><p>ärgern 生气 假反身/相互反身</p><p>entschuldigen 道歉</p><ul><li><p>sich entschuldigen 道歉</p></li><li><p>jemanden entschuldigen 为某人辩解</p></li></ul><h1 id="1-3-begrüßungsrituale-1"><a class="markdownIt-Anchor" href="#1-3-begrüßungsrituale-1"></a> 1-3 Begrüßungsrituale (1)</h1><p>menschlich 人类的 adj</p><p>das Ritual-e 习俗</p><p>Begrüßungsritual 问候风俗</p><p>recht 相当，很</p><p>das Land-&quot;er 国家</p><p>das Asien-/ 亚洲</p><p>die Brust-&quot;e 胸</p><p>die Fingerspitze-n 指尖</p><p>das Kinn-e 下巴</p><p>ostasiatisch 东亚的 adj</p><p>die Verbeugung-en 鞠躬</p><p>eine große Rolle spielen 扮演重要的角色 = 十分重要</p><p>korrekt 正确的 adj</p><p>Abrazo 西班牙语，拥抱</p><p>üblich 普通的，习以为常的 adj</p><p>die Umarmung-en 紧抱，拥抱</p><p>arabisch 阿拉伯的 adj</p><p>der Handschlag-/ 握手</p><p>zwar…, aber… 虽然……但是……</p><p>bestimmt 明确的，坚定的</p><p>drücken 按，压</p><p>etwas ausfallen 得出结果</p><p>dagegen 相反的 adv</p><p>sanft 轻柔的 adj</p><p>der Augenkontakt 眼神交流</p><p>sich blicken 互相看（相互反身）</p><h1 id="1-4-begrüßungsrituale-2"><a class="markdownIt-Anchor" href="#1-4-begrüßungsrituale-2"></a> 1-4 Begrüßungsrituale (2)</h1><p>meist = meistens 大多数时候</p><p>gefühlvoll 充满情感的 adj</p><p>(Es) wird von… begleitet 同时发生，伴随着</p><p>der Griff-e 抓，握</p><p>der Ellbogen- 肘</p><p>der Unterarm-e 前臂</p><h1 id="1-5-höflich-unhöflich"><a class="markdownIt-Anchor" href="#1-5-höflich-unhöflich"></a> 1-5 Höflich? Unhöflich?</h1><p>tüchtig 大量的，可观的</p><p>krachen 发出爆裂声</p><p>hätten… 实义动词不定式 + 情态动词不定式 = 第二虚拟式过去时</p><p>stark 强大的，猛烈的 stärker 比较 am stärksten 最高</p><p>bremsen 刹车</p><p>nun = jetzt 现在，当下</p><p>Salü 你好</p><p>Im Moment = jetzt = nun 现在</p><p>momentan 片刻地，暂时地</p><p>knapp 短缺的，紧缺的</p><p>einen Kredit aufnehmen 贷款</p><p>für … zuständig sein 负责，有职权的</p><p>der Schalter- 柜台，服务窗口</p><p>Gern geschehen = Bitte schön 不用谢</p><p>stimmt’s = stimmt es</p><h1 id="1-6-sonntagsruhe"><a class="markdownIt-Anchor" href="#1-6-sonntagsruhe"></a> 1-6 Sonntagsruhe</h1><p>Hausordnung 住房规章</p><p>Mittagsruhezeit 午间安静时间</p><p>Nachtsruhezeit 晚间安静时间</p><p>Sonntagsruhe 周日安宁</p><p>Zimmerlautstärke 房间音量</p><p>Musikinstrumente 乐器</p><p>Partylärm 聚会噪音</p><p>fürchten 恐怕</p><ul><li>Ich fürchte, dass… 恐怕……</li><li>für/um… fürchten 为……感到担忧 z. B. Ich fürchte für/um die Prüfung.</li><li>sich vor… fürchten 担心，害怕某事 z. B. Hans fürchtet sich vor Hund.</li></ul><p>jmdn. um etwas bitten 请求某人某事</p><blockquote><p>Wir bitten Sie um Hilfe.</p></blockquote><p>aufmerksam 聚精会神的，留意的</p><p>mit… aufhören 停止做某事</p><p>jmdm einfallen 突然使某人想起</p><p>sich um Akkusativ kümmern 关心</p><p>Verzeihung 抱歉</p><p>der Krach-/ 响声，噼啪声</p><p>furchtbar, grässlich, schrecklich 糟糕的，恐怖的</p><p>erlaubt = gestattet 许可的</p><p>untersagt 禁止的</p><p>untersagen 禁止 v</p><p>meinetwegen 由于我的缘故</p><p>deinetwegen 由于你的缘故</p><h1 id="1-7-radioreportage-1"><a class="markdownIt-Anchor" href="#1-7-radioreportage-1"></a> 1-7 Radioreportage (1)</h1><p>jmdn beschäftigen 使忙碌，使思考</p><p>über Akkusativ hinweg 超过（时间）</p><p>der/die Schutzheilige-n 守护神</p><p>der Träger- 携带者，佩戴者</p><p>mehrere 若干个，好几个</p><p>das Jahrhundert-e 世纪</p><p>hießen = heißen 过去式</p><p>sich Akkusativ teilen 分享，共享</p><h1 id="1-8-radioreportage-2"><a class="markdownIt-Anchor" href="#1-8-radioreportage-2"></a> 1-8 Radioreportage (2)</h1><p>die Entscheidung 决定</p><p>fiel = fallen 过去式</p><p>jmdm schwer fallen 让某人现如困境</p><blockquote><p>Die Arbeit fällt ihm schwer.</p></blockquote><p>weitervererben 遗传给 可分v</p><blockquote><p>Oma vererbt mir das Grundstück weiter.</p></blockquote><p>(Es) wird… zurückgriffen 无主语被动态</p><p>auf Akkusativ zurückgreifen （不得已时）动用</p><p>haben zurückgegriffen - zurückgriff</p><blockquote><p>Er muss auf sein Spargeld zurückgreifen.</p></blockquote><p>die Verwandtschaft 亲属，家族</p><p>seit ewigen Zeiten 长久以来（固定搭配）</p><p>die Verwechslung 混淆，弄混</p><p>merken 察觉，意识到</p><p>der Klang-&quot;e 声调，声响</p><p>am Klang 通过声调（固定搭配）</p><p>auf jeden Fall 无论如何，一定</p><p>der Rufname-n 叫名，名字</p><p>nach + Dativ 根据……</p><p>abwechselnd 轮流的，交替的 adv</p><p>abwechseln 轮流，交替 v</p><p>die Abwechselung 轮流，交替 n</p><p>passend 合适的</p><p>ausgefallen 离奇的，一般人想不到的 adj</p><p>gebräuchlich 常用的，常见的</p><p>sich Dativ merken 记住</p><p>allerdings 当然，自然（表肯定） adv</p><p>sich an Akkusativ gewöhnen 习惯……</p><p>angerannt kommen 跑来</p><p>gerieten = geraten 的过去式</p><p>in etwas[A] geraten 处于，陷于</p><p>die Vergessenheit 遗忘，忘记</p><p>hielt = halten 过去式</p><p>etwas für adj halten 将……视作，看做</p><blockquote><p>Sie halten die Pilze für giftig.</p></blockquote><p>verstaubt 陈旧的，积满灰尘的</p><p>im Kommen sein 上升</p><h1 id="1-9-radioreportage-3"><a class="markdownIt-Anchor" href="#1-9-radioreportage-3"></a> 1-9 Radioreportage (3)</h1><p>hätte lieber… gehabt 宁愿有一个</p><p>doof 愚蠢的</p><p>erfüllen 灌满，满足</p><p>jmdm. Wunsch nach… erfüllen 让某人实现对于……的愿望。</p><p>neugeboren 新生的，刚出世的 adj</p><p>nötig 必要的，必不可少的</p><p>jmdn. vor… schützen 保护某人以防……</p><p>sich machen 开始做某事</p><p>die Behörde-n 行政机关，管理局</p><p>die Freiheit-/ 自由，独立</p><p>die Namensgebung 取名，命名</p><p>wenn auch 尽管，即使（让步从句）</p><p>zulassen 批准，许可</p><p>das Amt-&quot;er 机关，局，所</p><p>der Ausnahmefall-&quot;e 特殊情况，例外</p><p>genehmigen 许可，批准</p><p>fanden = finden 过去式</p><h1 id="1-10-radioreportage-4"><a class="markdownIt-Anchor" href="#1-10-radioreportage-4"></a> 1-10 Radioreportage (4)</h1><p>andererseits 另一方面 = auf der anderen Seite</p><p>Es kommt vor, dass… 发生……</p><p>der Fall-&quot;e 情况</p><p>zu Rate 咨询，获得建议</p><p>erhältlich 可获得的 adj</p><p>gängig 常用的，流行的，畅销的 adj</p><p>ungewöhnlich 不同寻常的 adj</p><p>Mein Name ist Friedrich Odin, Friedrich ist mein Nachname und Odin ist mein Familienname.</p><h1 id="1-11-wofür-woran"><a class="markdownIt-Anchor" href="#1-11-wofür-woran"></a> 1-11 Wofür Woran</h1><h2 id="präpositionalergänzungen"><a class="markdownIt-Anchor" href="#präpositionalergänzungen"></a> Präpositionalergänzungen</h2><p>四格宾语</p><p>双宾语（人三物四）</p><p>介宾</p><h3 id="verben-mit-präposition-akkusativ"><a class="markdownIt-Anchor" href="#verben-mit-präposition-akkusativ"></a> Verben mit Präposition + Akkusativ</h3><p>glauben + an Akkusativ 相信……</p><blockquote><p>Wir glauben <strong>an</strong> die Regierung. 我们相信政府。</p></blockquote><p>sich ärgern über Akkusativ 为……生气</p><p>sich verlassen auf Akkusativ 指望，信赖……</p><p>sich aufregen über Akkusativ 对……发怒，发火</p><p>vertrauen auf Akkusativ 信任</p><p>vertrauen + Dativ 信任某人</p><p>sich bemühen um Akkusativ 关心，照顾 = sich kümmern um Akkusativ</p><p>sich einsetzen für Akkusativ 致力于，付出全力</p><h3 id="verben-mit-präposition-dativ"><a class="markdownIt-Anchor" href="#verben-mit-präposition-dativ"></a> Verben mit Präposition + Dativ</h3><p>zweifeln an Dativ 怀疑……，不相信</p><blockquote><p>Ich zweifele an der Entscheidung.</p></blockquote><p>sich fürchten vor Dativ 害怕</p><blockquote><p>Hans fürchtet sich vor dem Hund.</p></blockquote><p>träumen von Dativ 幻想……，梦见……</p><blockquote><p>Meine Eltern träumen immer von einem Enkelkind.</p></blockquote><p>Die Soldaten setzen sich <strong>für den Staat</strong> ein.</p><p>对加黑部分（介宾）提问：<strong>Wofür</strong> setzen die Soldaten sich ein?</p><p>für was 是错的！</p><p>Hans fürchtet sich <strong>vor dem Hund</strong>.</p><p>对加黑部分（介宾）提问：<strong>Wovor</strong> fürchtet Hans sich?</p><p>Vor was 是错的！</p><p>bei Sachen 对事物，事件提问，在问句中：wo + 介词</p><p>如果介词是元音开头的，需要在 wo 和介词之间加上 r，方便发音</p><p>z. B.</p><p>wo + an → woran</p><p>wo + auf → worauf</p><p>wo + über → worüber</p><p>bei Personen 对人物提问，在问句中：介词 + wen/wem</p><p>Lucia ärgert sich <strong>über mich</strong>.</p><p><strong>Über wen</strong> ärgert Lucia sich.</p><h1 id="1-12-dafür-daran"><a class="markdownIt-Anchor" href="#1-12-dafür-daran"></a> 1-12 dafür daran</h1><p>Wo träumen Sie?</p><p>Ich träume davon, dass es allen Menschen gut geht.</p><p>Womit beschäftigen Sie sich?</p><p>Damit, dass so viel Haushalt getan werden muss.</p><p>bei Sachen，对事件事物提问，在答句中：da + 介词</p><p>如果介词以元音开头，要加 r</p><p>bei Personen，对人物提问，在答句中：介词 + 人称</p><h1 id="1-13-infinitivsatz-mit-zu-1"><a class="markdownIt-Anchor" href="#1-13-infinitivsatz-mit-zu-1"></a> 1-13 Infinitivsatz mit zu (1)</h1><p>带 zu 不定式：主句，其他成分 + zu + 动词原形</p><ol><li><p>Sie versucht. Sie ärgert sich nicht über ihren Mann.</p><p>Sie versucht, sich nicht über ihren Mann zu ärgern.</p></li><li><p>Sie hat keine Lust. Sie raucht weniger.</p><p>Sie hat keine Lust, weniger zu rauchen.</p></li></ol><p>使用场景 1：不定式行为主体与主句主语一致时，往往使用带 zu 不定式</p><ol start="3"><li><p>Birgit bittet die Eltern. Die Eltern sollen für sie einen Computer kaufen.</p><p>Birgit bittet die Eltern, für sie einen Computer zu kaufen.</p></li></ol><p>使用场景 2：不定式行为主体与主句不一致，但三格/四格宾语一致时，也可以用带 zu 不定式</p><h2 id="带-zu-不定式的特点"><a class="markdownIt-Anchor" href="#带-zu-不定式的特点"></a> 带 zu 不定式的特点</h2><ol><li>带 zu 不定式属于主句的一部分，是补充部分。</li><li>与其他句子一样拥有状语和宾语</li><li>没有动词变位</li><li>当带 zu 不定式中有两个及以动词时，zu 不可以省略</li></ol><blockquote><p>Ich hoffe, ihn zu sehen, zu sprechen, und mit ihm ins Kino zu gehen.</p></blockquote><p>可分动词的情况：zu 置于可分前缀和主动词之间。</p><blockquote><p>Sie hat keine Zeit, abzunehmen.</p><p>Die Kinder haben keine Lust, mit dem Unterricht anzufangen.</p></blockquote><h1 id="1-14-infinitivsatz-mit-zu-2"><a class="markdownIt-Anchor" href="#1-14-infinitivsatz-mit-zu-2"></a> 1-14 Infinitivsatz mit zu (2)</h1><p>auf Akkusativ hoffen 希望，期待</p><p>gegen Akkusativ protestieren 抗议，反对</p><p>sich über Akkusativ streiten 为……争执，吵架</p><p>mit Dativ beginnen 开始做某事</p><p>an Akkusativ erinnern 回忆，记得</p><p>nach Dativ fragen 询问</p><p>von Dativ erzählen 提及</p><p>das Erlebnis-se 经历，大事</p><p>sich über Akkusativ freuen 对……感到高兴</p><p>mit Dativ aufhören 停止做某事</p><p>sich auf Akkusativ verlassen 信赖，信任</p><p>auf Akkusativ Lust haben 有兴趣做某事</p><p>auf Akkusativ vertrauen 相信某事</p><p>sich um Akkusativ bemühen 照顾某人</p><p>an Dativ zweifeln 质疑……</p><p>sich mit Dativ beschäftigen 忙于……</p><h1 id="1-15-fünf-fragen-reisen-1"><a class="markdownIt-Anchor" href="#1-15-fünf-fragen-reisen-1"></a> 1-15 Fünf Fragen reisen (1)</h1><p>der Erdteil-en 大陆，洲</p><p>Wert auf Akkusativ legen 重视</p><p>auf Akkusativ verzichten 放弃</p><p>in Dativ bestehen 在于……</p><p>für… bedeuten 对某人意味着</p><p>von… träumen 梦见，梦想</p><p>die Hütte-n 小屋，茅舍</p><p>der Rand-&quot;er 边缘</p><p>betreiben 从事，进行</p><p>der Luxus-/ 奢侈，豪华</p><p>dauernd 持续地，不断地</p><p>der Erfolg-/ 成功</p><p>der Briefträger- 邮递员</p><p>die Lebensgefährtin-nen 同居女友</p><p>am Ortsrand 在郊区</p><p>die Zufriedenheit-/ 满意，满足</p><p>das Statussymbol-e 地位象征</p><p>restlos 彻底的，完全的</p><p>eindeutig 鲜明的，明确的</p><p>der Sinn-/ 意义，含义</p><h1 id="1-16-fünf-fragen-reisen-2"><a class="markdownIt-Anchor" href="#1-16-fünf-fragen-reisen-2"></a> 1-16 Fünf Fragen reisen (2)</h1><p>die Geografie-/ 地理</p><p>jüngerer Bruder 弟弟</p><p>älterer Bruder 哥哥</p><p>sticken 刺绣，做手工活</p><p>um Akkusativ 围绕着……</p><p>dienen Dativ 报效，有益于</p><p>die Philosophie-/ 哲学</p><p>der Studienabschluss 大学毕业文凭</p><h1 id="1-17-zwei-homepages-1"><a class="markdownIt-Anchor" href="#1-17-zwei-homepages-1"></a> 1-17 Zwei Homepages (1)</h1><p>der Surfer- 冲浪者，上网的人</p><p>soeben = nun = jetzt</p><p>wuschelig 蓬松卷曲的 adj</p><p>jmdn über Akkusativ unterrichten 通过……使某人了解，告知某人 v</p><p>preiswert 物美价廉的 adj</p><p>anklicken 鼠标点击 v</p><p>gigantisch 巨大的，伟大的 adj （对应英文 gigantic）</p><p>sich über Akkusativ freuen 因……感到高兴</p><p>zuletzt 最后一次，最近 adv</p><p>aktualisieren 更新</p><p>der Jahrgang-&quot;e 年，年度</p><p>der Schultag-e 上学的一天</p><p>die Schlägerei-en 打架，斗殴</p><p>der Chefredakteur-e 主编</p><p>die Schülerzeitung-en 学生报</p><p>Theater spielen 表演戏剧</p><h1 id="1-18-zwei-homepages-2"><a class="markdownIt-Anchor" href="#1-18-zwei-homepages-2"></a> 1-18 Zwei Homepages (2)</h1><p>hinein 进入 adv</p><p>das Studentenleben-/ 大学生活</p><p>die Romanistik-/ 罗马语言学</p><p>der Wechsel-/ 转变，变化</p><p>die Volkswirtschaftslehre  国民经济学</p><p>vergeblich 徒劳的，白费的</p><p>die Jobsuche 找工作</p><p>der Wirtschaftsberater- 经济顾问</p><p>die Fortbildung-en 进修，深造</p><p>der Spezialist-en 专家，行家</p><p>die Erkenntnis-se 认知，理解</p><p>faszinieren 令人神魂颠倒，令人着迷 v</p><p>faszinierend 令人神魂颠倒的，令人着迷的 adj</p><p>die Herkunft 来源，出身</p><p>das Aussehen 外貌</p><p>die Eigenschaft 品质，特质</p><p>lebhaft 活泼的，兴高采烈的</p><p>ernst 严肃的</p><p>abbrechen 中断，折断</p><p>habe … abgebrochen</p><p>gering 贫乏的，不足的 反义词：genug（相当于英语的 enough）</p><p>das Sprachkenntnis-se 语言知识</p><blockquote><p>Name: Friedrich</p><p>Alter: 22</p><p>Familie: …</p><p>Hobbys/Freizeit:</p><ul><li>Ich interessiere mich für Klavier spielen.</li><li>Ich beschäftige mich gern mit Brettspiele.</li><li>In jeder freien Minute spiele ich Tischtennis.</li></ul><p>Aussehen</p><p>Beruf: Ich bin Student.</p><p>persönliche Eigenschaften</p><ul><li>Ich bin sehr sportlich/unsportlich.</li><li>Ich bin ziemlich ruhig - lebhaft</li><li>Ich bin ernst - fröhlich</li></ul><p>Schule</p><ul><li>Ich besuchte die CQNK Mittelschule.</li><li>Ich habe den Mittelschulabschluss.</li><li>Ich habe das Gaokao(Chinesische Abitur oder Matura).</li></ul><p>Studium</p><ul><li>Ich besuche die Nankai-Universität in Tianjin, Volksrepublik China.</li><li>Ich studiere Informatik.</li></ul><p>Kenntnisse</p><ul><li>Ich habe gute Computerkenntnisse.</li><li>Ich habe nur geringe Deutschkenntnisse.</li></ul></blockquote><h1 id="1-19-leseverstehen-teil-1"><a class="markdownIt-Anchor" href="#1-19-leseverstehen-teil-1"></a> 1-19 Leseverstehen Teil 1</h1><p>欧标考试题型：为短文匹配标题</p><p>考试时千万不要精读！划关键词，速读短文。</p><p>可以对比相似选项的区别</p><h1 id="1-20-folge-1-zimmer-in-wg"><a class="markdownIt-Anchor" href="#1-20-folge-1-zimmer-in-wg"></a> 1-20 Folge 1-Zimmer in WG</h1><p>beleidigt 受到侮辱的 adj</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;konzept&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#konzept&quot;&gt;&lt;/a&gt; Konzept&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Kennen lernen&lt;/li&gt;
&lt;li&gt;Sich verstellen, Begrüßung&lt;/</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="新标准德语强化B1" scheme="https://tinsir888.github.io/tags/%E6%96%B0%E6%A0%87%E5%87%86%E5%BE%B7%E8%AF%AD%E5%BC%BA%E5%8C%96B1/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 A2 Kapitel 24 Bei uns und bei euch</title>
    <link href="https://tinsir888.github.io/posts/3298202c.html"/>
    <id>https://tinsir888.github.io/posts/3298202c.html</id>
    <published>2023-03-01T23:00:00.000Z</published>
    <updated>2023-03-12T04:41:10.058Z</updated>
    
    <content type="html"><![CDATA[<h1 id="24-1-benehmen-1-礼仪"><a class="markdownIt-Anchor" href="#24-1-benehmen-1-礼仪"></a> 24-1 Benehmen (1) 礼仪</h1><p>passieren 发生 - sein passiert</p><p>eingestellt 调整的，设定的 adj</p><p>wissen 知道 - haben gewusst</p><p>mitbringen 带来 - haben mitgebracht</p><p>Es macht Ihnen nitchts aus. 您对此不会有意见。</p><p>bellen 吠，吼 v</p><p>gerade 正在，刚刚，正好 adv</p><p>still 寂静的，宁静的 adj</p><h1 id="24-2-benehmen-2-礼仪"><a class="markdownIt-Anchor" href="#24-2-benehmen-2-礼仪"></a> 24-2 Benehmen (2) 礼仪</h1><p>in Ruhe 安静地，私下地</p><p>nahetreten + Dativ 与……接近</p><p>stören 打扰，干扰</p><p>intim 亲密的，男女关系的 adj</p><p>das Benehmen-/ 举止，行为</p><p>schlimm 糟糕的，恶劣的</p><p>die Verhaltensweise-n 行为方式</p><p>nennen 称呼，叫，举例 - haben genannt</p><p>der Gesprächspartner对话者，谈话的对方</p><p>ausreden 把话说完 可分v</p><p>sich ausreden 找借口</p><p>ausspucken 吐痰 可分v</p><p>bohren 钻，钻孔</p><p>das Gähnen-/ 哈欠</p><p>die Veranstaltung-en 活动，聚会</p><p>einschalten 打开，接通 可分v</p><p>rülpsen 打饱嗝</p><p>schmatzen 吃喝时出声</p><h1 id="24-3-präpositionen-支配三格的介词"><a class="markdownIt-Anchor" href="#24-3-präpositionen-支配三格的介词"></a> 24-3 Präpositionen 支配三格的介词</h1><h2 id="aus-nur-dativ"><a class="markdownIt-Anchor" href="#aus-nur-dativ"></a> aus + (nur) Dativ</h2><ol><li><p>从……里出来，从……出去（强调从一个相对封闭的空间出来）</p><p>Hans kommt jetzt aus dem Klassenzimmer.</p></li><li><p>表示出生地，国籍</p><p>Ich komme aus China.</p></li><li><p>表示来源</p><p>Die Tasche ist aus Italien. 这个包包来自意大利。</p></li></ol><h2 id="von-nur-dativ"><a class="markdownIt-Anchor" href="#von-nur-dativ"></a> von + (nur) Dativ</h2><ol><li><p>从某人那里来</p><p>Er kommt von seinem Freund.</p></li><li><p>从……出发点来（强调方向，不强调封闭空间）</p><p>Mein Vater kommt vom Bahnhof.</p></li><li><p>固定搭配</p><p>Mein Vater kommt sehr spät von der Arbeit.</p></li></ol><h2 id="nach-nur-dativ"><a class="markdownIt-Anchor" href="#nach-nur-dativ"></a> nach + (nur) Dativ</h2><p>到……，往……去</p><ol><li><p>与不带冠词的国名、地名连用</p><p>Ich fliege nach Deutschland.</p></li><li><p>与某些副词及表示东西南北方向的名词连用</p><p>Gehen Sie an der nächsten Kreuzung nach rechts. 您在下一个十字路口向右拐。</p></li></ol><h2 id="zu-nur-dativ"><a class="markdownIt-Anchor" href="#zu-nur-dativ"></a> zu + (nur) Dativ</h2><ol><li><p>去某地方</p><p>Herr Zhang geht zur Universität.</p></li><li><p>去某人处</p><p>Klaus geht zu Hans.</p></li><li><p>去办某事（表目的）</p><p>Herr Odin geht jeden Tag früh zur Arbeit.</p></li></ol><h2 id="bei-nur-dativ"><a class="markdownIt-Anchor" href="#bei-nur-dativ"></a> bei + (nur) Dativ</h2><p>在……那里</p><ol><li><p>在某人处</p><p>Der Student wohnt bei seinen Eltern.</p></li><li><p>在某公司、银行等单位工作</p><p>Monika arbeitet bei Siemens.</p></li></ol><h2 id="mit-nur-dativ"><a class="markdownIt-Anchor" href="#mit-nur-dativ"></a> mit + (nur) Dativ</h2><ol><li><p>和……一起，和……一块</p><p>Er hat jetzt eine wichtige Besprechung mit seinem Kollegen.</p></li><li><p>表示使用的工具，手段等</p><p>mit dem Flugzeug</p></li><li><p>添加……，带有……</p><p>Eis mit Schlagsahne 带奶油的冰淇淋</p></li></ol><h2 id="seit-nur-dativ"><a class="markdownIt-Anchor" href="#seit-nur-dativ"></a> seit + (nur) Dativ</h2><p>自从，从……以来（直到现在）</p><p>用一般现在时</p><p>Seit September lerne ich in der Grundstufe Deutsch. 德语初级班</p><h1 id="24-4-einladungen-1-作客邀请"><a class="markdownIt-Anchor" href="#24-4-einladungen-1-作客邀请"></a> 24-4 Einladungen (1) 作客邀请</h1><p>vorbereiten 准备，筹备 可分v</p><p>bevor 在……之前，引导时间从句</p><p>mit + Dativ + beginnen 开始做某事</p><p>der Alkohol-e 酒精饮料</p><p>gegen + Akkusativ + allergisch 对……过敏</p><p>irgendetwas 总有一些东西</p><p>die Tischdekoration-en 桌面布置</p><p>einen Tag vorher 一天前</p><p>feierlich 隆重的，庄严的 adj</p><p>der Grill-s 烤肉架</p><p>grillen 烧烤</p><h1 id="24-5-einladungen-2-作客邀请"><a class="markdownIt-Anchor" href="#24-5-einladungen-2-作客邀请"></a> 24-5 Einladungen (2) 作客邀请</h1><p>Platz nehmen = sich setzen 入座，坐下</p><p>der Gastgeber- 主人</p><p>sich mit … bedanken 用……致谢</p><p>der Blumenstrauß-&quot;e 花束</p><p>aufschneiden 切开 可分v</p><p>am Stück 一整块</p><h1 id="24-6-nebensätze-从句总结"><a class="markdownIt-Anchor" href="#24-6-nebensätze-从句总结"></a> 24-6 Nebensätze 从句总结</h1><h2 id="weil"><a class="markdownIt-Anchor" href="#weil"></a> weil</h2><p>原因从句：连词 weil 意为“因为”</p><p>从句与主句表达了一种原因和结果的逻辑关系。从句表原因，主句表结果</p><blockquote><p>z. B. Ron kauft Blumen, weil er zum Essen eingeladen ist.</p></blockquote><h2 id="wenn"><a class="markdownIt-Anchor" href="#wenn"></a> wenn</h2><p>条件从句：连词 wenn 意为“如果”</p><p>从句与主句一起表达一种条件和结果的逻辑关系，从句表达条件，主句表达结果。</p><blockquote><p>z. B. Wenn sie nicht bald kommen, (dann) wird das Essen kalt.</p></blockquote><p>时间从句：连词 wenn 表示“当……时候”</p><p>为了强调多次发生，可在 wenn 前加上 jedes mal 或 immer</p><blockquote><p>z. B. (Immer) Wenn Anne abends Wein trinkt, schläft sie schlecht.</p></blockquote><h2 id="als"><a class="markdownIt-Anchor" href="#als"></a> als</h2><p>时间从句：连词 als 表示“当……时候”</p><p>通常用于描写过去某一时间一次性发生的事，时态要求用过去时。其他情况一律用 wenn。</p><blockquote><p>z. B. Als ich kam, war niemand da.</p></blockquote><h2 id="bevor"><a class="markdownIt-Anchor" href="#bevor"></a> bevor</h2><p>时间从句：连词 bevor 表示“在……之前”</p><p>bevor 没有严格时态要求，但主从句时态要一致</p><blockquote><p>z. B. Bevor ich ins Bett gehe, lese ich noch etwas.</p></blockquote><h2 id="bis"><a class="markdownIt-Anchor" href="#bis"></a> bis</h2><p>时间从句：连词 bis 表示“直到……为止”</p><p>表示过去或将来某个时间点为止</p><blockquote><p>z. B. Sie wartet, bis es an der Tür klingelt.</p></blockquote><h2 id="dass"><a class="markdownIt-Anchor" href="#dass"></a> dass</h2><p>根据 dass 从句与主句的关系，可分为宾语从句和主语从句等。</p><p>连词 dass 只起到主从句的连接作用，本身无具体意义。</p><blockquote><p>z. B. Ich bin der Meinung, dass die Deutschen gar nicht so pünktlich sind. 我的观点是，德国人一点都不守时。</p></blockquote><h2 id="关系从句定语从句"><a class="markdownIt-Anchor" href="#关系从句定语从句"></a> 关系从句（定语从句）</h2><p>有关系代词带起的关系从句，一般紧跟主句中某一被修饰成或说明的名词后面。</p><p><strong>性数看前，格看后。</strong></p><blockquote><p>z. B. Fast alle Deutschen, die über 12 Jahre alt sind, haben heute ein Handy.</p><p>z. B. Der Mülleimer, den du benutzt hast, ist für Bio-Müll. 你使用的这个垃圾桶是丢有机垃圾的。</p></blockquote><p>der Mülleimer-s 垃圾桶</p><p>我写的诗 Vergnügungen（仿写）</p><p>Der erste Blick am Morgen</p><p>Der Computer</p><p>Die Computerspiele</p><p>Die Brettspiele</p><p>Bedingte Zulassung aus Universität Aarhus</p><p>Wunderbare klassische Musik hören</p><p>Etwas lecker essen</p><p>Duschen</p><h1 id="24-7-der-gute-ton-1-良好的行为"><a class="markdownIt-Anchor" href="#24-7-der-gute-ton-1-良好的行为"></a> 24-7 Der gute Ton (1) 良好的行为</h1><p>sich + Akkusativ + erkämpfen 奋斗，斗争</p><p>die Ebene-n 层面，平面</p><p>auf vielen Ebenen 在许多方面</p><p>verlangen 要求，渴望</p><p>der Respekt-/ 尊重</p><p>die Anerkennung-en 承认，认可</p><p>die Vorschrift-en 规章，准则</p><p>keine Vorschriften machen 不受约束</p><p>prinzipiell 原则上 adv</p><p>gelten 起作用，有效，适用</p><blockquote><p>现在时：giltst gilt</p><p>现在完成时：haben gegolten</p><p>过去时：ich galt</p></blockquote><p>zunächst = zuerst 首先 adv</p><p>anreden 称呼，称谓 可分v</p><p>die Anrede-n 称呼</p><p>Anders als… 与……不同</p><p>der Arbeitskollege-n 工作同事</p><p>üblich 普遍的，寻常的 adj</p><p>distanziert 有距离的 adj</p><p>das Duzen 使用 du 称呼，非尊称</p><p>besitzen 拥有，占有 不可分v</p><p>ausschalten 关机 可分v</p><p>das Handygespräch-e 手机交谈</p><h1 id="24-8-der-gute-ton-2-良好的行为"><a class="markdownIt-Anchor" href="#24-8-der-gute-ton-2-良好的行为"></a> 24-8 Der gute Ton (2) 良好的行为</h1><p>die Kleiderordnung-en 着装规定</p><p>akzeptabel 被接受的 adj</p><p>werden akzeptiert 被接受</p><p>Auch wenn + 从句 即便（让步从句）</p><p>ansprechen 攀谈，询问 可分v</p><p>werden angesprochen 被说</p><p>bewerten 评价，评分 不可分v</p><p>werden bewertet 被评价</p><p>negativ 消极的，负面的 adj</p><p>recyceln 回收，循环利用 v</p><p>werden recycelt 被动态，被回收（无主语被动态）</p><p>das Wegwerfen-/ 扔掉，丢弃</p><p>die Mülltrennung 垃圾分类</p><p>der Ton-&quot;e 声音，音色</p><p>der Container- 容器，集装箱</p><p>das Altpapier-/ 旧废纸</p><p>der Plastikabfall-&quot;e 塑料垃圾</p><p>der Mülleimer- 垃圾桶</p><p>der Speiserest-e 厨余</p><p>der Restmüll-/ 残余垃圾</p><p>das Plastik-/ 塑料</p><p>der Zwang-&quot;e 强迫，强制</p><p>das Recycling-/ 废品的回收利用</p><p>unhöflich 不礼貌的，失礼的</p><h1 id="24-9-fünf-meinungen-1-听力理解"><a class="markdownIt-Anchor" href="#24-9-fünf-meinungen-1-听力理解"></a> 24-9 Fünf Meinungen (1) 听力理解</h1><p>das Betriebsklima 企业内部氛围</p><p>sich fühlen + adj 感到</p><p>per du 使用 du 称呼</p><p>Im Prinzip = prinzipiell 原则上</p><p>rumlaufen 到处走 可分v</p><p>schuld 过失的，有责任的 adj</p><p>sich an Dativ stören 对……感到反感</p><p>blöd 愚蠢的，烦人的 adj</p><p>nach ihrer Kleidung zu beurteilen 带 zu 不定式</p><p>nach etwas beurteilen 根据……评价，判断 v</p><p>bloß 仅仅，只不过</p><p>was Besseres 更好的人/事</p><p>die Klamotten 衣服（复数）</p><p>in Ordnung sein 井井有条，没问题</p><p>der Fleck-e 污渍</p><p>das Loch-&quot;er 洞</p><h1 id="24-10-fünf-meinungen-2-听力理解"><a class="markdownIt-Anchor" href="#24-10-fünf-meinungen-2-听力理解"></a> 24-10 Fünf Meinungen (2) 听力理解</h1><p>wär’s = wäre es</p><p>wenn’s = wenn es</p><p>wahr 真实的，千真万确的 adj</p><p>halt 简直</p><p>zwar…, aber… 虽然……但是……</p><p>von… keine Rede sein 谈不上是</p><p>die Gleichberechtigung 权利平等</p><p>nämlich 因为 adv</p><p>die Frauensache 女人的事情</p><p>die Höflichkeit-en 客气，礼貌，恭敬</p><p>nerven 让心烦，让烦躁</p><p>furchtbar 极其糟糕的 adj</p><p>so… dass… 太……以至于……</p><p>Auf Wiederhören 再见（电话用户）</p><p>irritiert 愤怒的 adj</p><p>die Hemmung-en 节制，克制</p><p>böse 恶劣的</p><h1 id="24-11-fünf-meinungen-3-听力理解"><a class="markdownIt-Anchor" href="#24-11-fünf-meinungen-3-听力理解"></a> 24-11 Fünf Meinungen (3) 听力理解</h1><p>der Quatsch-/ 废话，胡说八道</p><p>sich kontrollieren 相互检查，督察</p><p>gegenseitig 相互的，双方的 adv</p><p>die Tonne-n 桶</p><p>schmeißen 丢弃 - haben geschmissen - schmiss</p><p>die Stimmung-en 心情，情绪</p><p>sich[D] denken 料到</p><p>die Verpackung-/ 包装</p><p>um… zu… 为了做某事，带 zu 不定式</p><p>entsorgen 清除垃圾</p><h2 id="übungen"><a class="markdownIt-Anchor" href="#übungen"></a> Übungen</h2><p>命令式/情态动词/第二虚拟式</p><ol><li>Trag bitte den Müll runter. Kannst du bitte den Müll runtertragen? Könntest du bitte den Müll runtertragen?</li><li>Macht bitte die Musik leiser. Könnt ihr bitte die Musik leiser machen? Könntet ihr bitte die Musik leiser machen?</li><li>Macht bitte das Fenster zu. Könnt ihr bitte das Fenster zumachen? Könntet ihr bitte das Fenster zumachen? 关窗</li><li>Trennen Sie bitte Ihren Müll. Können Sie bitte Ihren Müll trennen? Könnten Sie bitte Ihren Müll trennen?</li><li>Telefonieren Sie bitte draußen. Können Sie bitte draußen telefonieren? Könnten Sie bitte draußen telefonieren? 请去外边打电话</li><li>Macht bitte euer Handy aus. Könnt ihr bitte euer Handy ausmachen? Könntet ihr bitte euer Handy ausmachen?</li><li>Kauf bitte nach der Arbeit etwas zu essen ein. Kannst du bitte nach der Arbeit etwas zu essen einkaufen? Könntest du bitte nach der Arbeit etwas zu essen einkaufen?</li><li>Wascht bitte euer Geschirr ab. Könnt ihr bitte euer Geschirr abwaschen? Könntet du bitte euer Geschirr abwaschen? 把你们的餐具洗干净了</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;24-1-benehmen-1-礼仪&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#24-1-benehmen-1-礼仪&quot;&gt;&lt;/a&gt; 24-1 Benehmen (1) 礼仪&lt;/h1&gt;
&lt;p&gt;passieren 发生 - sein pa</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="柏林广场A2" scheme="https://tinsir888.github.io/tags/%E6%9F%8F%E6%9E%97%E5%B9%BF%E5%9C%BAA2/"/>
    
  </entry>
  
  <entry>
    <title>德语学习 A2 Kapitel 23 Politik und ich</title>
    <link href="https://tinsir888.github.io/posts/aea75bc0.html"/>
    <id>https://tinsir888.github.io/posts/aea75bc0.html</id>
    <published>2023-02-17T23:00:00.000Z</published>
    <updated>2023-03-01T07:18:46.998Z</updated>
    
    <content type="html"><![CDATA[<h1 id="23-1-politikwörter-词汇政治"><a class="markdownIt-Anchor" href="#23-1-politikwörter-词汇政治"></a> 23-1 Politikwörter 词汇：政治</h1><p>der Bundestag / das Parlament 德国联邦议院/德国国会</p><p>der Bund 联邦</p><p>die Bundesrepublik 联邦共和国</p><p>der Bundesadler- 德国之鹰</p><p>das Wappen- 徽章</p><p>das Wappentier-e 绘制在徽章上的动物</p><p>z. B. Der Bundesadler ist das Wappentier der Bundesrepublik.</p><p>die Bundesregierung 联邦政府</p><p>der/die Bundeskanzler*in 联邦总理</p><p>der/die Minister*in 部长</p><p>der/die Abgeordnete-n 议员，人大代表</p><p>die Partei-en 政党，党派</p><p>die Regierungspartei 执政党</p><p>die Opposition 反对党，在野党</p><p>der/die Bundespräsident*in 联邦总统</p><p>die Bundestagswahl 联邦选举</p><p>die Koalition 联合执政</p><p>das Bundesland-&quot;er 联邦州</p><p>die Landesregierung 州政府</p><p>der Landtag 联邦州议会</p><p>die Landtagswahl 联邦州选举</p><p>der Ministerpräsident*in 联邦州总理，州长</p><p>die Städte und Gemeinden 城市和乡镇</p><p>der Stadtrat 市议会</p><p>die Stadtratswahl 市议会选举</p><p>der Gemeinderat 乡镇议会</p><p>die Gemeinderatswahl 乡镇议会选举</p><p>der Bürgermeister*in-nen 市长</p><h1 id="23-2-politikquiz-1"><a class="markdownIt-Anchor" href="#23-2-politikquiz-1"></a> 23-2 Politikquiz (1)</h1><p>die Parlamente/Institutionen 国会，机构</p><p>die Geschichte-/ 历史</p><p>der Zweite Weltkrieg 第二次世界大战</p><p>trennen 分开，分离 过去式：trennte</p><p>die Mauer-n 城墙</p><p>z. B. die Große Mauer 长城</p><p>die Grenze-n 边境，边界</p><p>umgekehrt 相反的，颠倒的 adj</p><p>durch + 媒介手段，支配第四格</p><p>friedlich 和平的，太平的 adj</p><p>die Revolution-en 革命，变革</p><p>heutig 今天的，当今的</p><p>östlich 东方的，东部的</p><p>Tag der deutschen Einheit 德国国庆日</p><h1 id="23-3-politikquiz-2"><a class="markdownIt-Anchor" href="#23-3-politikquiz-2"></a> 23-3 Politikquiz (2)</h1><p>der Bundesstaat-en 联邦制国家</p><p>Reichstagsgebäude 帝国议会大厦</p><p>alle vier Jahre 每四年</p><p>der Senat-e 参议院</p><p>die Mehrheit-en 多数，过半数</p><p>das Staatsoberhaupt-s  国家元首</p><p>das Gesetz-e 法律，法令</p><p>politisch 政治的 adj</p><p>die Macht-&quot;e 权力，势力</p><p>der Nationalfeiertag 国庆节</p><h1 id="23-4-parteien-1"><a class="markdownIt-Anchor" href="#23-4-parteien-1"></a> 23-4 Parteien (1)</h1><h2 id="cducsu"><a class="markdownIt-Anchor" href="#cducsu"></a> CDU/CSU</h2><p>CDU 基民盟 aka 基督教民主联盟 Christlich Demokratische Union Deutschlands</p><p>CSU 基社党 aka 基督教社会党 Christlich Soziale Union</p><p>政治立场：保守派，基督教派；家庭与婚姻保障；欧洲统一</p><h2 id="die-grünen"><a class="markdownIt-Anchor" href="#die-grünen"></a> Die Grünen</h2><p>Die Grünen/Bündnis 90 绿党/联盟90</p><p>政治立场：环保主义；反对核能；反对中央集权；和平主义；支持移民</p><h2 id="spd"><a class="markdownIt-Anchor" href="#spd"></a> SPD</h2><p>aka Sozialdemokratische Partei Deutschlands</p><p>德国社会民主党</p><p>政治立场：社会福利；新自由主义；经济发展，公平分配</p><h2 id="die-linke"><a class="markdownIt-Anchor" href="#die-linke"></a> Die Linke</h2><p>左翼党</p><p>政治立场：民主社会主义；社会福利改革，以便适应经济全球化和欧洲一体化；重新分配社会财富；促进欧盟发展</p><h2 id="fdp"><a class="markdownIt-Anchor" href="#fdp"></a> FDP</h2><p>aka Freie Demokratische Partei 自由民主党</p><p>自由主义；经济自由主义；创造就业；简化税务；减少国家对公民自由和私人生活的干涉；加强学龄前教育；反对移民</p><h2 id="afd"><a class="markdownIt-Anchor" href="#afd"></a> AfD</h2><p>aka Alternative für Deutschland 德国的选择党</p><p>反对移民；民粹主义；取消欧元；反对欧盟</p><p>die Stimme-n 选票</p><p>sich für + Akkusativ + engagieren 投身于</p><p>sich für + Akkusativ + interessieren 对……感兴趣</p><p>die Atomenergie-n 原子能</p><p>die alternative Energie 新能源</p><p>für + Akkusativ eintreten 主张，支持</p><p>du trittst ein - er/sie/es tritt an - haben eingetreten</p><p>demokratisch 民主的</p><p>das Recht-e 权利</p><p>der Zuwanderer- 移民</p><p>für + Akkusativ achten 关注</p><p>die Gleichberechtigung 权利平等</p><h1 id="23-5-parteien-2"><a class="markdownIt-Anchor" href="#23-5-parteien-2"></a> 23-5 Parteien (2)</h1><p>die Arbeiterpartei-en 工人党</p><p>die Arbeiterbewegung-en 工人运动</p><p>die Gerechtigkeit-en 公平性，公正性</p><p>die Gewerkschaft-en 工会</p><p>konservativ 保守的，守旧的</p><p>christlich 基督教的 adj</p><p>orientiert 以……为向导</p><p>die Einheit-/ 统一，团结</p><p>der Schutz-/ 保护，守护</p><p>die Ehe-n 婚姻</p><p>liberal 自由的，自由主义的</p><p>die Wirtschaftspolitik 经济政策</p><p>sich um + Akkusativ + kümmern 关心，照顾</p><p>die Freiheit-/ 自由，独立</p><p>einzeln 各个的，每个的</p><p>niedrig 低的，矮的</p><p>die Steuer-n 赋税，税</p><p>die Staatsausgabe-n 国家支出</p><p>kämpfen 奋斗</p><p>der Abbau-ten 拆除，缩减</p><p>die Sozialleistung-en 社会福利</p><p>das Arbeitslosengeld 失业金</p><p>der Einfluss-&quot;e 影响，作用</p><p>die Wirtschaft-en 经济</p><p>im Westen 在西部</p><h1 id="23-6-parteien-3"><a class="markdownIt-Anchor" href="#23-6-parteien-3"></a> 23-6 Parteien (3)</h1><p>selbständig 独立自主的 adj</p><p>die Import-Export-Firma 进出口公司</p><p>Akkusativ in Ruhe lassen 放过，少管</p><p>z. B. Lass mich in Ruhe. 别理我</p><p>die Regel-n 规章，规定</p><p>verbrauchen 消耗，磨损</p><p>z. B. Der Staat verbraucht zu viel Geld.</p><p>der Bund-&quot;e 结盟</p><p>der Umwelt- und Naturschutz 环境自然保护</p><p>mit + Dativ + umgehen 与……打交道，相处 可分v</p><p>die Umwelt-en 环境</p><p>schützen 保护</p><blockquote><p>Wenn wir nicht besser mit der Natur umgehen und unsere Umwelt mehr schützen, dann haben wir sowieso keine Zukunft.</p></blockquote><p>realistisch 面对现实的，切实际的 adj</p><p>vor allem 特别是，主要是</p><h1 id="23-7-interessieren-动介搭配"><a class="markdownIt-Anchor" href="#23-7-interessieren-动介搭配"></a> 23-7 interessieren 动介搭配</h1><p>动介搭配：德语中许多动词可支配不同的介词，相当一部分动词后不能直接加宾语。<strong>必须搭配固定的介词才能成立。</strong></p><p>z. B.</p><p>Ich warte dich. (❌)</p><p>Ich warte auf dich. (✅)</p><h2 id="动介搭配的动词"><a class="markdownIt-Anchor" href="#动介搭配的动词"></a> 动介搭配的动词</h2><p>sich interessieren für + Akkusativ 对……感兴趣</p><blockquote><p>z. B. Ich interessiere mich nicht für Politik, aber für Sport.</p></blockquote><p>sich kümmern um + Akkusativ 关心，照顾……</p><blockquote><p>z. B. “Amnesty International” kümmert sich um politisch verfolgte Menschen.</p><p>verfolgt 被迫害的，被追逼的 adj</p></blockquote><p>sich engagieren für + Akkusativ 致力于，投身于</p><blockquote><p>z. B. Ich engagiere mich sehr für meine Umwelt. Umweltpolitik finde ich gut.</p><p>die Umweltpolitik 环境政策</p></blockquote><p>achten auf + Akkusativ 留心，注意</p><blockquote><p>z. B. Achten Sie auf Ihre Gesundheit. Krankheit ist teuer!</p></blockquote><p>denken an + Akkusativ 想着，惦记着</p><blockquote><p>z. B. Er denkt oft an seinen kranken Vater.</p></blockquote><p>kämpfen für/gegen + Akkusativ 为/反对……而奋斗</p><blockquote><p>Diese Partei kämpft für mehr Sozialleistungen.</p></blockquote><p>一些反身动词的固定动介搭配：</p><p>sich freuen über + Akkusativ 因……感到愉快</p><blockquote><p>Wir freuen uns über deinen langen Brief.</p></blockquote><p>sich ärgern über + Akkusativ 因……生气</p><blockquote><p>Wir ärgern uns immer über die Nachbarn.</p></blockquote><p>sich informieren über 了解，探听</p><blockquote><p>Wir informieren uns über Politik.</p></blockquote><p>Kontakte suchen 寻找社交</p><p>tolerieren 容忍，宽容</p><p>Rücksicht nehmen auf… 重视，着眼于</p><blockquote><p>Ich nehme Rücksicht auf die Umwelt.</p></blockquote><p>Schulen bauen 建立学校</p><p>Arbeitsplätze sichern 保障工作岗位</p><p>gegen Diskriminierung kämpfen 反对歧视</p><p>die Diskriminierung-en 鄙视，歧视</p><p>um Hilfe bitten 寻求帮助</p><blockquote><p>Bitten Sie bitte um Hilfe.</p></blockquote><p>Hilfe anbieten 提供帮助</p><p>nachfragen 询问</p><p>gegen Intoleranz kämpfen 反对狭隘思想</p><p>die Intoleranz-/ 不宽容，狭隘</p><p>Unterschiede akzeptieren 接受差异</p><p>der Unterschied-e 不同，差异</p><p>Gesetze machen 制定法律</p><p>über Probleme sprechen 讨论问题</p><p>Arbeitslose unterstützen 扶持失业者</p><p>der/die Arbeitslose-n 失业者</p><p>unterstützen 支持，扶持</p><p>wählen 选举</p><p>Probleme lösen 解决问题</p><p>Steuern bezahlen 纳税</p><p>Geld sinnvoll ausgeben 合理支出金钱</p><p>sinnvoll 有意义的，有用的</p><h1 id="23-8-politik-und-ich-1"><a class="markdownIt-Anchor" href="#23-8-politik-und-ich-1"></a> 23-8 Politik und ich (1)</h1><p>das + 形容词最高级（首字母大写，词尾加 e） 最……的事</p><p>z. B. das Beste 最棒的事 das Schwerste 最困难的事</p><p>bei sich selbst anfangen 从我做起</p><p>wofür 为什么 ≈ warum</p><p>der Politiker- 政治家</p><p>das Krankenhaus-&quot;er 医院</p><p>schließlich 毕竟，终究</p><h1 id="23-9-politik-und-ich-2"><a class="markdownIt-Anchor" href="#23-9-politik-und-ich-2"></a> 23-9 Politik und ich (2)</h1><p>der Gemeinderat-&quot;e 乡镇代表大会</p><p>gemeinsam 共同，一起</p><p>der Schulhof-&quot;e 校园</p><p>konkret 准确的，实际的 adj</p><p>fordern 要求，索求</p><p>irgendwie 不管用什么方式，无论如何</p><p>die Krankenversicherung-en 医疗保险</p><p>gut ausgebildet 受过良好教育的</p><p>ändern 改变 v</p><p>irgendwann 不知在什么时候 adv</p><p>nützen 有用，有益 v</p><p>betrachten 观察， 洞察 不可分v</p><h1 id="23-10-präteritum-1-过去时"><a class="markdownIt-Anchor" href="#23-10-präteritum-1-过去时"></a> 23-10 Präteritum (1) 过去时</h1><p>过去时：表示动作的发生与影响力都在过去，与现在完成时没有严格的区别。</p><p>唯一的区别：现在完成时多用于口语（现代交际生活）；过去式多用于书面语中（固定搭配）。</p><p>Er lebt in Chongqing und reist nach Klagenfurt. (Präsens/现在时)</p><p>Er lebte in Chongqing. 1987 reiste er nach Salzburg. (Präteritum/过去时)</p><p>过去式没有框架结构，没有助动词，只需将一般现在时的动词换成对应的过去式</p><p>比如动词 leben 的过去式变位：lebte - lebtest - lebte - lebten - lebtet - lebten - lebten</p><p>有几个规律：</p><ol><li>第一人称和第三人称单数变位相同</li><li>动词变成过去式，词干后要加 t</li><li>du - test / ihr -tet</li></ol><p>规则动词过去式的变位：词干 + t + 人称词尾</p><p>reisen: reiste - reistest - reiste - reisten - reistet - reisten</p><p>fragen: fragte - fragtest - fragte - fragten - fragtet - fragten</p><p>动词词干以 -t -d -ffn - chn - gn 结尾的动词，词干后先加 -e 再进行动词过去式变位，方便发音。</p><p>arbeiten: arbeitete - arbeitetest - arbeitete - arbeiteten - arbeitetet - arbeiteten</p><p>antworten: antwortete - antwortetest - antwortete - antworteten - antwortetet - antworteten</p><p>öffnen: öffnete - öffnetest - öffnete - öffneten - öffnetet - öffneten</p><p>不规则动词</p><p><strong>如果动词的过去分词变位不规则，那么该动词的过去式变位也是不规则的。需要单独记忆不规则词干⚠️</strong></p><p>kommen: kam - kamst - kam - kamen - kamt - kamen</p><p>geben: gab - gabst - gab - gaben - gabt - gaben</p><p>denken: dachte - dachtest - dachte - dachten - dachtet - dachten</p><h1 id="23-11-präteritum-2-过去时"><a class="markdownIt-Anchor" href="#23-11-präteritum-2-过去时"></a> 23-11 Präteritum (2) 过去时</h1><p>die Diskriminierung-en 歧视，鄙视</p><p>wütend 发怒的，暴怒的</p><p>der Antrag-&quot;e 申请，提案 stellen einen Antrag auf + Akkusativ 对……提出申请</p><p>das Kindergeld 子女补贴费</p><p>gehen: ging - gingst - ging - gingen - gingt - gingen</p><p>wissen: wusste - wusstest - wusste - wussten - wusstet - wussten</p><p>helfen: half - halfst - half - halfen - halft - halfen</p><p>sprechen: sprach - sprachst - sprach - sprachen - spracht - sprachen</p><p>die Anmeldung-en 注册，报到</p><p>bearbeiten 处理，加工</p><p>werden: wurde - wurdest - wurde - wurden - wurdet - wurden</p><p>das Wohngeld 住房补贴</p><p>konkret 确切的 adj</p><p>die Beamtin-nen 女公务员</p><p>genehmigen 批准</p><h1 id="23-12-ehrenamt-1-名誉职位"><a class="markdownIt-Anchor" href="#23-12-ehrenamt-1-名誉职位"></a> 23-12 Ehrenamt (1) 名誉职位</h1><p>der Brückenpreis 桥梁奖</p><p>die Brücke-n 桥梁</p><p>verleihen 出借，办法 - haben verliehen - verlieh</p><p>ehren 表彰，嘉奖</p><p>das Miteinander 合作，共存</p><p>fördern 促进</p><p>das Zusammenleben- 共同生活，同居</p><p>europäisch 欧洲的 adj</p><p>die Integration-en 融入</p><p>die Herkunft-&quot;e 来源，来历</p><p>der Preisträger- 获奖者</p><p>jeweils 每个，各 adv</p><h1 id="23-13-ehrenamt-2-名誉职位"><a class="markdownIt-Anchor" href="#23-13-ehrenamt-2-名誉职位"></a> 23-13 Ehrenamt (2) 名誉职位</h1><p>bewerben 申请 现在时：bewirbst bewirbt 过去分词：haben beworben 过去式：bewarb</p><p>der Gewinner- 获胜者，获奖者</p><p>die Jury-s 评审委员会</p><p>die Preisverleihung-en 颁奖</p><p>der Ministerpräsident-en 州长</p><p>das Ehrenamt-&quot;er 名誉职位</p><p>in den Mittelpunkt stellen 置于中心点，专注于</p><p>der Mittelpunkt-e 中心点，核心</p><p>die Gesellschaft-en 社会，社交</p><p>bauen 建立，建造</p><p>zusammenhalten 齐心协力，维系（可分v） 现在时：hältst hält 过去分词：zusammengehalten 过去式：heilt zusammen</p><p>das Forum-Foren 论坛</p><p>erhalten 获得，获取 （不可分v） 现在时：erhältst erhält 过去分词：erhalten 过去式：erhielt</p><p>der Einsatz-&quot;e 投入</p><p>der Migrant-en 移民</p><h1 id="23-14-ehrenamt-3-名誉职位"><a class="markdownIt-Anchor" href="#23-14-ehrenamt-3-名誉职位"></a> 23-14 Ehrenamt (3) 名誉职位</h1><p>der Vortrag-&quot;e 演讲</p><p>die Lesung-en 阅读</p><p>die Veranstaltung-en 活动，聚会</p><p>interkulturell 跨文化的 adj</p><p>solidarisch 团结的 adj</p><p>gewaltfrei 非暴力的，不使用武力的 adj</p><p>respektvoll 充满敬意的，恭敬的 adj</p><p>das Fest der Nationen 民族节</p><p>jedes Jahr 每年</p><p>Tausende Menschen 数千人</p><p>Hunderte Menschen 数百人</p><p>die Bürgerstiftung-en 公民基金会</p><p>ehrenamtlich 名誉的，义务的</p><p>mit einer großen Zahl von 大量的</p><p>sich für… einsetzen 投入到</p><p>die Ausbildungschance-n 教育机会</p><p>der Hauptschüler- 普通中学学生</p><p>die Berufsberatung-en 就业咨询，就业指导</p><p>das Berufspraktikum-ka 就业实习</p><h1 id="23-15-ehrenamt-4-名誉职位"><a class="markdownIt-Anchor" href="#23-15-ehrenamt-4-名誉职位"></a> 23-15 Ehrenamt (4) 名誉职位</h1><p>viel Geld verdienen 挣许多钱</p><p>in der Freizeit 帮助</p><p>der Einzelmensch-en 个人</p><p>die Aggression-en 侵略</p><h1 id="23-16-ehrenamt-5-名誉职位"><a class="markdownIt-Anchor" href="#23-16-ehrenamt-5-名誉职位"></a> 23-16 Ehrenamt (5) 名誉职位</h1><p>ehrenamtlich 名誉的，义务的 adj</p><p>die Helferin-nen 女帮手，女助理</p><p>die Patient-en 病人</p><p>die Patientin-nen 女病人</p><p>das Türkisch-/ 土耳其语</p><p>das Arabisch-/ 阿拉伯语</p><p>die Tätigkeit-en 日常工作</p><p>die Straßenbahnfahrkarte-n 有轨电车票</p><p>DLRG = Deutsche Lebens-Rettung-Gesellschaft 德国生命救援会</p><p>das Schwimmbad-&quot;er 游泳池</p><p>der Badesee-n 用于游泳的湖</p><p>der Bademeister- 职业游泳救护员</p><p>retten 拯救，救命</p><p>am Ertrinken sein 溺水</p><p>was Sinnvolles 一些有意义的事情</p><h1 id="23-17-ehrenamt-6-名誉职位"><a class="markdownIt-Anchor" href="#23-17-ehrenamt-6-名誉职位"></a> 23-17 Ehrenamt (6) 名誉职位</h1><p>der Tischtennistrainer- 乒乓球教练</p><p>seitdem 自那以后 adv</p><p>die Jugend-/（集合名词）青年人</p><p>der Betreuer- 监护人，照管者</p><p>immer weniger 越来越少的</p><p>abbauen 拆除，裁减（可分v）</p><p>der Sozialstaat-en 社会福利国家</p><p>das Altenheim-e 敬老院，养老院</p><p>das Schlimmste 最糟糕的事情</p><p>verhindern 避免，组织（不可分v）</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;23-1-politikwörter-词汇政治&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#23-1-politikwörter-词汇政治&quot;&gt;&lt;/a&gt; 23-1 Politikwörter 词汇：政治&lt;/h1&gt;
&lt;p&gt;der Bund</summary>
      
    
    
    
    <category term="德语学习笔记" scheme="https://tinsir888.github.io/categories/%E5%BE%B7%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Deutsch" scheme="https://tinsir888.github.io/tags/Deutsch/"/>
    
    <category term="柏林广场A2" scheme="https://tinsir888.github.io/tags/%E6%9F%8F%E6%9E%97%E5%B9%BF%E5%9C%BAA2/"/>
    
  </entry>
  
  <entry>
    <title>动手强化学习 第五章 近似逼近方法</title>
    <link href="https://tinsir888.github.io/posts/bf2e452b.html"/>
    <id>https://tinsir888.github.io/posts/bf2e452b.html</id>
    <published>2023-02-10T23:00:00.000Z</published>
    <updated>2023-05-05T14:04:51.311Z</updated>
    
    <content type="html"><![CDATA[<h1 id="参数化值函数近似"><a class="markdownIt-Anchor" href="#参数化值函数近似"></a> 参数化值函数近似</h1><h2 id="针对之前的模型"><a class="markdownIt-Anchor" href="#针对之前的模型"></a> 针对之前的模型</h2><p>都是基于创建一个查询表，再表中维护状态值函数或状态-动作值函数。</p><p>当处理大规模的 MDP 时</p><ul><li>状态/状态-动作空间非常大</li><li>连续的状态或动作空间</li></ul><p>维护起来代价太大</p><h3 id="处理大规模-mdp-的解决方法"><a class="markdownIt-Anchor" href="#处理大规模-mdp-的解决方法"></a> 处理大规模 MDP 的解决方法</h3><ul><li>对状态/动作进行离散化或粪桶</li><li>构建参数化的值函数估计</li></ul><h2 id="对状态动作进行离散化"><a class="markdownIt-Anchor" href="#对状态动作进行离散化"></a> 对状态/动作进行离散化</h2><p>例如：在一个二维平面空间中，使用网格对状态空间进行切分，从而转化成离散值</p><p>对于一个大型的 MDP，可以对状态值进一步分桶以进行采样聚合</p><h3 id="优点"><a class="markdownIt-Anchor" href="#优点"></a> 优点</h3><ul><li>操作简洁直观</li><li>高效</li><li>在处理许多问题时有较好的效果</li></ul><h3 id="缺点"><a class="markdownIt-Anchor" href="#缺点"></a> 缺点</h3><ul><li>过于简单表示价值函数 V</li><li>可能为每个离散区间假设一个常数值</li><li>维度灾难</li></ul><h2 id="参数化价值函数"><a class="markdownIt-Anchor" href="#参数化价值函数"></a> 参数化价值函数</h2><h3 id="参数化值函数近似-2"><a class="markdownIt-Anchor" href="#参数化值函数近似-2"></a> 参数化值函数近似</h3><ul><li><p>构建参数化（可学习的）函数来近似值函数</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>≃</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V_\theta(s)\simeq V^\pi(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>≃</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)\simeq Q^\pi(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><ul><li>θ 时近似函数的参数，可通过 RL 进行更新</li><li>参数化的方法将现有可见的状态泛化到没有见过的状态上</li></ul></li></ul><h3 id="值函数近似的主要形式"><a class="markdownIt-Anchor" href="#值函数近似的主要形式"></a> 值函数近似的主要形式</h3><ul><li>一些函数近似<ul><li>线性模型</li><li>神经网络</li><li>决策树</li><li>最近邻</li><li>傅里叶/小波基底</li></ul></li><li>可微函数<ul><li>线性模型</li><li>神经网络</li></ul></li><li>希望模型适合在非静态的、非独立同分布的数据上训练</li></ul><h3 id="基于随机梯度下降-sgd-的值函数近似"><a class="markdownIt-Anchor" href="#基于随机梯度下降-sgd-的值函数近似"></a> 基于随机梯度下降 SGD 的值函数近似</h3><ul><li><p>目标：找到参数向量 θ 最小化值函数近似值与真实值之间的均方误差</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mi>π</mi></msub><mo stretchy="false">[</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_\pi[\frac{1}{2}(V^\pi(s)-V_\theta(s))^2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p></li><li><p>误差减小的梯度方向</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mi>π</mi></msub><mo stretchy="false">[</mo><mo stretchy="false">(</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">-\frac{\partial J(\theta)}{\partial \theta}=\mathbb E_\pi[(V^\pi(s)-V_\theta(s))\frac{\partial V_\theta(s)}{\partial \theta}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.22222em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span></span></span></span></p></li><li><p>单次采样随机梯度下降</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi><mo>←</mo><mi>θ</mi><mo>−</mo><mi>α</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\theta\leftarrow\theta-\alpha\frac{\partial J(\theta)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>θ</mi><mo>+</mo><mi>α</mi><mo stretchy="false">(</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">=\theta+\alpha(V^\pi(s)-V_\theta(s))\frac{\partial V_\theta(s)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.22222em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></li></ul><h3 id="特征化状态"><a class="markdownIt-Anchor" href="#特征化状态"></a> 特征化状态</h3><p>用一个特征向量表示状态</p><h1 id="价值函数近似算法"><a class="markdownIt-Anchor" href="#价值函数近似算法"></a> 价值函数近似算法</h1><h2 id="状态值函数近似"><a class="markdownIt-Anchor" href="#状态值函数近似"></a> 状态值函数近似</h2><p>用特征的线性组合表示价值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>θ</mi><mi>T</mi></msup><mi>x</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V_\theta(s)=\theta^Tx(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p>目标函数是参数的 θ 的二次函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mi>π</mi></msub><mo stretchy="false">[</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>θ</mi><mi>T</mi></msup><mi>x</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_\pi[\frac{1}{2}(V^\pi(s)-\theta^Tx(s))^2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>因此随机梯度下降能够收敛到全局最优解上</p><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi><mo>←</mo><mi>θ</mi><mo>−</mo><mi>α</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\theta\leftarrow\theta-\alpha\frac{\partial J(\theta)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>θ</mi><mo>+</mo><mi>α</mi><mo stretchy="false">(</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>V</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mi>x</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">=\theta+\alpha(V^\pi(s)-V_\theta(s))x(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p>α 是步长，中间的差值是预测误差，x(s) 是特征值</p></blockquote><p>使用蒙特卡洛状态值函数近似，蒙特卡洛预测至少能收敛到一个局部最优解</p><p>使用时序差分值函数近似</p><h2 id="状态-动作值函数近似"><a class="markdownIt-Anchor" href="#状态-动作值函数近似"></a> 状态 - 动作值函数近似</h2><p>对动作 - 状态值函数进行近似 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>≃</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)\simeq Q^\pi(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><p>最小均方误差 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mi>π</mi></msub><mo stretchy="false">[</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_\pi[\frac{1}{2}(Q^\pi(s,a)-Q_\theta(s,a))^2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>在单个样本上进行随机梯度下降</p><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi><mo>←</mo><mi>θ</mi><mo>−</mo><mi>α</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\theta\leftarrow\theta-\alpha\frac{\partial J(\theta)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>θ</mi><mo>+</mo><mi>α</mi><mo stretchy="false">(</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">=\theta+\alpha(Q^\pi(s,a)-Q_\theta(s,a))\frac{\partial Q_\theta(s,a)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></blockquote><h3 id="线性状态-动作值函数近似"><a class="markdownIt-Anchor" href="#线性状态-动作值函数近似"></a> 线性状态 - 动作值函数近似</h3><p>使用特征向量表示状态 - 动作对</p><p>线性情况下，参数化 Q 函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>θ</mi><mi>T</mi></msup><mi>x</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\theta(s,a)=\theta^Tx(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></p><p>利用随机梯度下降更新</p><h3 id="时序差分状态-动作值函数近似"><a class="markdownIt-Anchor" href="#时序差分状态-动作值函数近似"></a> 时序差分状态 - 动作值函数近似</h3><p>对于蒙特卡洛学习，目标是累计奖励</p><p>对于时序差分，目标是当前奖励和未来预测奖励之和</p><h1 id="策略梯度"><a class="markdownIt-Anchor" href="#策略梯度"></a> 策略梯度</h1><h2 id="参数化策略"><a class="markdownIt-Anchor" href="#参数化策略"></a> 参数化策略</h2><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span>，策略可以是确定的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a=\pi_\theta(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span>，也可以是随机的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)=P(a|s;\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span>。</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span> 是策略的参数</li><li>将可见的已知状态泛化到位置的状态上</li></ul><h2 id="基于策略的强化学习"><a class="markdownIt-Anchor" href="#基于策略的强化学习"></a> 基于策略的强化学习</h2><p>优点</p><ul><li>更好的收敛性质</li><li>高维度或连续动作空间中更有效</li><li>能学习出随机策略</li></ul><p>缺点</p><ul><li>通常或收敛到局部最优</li><li>评估一个策略通常不够高效率并且具有较大的方差</li></ul><h1 id="策略梯度-2"><a class="markdownIt-Anchor" href="#策略梯度-2"></a> 策略梯度</h1><p>对于随机策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo separator="true">;</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)=P(a|s;\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></p><p>降低低价值/奖励动作出现的概率，提高高价值/奖励动作出现的概率。</p><h2 id="单步马尔可夫决策过程的策略梯度"><a class="markdownIt-Anchor" href="#单步马尔可夫决策过程的策略梯度"></a> 单步马尔可夫决策过程的策略梯度</h2><p>考虑一个但不马尔可夫决策过程</p><ul><li>起始状态 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>∼</mo><mi>d</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">s\sim d(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></li><li>决策过程在进一步决策后结束，获得奖励值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">r_{sa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li></ul><p>策略的价值期望</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><msub><mi>π</mi><mi>θ</mi></msub></msub><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mo>∑</mo><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow></msub><mi>d</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msub><mo>∑</mo><mrow><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></msub><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_{\pi_\theta}[r]=\sum_{s\in S}d(s)\sum_{a\in A}\pi_\theta(a|s)r_{sa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.00586em;vertical-align:-0.25586em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25586em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.07708em;vertical-align:-0.32708000000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mo>∑</mo><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow></msub><mi>d</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msub><mo>∑</mo><mrow><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\frac{\partial J(\theta)}{\partial\theta}=\sum_{s\in S}d(s)\sum_{a\in A}\frac{\partial\pi_\theta(a|s)}{\partial\theta}r_{sa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><h2 id="trick-似然比-likelihood-ratio"><a class="markdownIt-Anchor" href="#trick-似然比-likelihood-ratio"></a> trick: 似然比 Likelihood Ratio</h2><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mfrac><mn>1</mn><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow></mfrac><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial\pi_\theta(a|s)}{\partial\theta}=\pi_\theta(a|s)\frac{1}{\pi_\theta(a|s)}\frac{\partial\pi_\theta(a|s)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">=\pi_\theta(a|s)\frac{\partial\log\pi_\theta(a|s)}{\partial\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>因此，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mo>∑</mo><mrow><mi>s</mi><mo>∈</mo><mi>S</mi></mrow></msub><mi>d</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><msub><mo>∑</mo><mrow><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></msub><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\frac{\partial J(\theta)}{\partial\theta}=\sum_{s\in S}d(s)\sum_{a\in A}\pi_\theta(a|s)\frac{\partial\log\pi_\theta(a|s)}{\partial\theta}r_{sa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17862099999999992em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32708000000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><msub><mi>π</mi><mi>θ</mi></msub></msub><mo stretchy="false">[</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=\mathbb E_{\pi_\theta}[\frac{\partial\log\pi_\theta(a|s)}{\partial\theta}r_{sa}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25586em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p>这一结果可以通过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span> 中采样状态 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span> 和从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">\pi_\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 中采样动作 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> 来近似估计</p><h2 id="策略梯度定理"><a class="markdownIt-Anchor" href="#策略梯度定理"></a> 策略梯度定理</h2><p>将似然比推导过程泛化到马尔可夫决策过程</p><p>长期价值函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q^{\pi_\theta}(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span> 替换 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mrow><mi>s</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">r_{sa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>起始状态目标函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">J_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，平均奖励目标函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mrow><mi>a</mi><mi>v</mi><mi>R</mi></mrow></msub></mrow><annotation encoding="application/x-tex">J_{avR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，平均价值目标函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mrow><mi>a</mi><mi>v</mi><mi>V</mi></mrow></msub></mrow><annotation encoding="application/x-tex">J_{avV}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>定理：对任意可微的策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span>，任意策略的目标函数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo>=</mo><msub><mi>J</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">J=J_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mrow><mi>a</mi><mi>v</mi><mi>R</mi></mrow></msub></mrow><annotation encoding="application/x-tex">J_{avR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>J</mi><mrow><mi>a</mi><mi>v</mi><mi>V</mi></mrow></msub></mrow><annotation encoding="application/x-tex">J_{avV}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.09618em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，其策略梯度为：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><msub><mi>π</mi><mi>θ</mi></msub></msub><mo stretchy="false">[</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msup><mi>Q</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\frac{\partial J(\theta)}{\partial\theta}=\mathbb E_{\pi_\theta}[\frac{\partial\log\pi_\theta(a|s)}{\partial\theta}Q^{\pi_\theta}(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25586em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><h2 id="蒙特卡洛策略梯度reinforce"><a class="markdownIt-Anchor" href="#蒙特卡洛策略梯度reinforce"></a> 蒙特卡洛策略梯度（REINFORCE）</h2><p>随机梯度上升</p><p>策略梯度定理</p><p>利用累计奖励值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">G_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 作为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><msub><mi>π</mi><mi>θ</mi></msub></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q^{\pi_\theta}(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span> 的无偏采样。</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><msub><mi>θ</mi><mi>t</mi></msub><mo>=</mo><mi>α</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msub><mi>a</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>s</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msub><mi>G</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\Delta\theta_t=\alpha\frac{\partial\log\pi_\theta(a_t|s_t)}{\partial\theta}G_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.29634285714285713em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><h2 id="softmax-随机策略"><a class="markdownIt-Anchor" href="#softmax-随机策略"></a> Softmax 随机策略</h2><p>非常常用的随机策略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><msup><mi>e</mi><mrow><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow></msup><mrow><msub><mo>∑</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msub><msup><mi>e</mi><mrow><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)=\frac{e^{f_\theta(s,a)}}{\sum_{a&#x27;}e^{f_\theta(s,a&#x27;)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.780732em;vertical-align:-0.710032em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0707em;"><span style="top:-2.514975em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.28539000000000003em;"><span style="top:-2.2853899999999996em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32143857142857146em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9643214285714286em;"><span style="top:-2.9643214285714286em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.6068285714285713em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:-0.10764em;margin-right:0.1em;"><span class="pstrut" style="height:2.69444em;"></span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.34963999999999995em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8495600000000001em;"><span style="top:-2.84956em;margin-right:0.1em;"><span class="pstrut" style="height:2.55556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9667142857142857em;"><span style="top:-2.9667142857142856em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5357142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:-0.10764em;margin-right:0.1em;"><span class="pstrut" style="height:2.69444em;"></span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.34963999999999995em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.710032em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_\theta(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span> 是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span> 参数化的状态-动作对得分函数，可预定义。</p><p>其对数似然梯度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>−</mo><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\frac{\partial\log f_\theta(s,a)}{\partial\theta}-\mathbb E_{a&#x27;\sim\pi_\theta(a&#x27;|s)}[\frac{\partial f_\theta(s,a&#x27;)}{\partial\theta}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.10764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.41968em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.06448em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.10764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span></span></span></span></p><h1 id="actor-critic"><a class="markdownIt-Anchor" href="#actor-critic"></a> Actor-Critic</h1><p>同时基于价值函数和策略梯度的算法</p><h2 id="reinforce存在的问题"><a class="markdownIt-Anchor" href="#reinforce存在的问题"></a> REINFORCE存在的问题</h2><ol><li><p>基于片段式数据的任务</p><p>通常情况下，任务需要终止状态，REINFORCE才能直接计算累计折扣黄历</p></li><li><p>低数据利用效率</p><p>需要大量训练数据</p></li><li><p>高训练方差（重要缺陷）</p><p>从单个或多个片段中采样得到的值函数具有很高的方差</p></li></ol><h2 id="ac算法的引入"><a class="markdownIt-Anchor" href="#ac算法的引入"></a> AC算法的引入</h2><p>为什么不建立一个可训练的值函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>ϕ</mi></msub></mrow><annotation encoding="application/x-tex">Q_\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>完成<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span>的评估过程</p><p>演员 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_\theta(a|s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span> 采取动作使评论家满意的策略</p><ul><li>学会采取是评论家满意的动作</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>s</mi><mo>∼</mo><mi>p</mi><mo separator="true">,</mo><msub><mi>π</mi><mi>θ</mi></msub></mrow></msub><mo stretchy="false">[</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><msub><mi>Q</mi><mi mathvariant="normal">Φ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">J(\theta)=\mathbb E_{s\sim p,\pi_\theta}[\pi_\theta(a|s)Q_\Phi(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Φ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>J</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><msub><mi>π</mi><mi>θ</mi></msub></msub><mo stretchy="false">[</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>log</mi><mo>⁡</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><mi>θ</mi></mrow></mfrac><msub><mi>Q</mi><mi mathvariant="normal">Φ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\frac{\partial J(\theta)}{\partial\theta}=\mathbb E_{\pi_\theta}[\frac{\partial\log\pi_\theta(a|s)}{\partial\theta}Q_\Phi(s,a)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.09618em;">J</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139199999999997em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25586em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">a</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Φ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></li></ul><p>评论家 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>ϕ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q_\phi(s,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span> 学会准确估计演员策略所采取动作价值的值函数</p><ul><li>学会估计当前演员策略的动作价值</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mi>ϕ</mi></msub><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>≃</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msub><mi>Q</mi><mi>ϕ</mi></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q_\phi(s,a)\simeq r(s,a)+\gamma\mathbb E_{s&#x27;\sim p(s&#x27;|s),a&#x27;\sim\pi_\theta(a&#x27;|s&#x27;)}[Q_\phi(s&#x27;,a&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></li></ul><h2 id="a2c-advantageous-actor-critic"><a class="markdownIt-Anchor" href="#a2c-advantageous-actor-critic"></a> A2C, Advantageous Actor-Critic</h2><p>通过减去一个基线函数来标准化评论家的打分，有点normalize的意思</p><ul><li>更多信息指导：降低较差动作概率，提高较优动作概率</li><li>进一步降低方差</li></ul><p>优势函数 Advantage Function</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^\pi(s,a)=Q^\pi(s,a)-V^\pi(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></p><p>状态-动作值和状态值函数</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Q</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><msub><mi>π</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msub><mi>Q</mi><mi>ϕ</mi></msub><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Q^\pi(s,a)=r(s,a)+\gamma\mathbb E_{s&#x27;\sim p(s&#x27;|s),a&#x27;\sim\pi_\theta(a&#x27;|s&#x27;)}[Q_\phi(s&#x27;,a&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">=r(s,a)+\gamma\mathbb E_{s&#x27;\sim p(s&#x27;|s)}[V^\pi(s&#x27;)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>因此，</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><msub><mi mathvariant="double-struck">E</mi><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>∼</mo><mi>p</mi><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">∣</mi><mi>s</mi><mo stretchy="false">)</mo></mrow></msub><mo stretchy="false">[</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A^\pi(s,a)=r(s,a)+\gamma\mathbb E_{s&#x27;\sim p(s&#x27;|s)}[V^\pi(s&#x27;)-V^\pi(s)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.107092em;vertical-align:-0.3551999999999999em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≃</mo><mi>r</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo>+</mo><mi>γ</mi><mo stretchy="false">[</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo><mo>−</mo><msup><mi>V</mi><mi>π</mi></msup><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\simeq r(s,a)+\gamma[V^\pi(s&#x27;)-V^\pi(s)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mrel">≃</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;参数化值函数近似&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#参数化值函数近似&quot;&gt;&lt;/a&gt; 参数化值函数近似&lt;/h1&gt;
&lt;h2 id=&quot;针对之前的模型&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#针对之前</summary>
      
    
    
    
    <category term="动手学习强化学习课程笔记" scheme="https://tinsir888.github.io/categories/%E5%8A%A8%E6%89%8B%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="https://tinsir888.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="强化学习" scheme="https://tinsir888.github.io/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
</feed>
